(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();var Wu={exports:{}},Zn={};var Np;function Ry(){if(Np)return Zn;Np=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(l,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var p in c)p!=="key"&&(u[p]=c[p])}else u=c;return c=u.ref,{$$typeof:s,type:l,key:h,ref:c!==void 0?c:null,props:u}}return Zn.Fragment=a,Zn.jsx=n,Zn.jsxs=n,Zn}var Sp;function Oy(){return Sp||(Sp=1,Wu.exports=Ry()),Wu.exports}var o=Oy(),ed={exports:{}},ce={};var Ep;function Dy(){if(Ep)return ce;Ep=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function k(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,j={};function _(A,P,J){this.props=A,this.context=P,this.refs=j,this.updater=J||S}_.prototype.isReactComponent={},_.prototype.setState=function(A,P){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,P,"setState")},_.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function O(){}O.prototype=_.prototype;function D(A,P,J){this.props=A,this.context=P,this.refs=j,this.updater=J||S}var V=D.prototype=new O;V.constructor=D,T(V,_.prototype),V.isPureReactComponent=!0;var G=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function he(A,P,J){var Z=J.ref;return{$$typeof:s,type:A,key:P,ref:Z!==void 0?Z:null,props:J}}function me(A,P){return he(A.type,P,A.props)}function et(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function Le(A){var P={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return P[J]})}var tt=/\/+/g;function ft(A,P){return typeof A=="object"&&A!==null&&A.key!=null?Le(""+A.key):P.toString(36)}function at(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Q,Q):(A.status="pending",A.then(function(P){A.status==="pending"&&(A.status="fulfilled",A.value=P)},function(P){A.status==="pending"&&(A.status="rejected",A.reason=P)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function $(A,P,J,Z,ue){var pe=typeof A;(pe==="undefined"||pe==="boolean")&&(A=null);var ke=!1;if(A===null)ke=!0;else switch(pe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(A.$$typeof){case s:case a:ke=!0;break;case b:return ke=A._init,$(ke(A._payload),P,J,Z,ue)}}if(ke)return ue=ue(A),ke=Z===""?"."+ft(A,0):Z,G(ue)?(J="",ke!=null&&(J=ke.replace(tt,"$&/")+"/"),$(ue,P,J,"",function(rn){return rn})):ue!=null&&(et(ue)&&(ue=me(ue,J+(ue.key==null||A&&A.key===ue.key?"":(""+ue.key).replace(tt,"$&/")+"/")+ke)),P.push(ue)),1;ke=0;var mt=Z===""?".":Z+":";if(G(A))for(var He=0;He<A.length;He++)Z=A[He],pe=mt+ft(Z,He),ke+=$(Z,P,J,pe,ue);else if(He=k(A),typeof He=="function")for(A=He.call(A),He=0;!(Z=A.next()).done;)Z=Z.value,pe=mt+ft(Z,He++),ke+=$(Z,P,J,pe,ue);else if(pe==="object"){if(typeof A.then=="function")return $(at(A),P,J,Z,ue);throw P=String(A),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ke}function I(A,P,J){if(A==null)return A;var Z=[],ue=0;return $(A,Z,"","",function(pe){return P.call(J,pe,ue++)}),Z}function re(A){if(A._status===-1){var P=A._result;P=P(),P.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=P)}if(A._status===1)return A._result.default;throw A._result}var te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ie={map:I,forEach:function(A,P,J){I(A,function(){P.apply(this,arguments)},J)},count:function(A){var P=0;return I(A,function(){P++}),P},toArray:function(A){return I(A,function(P){return P})||[]},only:function(A){if(!et(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ce.Activity=y,ce.Children=ie,ce.Component=_,ce.Fragment=n,ce.Profiler=c,ce.PureComponent=D,ce.StrictMode=l,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ce.__COMPILER_RUNTIME={__proto__:null,c:function(A){return K.H.useMemoCache(A)}},ce.cache=function(A){return function(){return A.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(A,P,J){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=T({},A.props),ue=A.key;if(P!=null)for(pe in P.key!==void 0&&(ue=""+P.key),P)!F.call(P,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&P.ref===void 0||(Z[pe]=P[pe]);var pe=arguments.length-2;if(pe===1)Z.children=J;else if(1<pe){for(var ke=Array(pe),mt=0;mt<pe;mt++)ke[mt]=arguments[mt+2];Z.children=ke}return he(A.type,ue,Z)},ce.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},ce.createElement=function(A,P,J){var Z,ue={},pe=null;if(P!=null)for(Z in P.key!==void 0&&(pe=""+P.key),P)F.call(P,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ue[Z]=P[Z]);var ke=arguments.length-2;if(ke===1)ue.children=J;else if(1<ke){for(var mt=Array(ke),He=0;He<ke;He++)mt[He]=arguments[He+2];ue.children=mt}if(A&&A.defaultProps)for(Z in ke=A.defaultProps,ke)ue[Z]===void 0&&(ue[Z]=ke[Z]);return he(A,pe,ue)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(A){return{$$typeof:p,render:A}},ce.isValidElement=et,ce.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:re}},ce.memo=function(A,P){return{$$typeof:g,type:A,compare:P===void 0?null:P}},ce.startTransition=function(A){var P=K.T,J={};K.T=J;try{var Z=A(),ue=K.S;ue!==null&&ue(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Q,te)}catch(pe){te(pe)}finally{P!==null&&J.types!==null&&(P.types=J.types),K.T=P}},ce.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ce.use=function(A){return K.H.use(A)},ce.useActionState=function(A,P,J){return K.H.useActionState(A,P,J)},ce.useCallback=function(A,P){return K.H.useCallback(A,P)},ce.useContext=function(A){return K.H.useContext(A)},ce.useDebugValue=function(){},ce.useDeferredValue=function(A,P){return K.H.useDeferredValue(A,P)},ce.useEffect=function(A,P){return K.H.useEffect(A,P)},ce.useEffectEvent=function(A){return K.H.useEffectEvent(A)},ce.useId=function(){return K.H.useId()},ce.useImperativeHandle=function(A,P,J){return K.H.useImperativeHandle(A,P,J)},ce.useInsertionEffect=function(A,P){return K.H.useInsertionEffect(A,P)},ce.useLayoutEffect=function(A,P){return K.H.useLayoutEffect(A,P)},ce.useMemo=function(A,P){return K.H.useMemo(A,P)},ce.useOptimistic=function(A,P){return K.H.useOptimistic(A,P)},ce.useReducer=function(A,P,J){return K.H.useReducer(A,P,J)},ce.useRef=function(A){return K.H.useRef(A)},ce.useState=function(A){return K.H.useState(A)},ce.useSyncExternalStore=function(A,P,J){return K.H.useSyncExternalStore(A,P,J)},ce.useTransition=function(){return K.H.useTransition()},ce.version="19.2.3",ce}var Tp;function wo(){return Tp||(Tp=1,ed.exports=Dy()),ed.exports}var N=wo(),td={exports:{}},Wn={},ad={exports:{}},sd={};var Ap;function My(){return Ap||(Ap=1,(function(s){function a($,I){var re=$.length;$.push(I);e:for(;0<re;){var te=re-1>>>1,ie=$[te];if(0<c(ie,I))$[te]=I,$[re]=ie,re=te;else break e}}function n($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var I=$[0],re=$.pop();if(re!==I){$[0]=re;e:for(var te=0,ie=$.length,A=ie>>>1;te<A;){var P=2*(te+1)-1,J=$[P],Z=P+1,ue=$[Z];if(0>c(J,re))Z<ie&&0>c(ue,J)?($[te]=ue,$[Z]=re,te=Z):($[te]=J,$[P]=re,te=P);else if(Z<ie&&0>c(ue,re))$[te]=ue,$[Z]=re,te=Z;else break e}}return I}function c($,I){var re=$.sortIndex-I.sortIndex;return re!==0?re:$.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var m=[],g=[],b=1,y=null,w=3,k=!1,S=!1,T=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V($){for(var I=n(g);I!==null;){if(I.callback===null)l(g);else if(I.startTime<=$)l(g),I.sortIndex=I.expirationTime,a(m,I);else break;I=n(g)}}function G($){if(T=!1,V($),!S)if(n(m)!==null)S=!0,Q||(Q=!0,Le());else{var I=n(g);I!==null&&at(G,I.startTime-$)}}var Q=!1,K=-1,F=5,he=-1;function me(){return j?!0:!(s.unstable_now()-he<F)}function et(){if(j=!1,Q){var $=s.unstable_now();he=$;var I=!0;try{e:{S=!1,T&&(T=!1,O(K),K=-1),k=!0;var re=w;try{t:{for(V($),y=n(m);y!==null&&!(y.expirationTime>$&&me());){var te=y.callback;if(typeof te=="function"){y.callback=null,w=y.priorityLevel;var ie=te(y.expirationTime<=$);if($=s.unstable_now(),typeof ie=="function"){y.callback=ie,V($),I=!0;break t}y===n(m)&&l(m),V($)}else l(m);y=n(m)}if(y!==null)I=!0;else{var A=n(g);A!==null&&at(G,A.startTime-$),I=!1}}break e}finally{y=null,w=re,k=!1}I=void 0}}finally{I?Le():Q=!1}}}var Le;if(typeof D=="function")Le=function(){D(et)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,ft=tt.port2;tt.port1.onmessage=et,Le=function(){ft.postMessage(null)}}else Le=function(){_(et,0)};function at($,I){K=_(function(){$(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function($){switch(w){case 1:case 2:case 3:var I=3;break;default:I=w}var re=w;w=I;try{return $()}finally{w=re}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function($,I){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=w;w=$;try{return I()}finally{w=re}},s.unstable_scheduleCallback=function($,I,re){var te=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?te+re:te):re=te,$){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=re+ie,$={id:b++,callback:I,priorityLevel:$,startTime:re,expirationTime:ie,sortIndex:-1},re>te?($.sortIndex=re,a(g,$),n(m)===null&&$===n(g)&&(T?(O(K),K=-1):T=!0,at(G,re-te))):($.sortIndex=ie,a(m,$),S||k||(S=!0,Q||(Q=!0,Le()))),$},s.unstable_shouldYield=me,s.unstable_wrapCallback=function($){var I=w;return function(){var re=w;w=I;try{return $.apply(this,arguments)}finally{w=re}}}})(sd)),sd}var Cp;function Uy(){return Cp||(Cp=1,ad.exports=My()),ad.exports}var rd={exports:{}},dt={};var Rp;function zy(){if(Rp)return dt;Rp=1;var s=wo();function a(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(m,g,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:m,containerInfo:g,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,dt.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(m,g,null,b)},dt.flushSync=function(m){var g=h.T,b=l.p;try{if(h.T=null,l.p=2,m)return m()}finally{h.T=g,l.p=b,l.d.f()}},dt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},dt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},dt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,y=p(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:k}):b==="script"&&l.d.X(m,{crossOrigin:y,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},dt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,y=p(b,g.crossOrigin);l.d.L(m,b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=p(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},dt.requestFormReset=function(m){l.d.r(m)},dt.unstable_batchedUpdates=function(m,g){return m(g)},dt.useFormState=function(m,g,b){return h.H.useFormState(m,g,b)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.2.3",dt}var Op;function Ly(){if(Op)return rd.exports;Op=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),rd.exports=zy(),rd.exports}var Dp;function By(){if(Dp)return Wn;Dp=1;var s=Uy(),a=wo(),n=Ly();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,i=t;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(i=d.return,i!==null){r=i;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return m(d),e;if(f===i)return m(d),t;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=d,i=f;else{for(var x=!1,v=d.child;v;){if(v===r){x=!0,r=d,i=f;break}if(v===i){x=!0,i=d,r=f;break}v=v.sibling}if(!x){for(v=f.child;v;){if(v===r){x=!0,r=f,i=d;break}if(v===i){x=!0,i=f,r=d;break}v=v.sibling}if(!x)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=et&&e[et]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case G:return"Suspense";case Q:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case D:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:ft(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return ft(e(t))}catch{}}return null}var at=Array.isArray,$=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},te=[],ie=-1;function A(e){return{current:e}}function P(e){0>ie||(e.current=te[ie],te[ie]=null,ie--)}function J(e,t){ie++,te[ie]=e.current,e.current=t}var Z=A(null),ue=A(null),pe=A(null),ke=A(null);function mt(e,t){switch(J(pe,t),J(ue,e),J(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jm(t),e=Qm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Z),J(Z,e)}function He(){P(Z),P(ue),P(pe)}function rn(e){e.memoizedState!==null&&J(ke,e);var t=Z.current,r=Qm(t,e.type);t!==r&&(J(ue,e),J(Z,r))}function Tl(e){ue.current===e&&(P(Z),P(ue)),ke.current===e&&(P(ke),Jn._currentValue=re)}var Uo,jh;function ks(e){if(Uo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Uo=t&&t[1]||"",jh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uo+e+jh}var zo=!1;function Lo(e,t){if(!e||zo)return"";zo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(L){var z=L}Reflect.construct(e,[],H)}else{try{H.call()}catch(L){z=L}e.call(H.prototype)}}else{try{throw Error()}catch(L){z=L}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(L){if(L&&z&&typeof L.stack=="string")return[L.stack,z.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),x=f[0],v=f[1];if(x&&v){var E=x.split(`
`),U=v.split(`
`);for(d=i=0;i<E.length&&!E[i].includes("DetermineComponentFrameRoot");)i++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(i===E.length||d===U.length)for(i=E.length-1,d=U.length-1;1<=i&&0<=d&&E[i]!==U[d];)d--;for(;1<=i&&0<=d;i--,d--)if(E[i]!==U[d]){if(i!==1||d!==1)do if(i--,d--,0>d||E[i]!==U[d]){var B=`
`+E[i].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=i&&0<=d);break}}}finally{zo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ks(r):""}function ob(e,t){switch(e.tag){case 26:case 27:case 5:return ks(e.type);case 16:return ks("Lazy");case 13:return e.child!==t&&t!==null?ks("Suspense Fallback"):ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return Lo(e.type,!1);case 11:return Lo(e.type.render,!1);case 1:return Lo(e.type,!0);case 31:return ks("Activity");default:return""}}function kh(e){try{var t="",r=null;do t+=ob(e,r),r=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Bo=Object.prototype.hasOwnProperty,$o=s.unstable_scheduleCallback,qo=s.unstable_cancelCallback,cb=s.unstable_shouldYield,ub=s.unstable_requestPaint,St=s.unstable_now,db=s.unstable_getCurrentPriorityLevel,Nh=s.unstable_ImmediatePriority,Sh=s.unstable_UserBlockingPriority,Al=s.unstable_NormalPriority,hb=s.unstable_LowPriority,Eh=s.unstable_IdlePriority,fb=s.log,mb=s.unstable_setDisableYieldValue,nn=null,Et=null;function Ga(e){if(typeof fb=="function"&&mb(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(nn,e)}catch{}}var Tt=Math.clz32?Math.clz32:xb,pb=Math.log,gb=Math.LN2;function xb(e){return e>>>=0,e===0?32:31-(pb(e)/gb|0)|0}var Cl=256,Rl=262144,Ol=4194304;function Ns(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dl(e,t,r){var i=e.pendingLanes;if(i===0)return 0;var d=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~f,i!==0?d=Ns(i):(x&=v,x!==0?d=Ns(x):r||(r=v&~e,r!==0&&(d=Ns(r))))):(v=i&~f,v!==0?d=Ns(v):x!==0?d=Ns(x):r||(r=i&~e,r!==0&&(d=Ns(r)))),d===0?0:t!==0&&t!==d&&(t&f)===0&&(f=d&-d,r=t&-t,f>=r||f===32&&(r&4194048)!==0)?t:d}function ln(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Th(){var e=Ol;return Ol<<=1,(Ol&62914560)===0&&(Ol=4194304),e}function Ho(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function on(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vb(e,t,r,i,d,f){var x=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,U=e.hiddenUpdates;for(r=x&~r;0<r;){var B=31-Tt(r),H=1<<B;v[B]=0,E[B]=-1;var z=U[B];if(z!==null)for(U[B]=null,B=0;B<z.length;B++){var L=z[B];L!==null&&(L.lane&=-536870913)}r&=~H}i!==0&&Ah(e,i,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function Ah(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Tt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|r&261930}function Ch(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Tt(r),d=1<<i;d&t|e[i]&t&&(e[i]|=t),r&=~d}}function Rh(e,t){var r=t&-t;return r=(r&42)!==0?1:Po(r),(r&(e.suspendedLanes|t))!==0?0:r}function Po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oh(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:bp(e.type))}function Dh(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}var Ka=Math.random().toString(36).slice(2),st="__reactFiber$"+Ka,bt="__reactProps$"+Ka,Ws="__reactContainer$"+Ka,Go="__reactEvents$"+Ka,yb="__reactListeners$"+Ka,wb="__reactHandles$"+Ka,Mh="__reactResources$"+Ka,cn="__reactMarker$"+Ka;function Ko(e){delete e[st],delete e[bt],delete e[Go],delete e[yb],delete e[wb]}function er(e){var t=e[st];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ws]||r[st]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ap(e);e!==null;){if(r=e[st])return r;e=ap(e)}return t}e=r,r=e.parentNode}return null}function tr(e){if(e=e[st]||e[Ws]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function un(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ar(e){var t=e[Mh];return t||(t=e[Mh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[cn]=!0}var Uh=new Set,zh={};function Ss(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(zh[e]=t,e=0;e<t.length;e++)Uh.add(t[e])}var _b=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lh={},Bh={};function jb(e){return Bo.call(Bh,e)?!0:Bo.call(Lh,e)?!1:_b.test(e)?Bh[e]=!0:(Lh[e]=!0,!1)}function Ml(e,t,r){if(jb(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ul(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function xa(e,t,r,i){if(i===null)e.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+i)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kb(e,t,r){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(x){r=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(x){r=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Io(e){if(!e._valueTracker){var t=$h(e)?"checked":"value";e._valueTracker=kb(e,t,""+e[t])}}function qh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=$h(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nb=/[\n"\\]/g;function Gt(e){return e.replace(Nb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yo(e,t,r,i,d,f,x,v){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Jo(e,x,Vt(t)):r!=null?Jo(e,x,Vt(r)):i!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Vt(v):e.removeAttribute("name")}function Hh(e,t,r,i,d,f,x,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Io(e);return}r=r!=null?""+Vt(r):"",t=t!=null?""+Vt(t):r,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??d,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Io(e)}function Jo(e,t,r){t==="number"&&zl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,t,r,i){if(e=e.options,t){t={};for(var d=0;d<r.length;d++)t["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=t.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Vt(r),t=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,i&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Ph(e,t,r){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Vt(r):""}function Vh(e,t,r,i){if(t==null){if(i!=null){if(r!=null)throw Error(l(92));if(at(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),t=r}r=Vt(t),e.defaultValue=r,i=e.textContent,i===r&&i!==""&&i!==null&&(e.value=i),Io(e)}function nr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gh(e,t,r){var i=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,r):typeof r!="number"||r===0||Sb.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Kh(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var d in t)i=t[d],t.hasOwnProperty(d)&&r[d]!==i&&Gh(e,d,i)}else for(var f in t)t.hasOwnProperty(f)&&Gh(e,f,t[f])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return Tb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ba(){}var Xo=null;function Fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,ir=null;function Ih(e){var t=tr(e);if(t&&(e=t.stateNode)){var r=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var d=i[bt]||null;if(!d)throw Error(l(90));Yo(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<r.length;t++)i=r[t],i.form===e.form&&qh(i)}break e;case"textarea":Ph(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&rr(e,!!r.multiple,t,!1)}}}var Zo=!1;function Yh(e,t,r){if(Zo)return e(t,r);Zo=!0;try{var i=e(t);return i}finally{if(Zo=!1,(lr!==null||ir!==null)&&(ki(),lr&&(t=lr,e=ir,ir=lr=null,Ih(t),e)))for(t=0;t<e.length;t++)Ih(e[t])}}function dn(e,t){var r=e.stateNode;if(r===null)return null;var i=r[bt]||null;if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=!1;if(va)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Wo=!1}var Ia=null,ec=null,Bl=null;function Jh(){if(Bl)return Bl;var e,t=ec,r=t.length,i,d="value"in Ia?Ia.value:Ia.textContent,f=d.length;for(e=0;e<r&&t[e]===d[e];e++);var x=r-e;for(i=1;i<=x&&t[r-i]===d[f-i];i++);return Bl=d.slice(e,1<i?1-i:void 0)}function $l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function Qh(){return!1}function vt(e){function t(r,i,d,f,x){this._reactName=r,this._targetInst=d,this.type=i,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ql:Qh,this.isPropagationStopped=Qh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=vt(Es),fn=y({},Es,{view:0,detail:0}),Ab=vt(fn),tc,ac,mn,Pl=y({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(tc=e.screenX-mn.screenX,ac=e.screenY-mn.screenY):ac=tc=0,mn=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Xh=vt(Pl),Cb=y({},Pl,{dataTransfer:0}),Rb=vt(Cb),Ob=y({},fn,{relatedTarget:0}),sc=vt(Ob),Db=y({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Mb=vt(Db),Ub=y({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zb=vt(Ub),Lb=y({},Es,{data:0}),Fh=vt(Lb),Bb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qb[e])?!!t[e]:!1}function rc(){return Hb}var Pb=y({},fn,{key:function(e){if(e.key){var t=Bb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$b[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vb=vt(Pb),Gb=y({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zh=vt(Gb),Kb=y({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),Ib=vt(Kb),Yb=y({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jb=vt(Yb),Qb=y({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xb=vt(Qb),Fb=y({},Es,{newState:0,oldState:0}),Zb=vt(Fb),Wb=[9,13,27,32],nc=va&&"CompositionEvent"in window,pn=null;va&&"documentMode"in document&&(pn=document.documentMode);var ev=va&&"TextEvent"in window&&!pn,Wh=va&&(!nc||pn&&8<pn&&11>=pn),ef=" ",tf=!1;function af(e,t){switch(e){case"keyup":return Wb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function tv(e,t){switch(e){case"compositionend":return sf(t);case"keypress":return t.which!==32?null:(tf=!0,ef);case"textInput":return e=t.data,e===ef&&tf?null:e;default:return null}}function av(e,t){if(or)return e==="compositionend"||!nc&&af(e,t)?(e=Jh(),Bl=ec=Ia=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wh&&t.locale!=="ko"?null:t.data;default:return null}}var sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sv[e.type]:t==="textarea"}function nf(e,t,r,i){lr?ir?ir.push(i):ir=[i]:lr=i,t=Ri(t,"onChange"),0<t.length&&(r=new Hl("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var gn=null,xn=null;function rv(e){Pm(e,0)}function Vl(e){var t=un(e);if(qh(t))return e}function lf(e,t){if(e==="change")return t}var of=!1;if(va){var lc;if(va){var ic="oninput"in document;if(!ic){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),ic=typeof cf.oninput=="function"}lc=ic}else lc=!1;of=lc&&(!document.documentMode||9<document.documentMode)}function uf(){gn&&(gn.detachEvent("onpropertychange",df),xn=gn=null)}function df(e){if(e.propertyName==="value"&&Vl(xn)){var t=[];nf(t,xn,e,Fo(e)),Yh(rv,t)}}function nv(e,t,r){e==="focusin"?(uf(),gn=t,xn=r,gn.attachEvent("onpropertychange",df)):e==="focusout"&&uf()}function lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vl(xn)}function iv(e,t){if(e==="click")return Vl(t)}function ov(e,t){if(e==="input"||e==="change")return Vl(t)}function cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:cv;function bn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var d=r[i];if(!Bo.call(t,d)||!At(e[d],t[d]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var r=hf(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hf(r)}}function mf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zl(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zl(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var uv=va&&"documentMode"in document&&11>=document.documentMode,cr=null,cc=null,vn=null,uc=!1;function gf(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uc||cr==null||cr!==zl(i)||(i=cr,"selectionStart"in i&&oc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vn&&bn(vn,i)||(vn=i,i=Ri(cc,"onSelect"),0<i.length&&(t=new Hl("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=cr)))}function Ts(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ur={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},dc={},xf={};va&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function As(e){if(dc[e])return dc[e];if(!ur[e])return e;var t=ur[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xf)return dc[e]=t[r];return e}var bf=As("animationend"),vf=As("animationiteration"),yf=As("animationstart"),dv=As("transitionrun"),hv=As("transitionstart"),fv=As("transitioncancel"),wf=As("transitionend"),_f=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function ea(e,t){_f.set(e,t),Ss(t,[e])}var Gl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],dr=0,fc=0;function Kl(){for(var e=dr,t=fc=dr=0;t<e;){var r=Kt[t];Kt[t++]=null;var i=Kt[t];Kt[t++]=null;var d=Kt[t];Kt[t++]=null;var f=Kt[t];if(Kt[t++]=null,i!==null&&d!==null){var x=i.pending;x===null?d.next=d:(d.next=x.next,x.next=d),i.pending=d}f!==0&&jf(r,d,f)}}function Il(e,t,r,i){Kt[dr++]=e,Kt[dr++]=t,Kt[dr++]=r,Kt[dr++]=i,fc|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function mc(e,t,r,i){return Il(e,t,r,i),Yl(e)}function Cs(e,t){return Il(e,null,null,t),Yl(e)}function jf(e,t,r){e.lanes|=r;var i=e.alternate;i!==null&&(i.lanes|=r);for(var d=!1,f=e.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&t!==null&&(d=31-Tt(r),e=f.hiddenUpdates,i=e[d],i===null?e[d]=[t]:i.push(t),t.lane=r|536870912),f):null}function Yl(e){if(50<Hn)throw Hn=0,ju=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hr={};function mv(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,i){return new mv(e,t,r,i)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ya(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function kf(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Jl(e,t,r,i,d,f){var x=0;if(i=e,typeof e=="function")pc(e)&&(x=1);else if(typeof e=="string")x=vy(e,r,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=Ct(31,r,t,d),e.elementType=he,e.lanes=f,e;case T:return Rs(r.children,d,f,t);case j:x=8,d|=24;break;case _:return e=Ct(12,r,t,d|2),e.elementType=_,e.lanes=f,e;case G:return e=Ct(13,r,t,d),e.elementType=G,e.lanes=f,e;case Q:return e=Ct(19,r,t,d),e.elementType=Q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:x=10;break e;case O:x=9;break e;case V:x=11;break e;case K:x=14;break e;case F:x=16,i=null;break e}x=29,r=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Ct(x,r,t,d),t.elementType=e,t.type=i,t.lanes=f,t}function Rs(e,t,r,i){return e=Ct(7,e,i,t),e.lanes=r,e}function gc(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function Nf(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function xc(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sf=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var r=Sf.get(e);return r!==void 0?r:(t={value:e,source:t,stack:kh(t)},Sf.set(e,t),t)}return{value:e,source:t,stack:kh(t)}}var fr=[],mr=0,Ql=null,yn=0,Yt=[],Jt=0,Ya=null,oa=1,ca="";function wa(e,t){fr[mr++]=yn,fr[mr++]=Ql,Ql=e,yn=t}function Ef(e,t,r){Yt[Jt++]=oa,Yt[Jt++]=ca,Yt[Jt++]=Ya,Ya=e;var i=oa;e=ca;var d=32-Tt(i)-1;i&=~(1<<d),r+=1;var f=32-Tt(t)+d;if(30<f){var x=d-d%5;f=(i&(1<<x)-1).toString(32),i>>=x,d-=x,oa=1<<32-Tt(t)+d|r<<d|i,ca=f+e}else oa=1<<f|r<<d|i,ca=e}function bc(e){e.return!==null&&(wa(e,1),Ef(e,1,0))}function vc(e){for(;e===Ql;)Ql=fr[--mr],fr[mr]=null,yn=fr[--mr],fr[mr]=null;for(;e===Ya;)Ya=Yt[--Jt],Yt[Jt]=null,ca=Yt[--Jt],Yt[Jt]=null,oa=Yt[--Jt],Yt[Jt]=null}function Tf(e,t){Yt[Jt++]=oa,Yt[Jt++]=ca,Yt[Jt++]=Ya,oa=t.id,ca=t.overflow,Ya=e}var rt=null,Oe=null,ye=!1,Ja=null,Qt=!1,yc=Error(l(519));function Qa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wn(It(t,e)),yc}function Af(e){var t=e.stateNode,r=e.type,i=e.memoizedProps;switch(t[st]=e,t[bt]=i,r){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(r=0;r<Vn.length;r++)xe(Vn[r],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Hh(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Vh(t,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||i.suppressHydrationWarning===!0||Im(t.textContent,r)?(i.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),i.onScroll!=null&&xe("scroll",t),i.onScrollEnd!=null&&xe("scrollend",t),i.onClick!=null&&(t.onclick=ba),t=!0):t=!1,t||Qa(e,!0)}function Cf(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:rt=rt.return}}function pr(e){if(e!==rt)return!1;if(!ye)return Cf(e),ye=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Bu(e.type,e.memoizedProps)),r=!r),r&&Oe&&Qa(e),Cf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Oe=tp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Oe=tp(e)}else t===27?(t=Oe,cs(e.type)?(e=Vu,Vu=null,Oe=e):Oe=t):Oe=rt?Ft(e.stateNode.nextSibling):null;return!0}function Os(){Oe=rt=null,ye=!1}function wc(){var e=Ja;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Ja=null),e}function wn(e){Ja===null?Ja=[e]:Ja.push(e)}var _c=A(null),Ds=null,_a=null;function Xa(e,t,r){J(_c,t._currentValue),t._currentValue=r}function ja(e){e._currentValue=_c.current,P(_c)}function jc(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function kc(e,t,r,i){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var x=d.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=d;for(var E=0;E<t.length;E++)if(v.context===t[E]){f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),jc(f.return,r,e),i||(x=null);break e}f=v.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(l(341));x.lanes|=r,f=x.alternate,f!==null&&(f.lanes|=r),jc(x,r,e),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===e){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function gr(e,t,r,i){e=null;for(var d=t,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(l(387));if(x=x.memoizedProps,x!==null){var v=d.type;At(d.pendingProps.value,x.value)||(e!==null?e.push(v):e=[v])}}else if(d===ke.current){if(x=d.alternate,x===null)throw Error(l(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Jn):e=[Jn])}d=d.return}e!==null&&kc(t,e,r,i),t.flags|=262144}function Xl(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Ds=e,_a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Rf(Ds,e)}function Fl(e,t){return Ds===null&&Ms(e),Rf(e,t)}function Rf(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},_a===null){if(e===null)throw Error(l(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return r}var pv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},gv=s.unstable_scheduleCallback,xv=s.unstable_NormalPriority,Ge={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new pv,data:new Map,refCount:0}}function _n(e){e.refCount--,e.refCount===0&&gv(xv,function(){e.controller.abort()})}var jn=null,Sc=0,xr=0,br=null;function bv(e,t){if(jn===null){var r=jn=[];Sc=0,xr=Au(),br={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Sc++,t.then(Of,Of),t}function Of(){if(--Sc===0&&jn!==null){br!==null&&(br.status="fulfilled");var e=jn;jn=null,xr=0,br=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vv(e,t){var r=[],i={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var d=0;d<r.length;d++)(0,r[d])(t)},function(d){for(i.status="rejected",i.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),i}var Df=$.S;$.S=function(e,t){gm=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bv(e,t),Df!==null&&Df(e,t)};var Us=A(null);function Ec(){var e=Us.current;return e!==null?e:Ce.pooledCache}function Zl(e,t){t===null?J(Us,Us.current):J(Us,t.pool)}function Mf(){var e=Ec();return e===null?null:{parent:Ge._currentValue,pool:e}}var vr=Error(l(460)),Tc=Error(l(474)),Wl=Error(l(542)),ei={then:function(){}};function Uf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zf(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ba,ba),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e;default:if(typeof t.status=="string")t.then(ba,ba);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=i}},function(i){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e}throw Ls=t,vr}}function zs(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ls=r,vr):r}}var Ls=null;function Lf(){if(Ls===null)throw Error(l(459));var e=Ls;return Ls=null,e}function Bf(e){if(e===vr||e===Wl)throw Error(l(483))}var yr=null,kn=0;function ti(e){var t=kn;return kn+=1,yr===null&&(yr=[]),zf(yr,e,t)}function Nn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ai(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $f(e){function t(R,C){if(e){var M=R.deletions;M===null?(R.deletions=[C],R.flags|=16):M.push(C)}}function r(R,C){if(!e)return null;for(;C!==null;)t(R,C),C=C.sibling;return null}function i(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function d(R,C){return R=ya(R,C),R.index=0,R.sibling=null,R}function f(R,C,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<C?(R.flags|=67108866,C):M):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function x(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function v(R,C,M,q){return C===null||C.tag!==6?(C=gc(M,R.mode,q),C.return=R,C):(C=d(C,M),C.return=R,C)}function E(R,C,M,q){var ae=M.type;return ae===T?B(R,C,M.props.children,q,M.key):C!==null&&(C.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===F&&zs(ae)===C.type)?(C=d(C,M.props),Nn(C,M),C.return=R,C):(C=Jl(M.type,M.key,M.props,null,R.mode,q),Nn(C,M),C.return=R,C)}function U(R,C,M,q){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=xc(M,R.mode,q),C.return=R,C):(C=d(C,M.children||[]),C.return=R,C)}function B(R,C,M,q,ae){return C===null||C.tag!==7?(C=Rs(M,R.mode,q,ae),C.return=R,C):(C=d(C,M),C.return=R,C)}function H(R,C,M){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=gc(""+C,R.mode,M),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case k:return M=Jl(C.type,C.key,C.props,null,R.mode,M),Nn(M,C),M.return=R,M;case S:return C=xc(C,R.mode,M),C.return=R,C;case F:return C=zs(C),H(R,C,M)}if(at(C)||Le(C))return C=Rs(C,R.mode,M,null),C.return=R,C;if(typeof C.then=="function")return H(R,ti(C),M);if(C.$$typeof===D)return H(R,Fl(R,C),M);ai(R,C)}return null}function z(R,C,M,q){var ae=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ae!==null?null:v(R,C,""+M,q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return M.key===ae?E(R,C,M,q):null;case S:return M.key===ae?U(R,C,M,q):null;case F:return M=zs(M),z(R,C,M,q)}if(at(M)||Le(M))return ae!==null?null:B(R,C,M,q,null);if(typeof M.then=="function")return z(R,C,ti(M),q);if(M.$$typeof===D)return z(R,C,Fl(R,M),q);ai(R,M)}return null}function L(R,C,M,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return R=R.get(M)||null,v(C,R,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case k:return R=R.get(q.key===null?M:q.key)||null,E(C,R,q,ae);case S:return R=R.get(q.key===null?M:q.key)||null,U(C,R,q,ae);case F:return q=zs(q),L(R,C,M,q,ae)}if(at(q)||Le(q))return R=R.get(M)||null,B(C,R,q,ae,null);if(typeof q.then=="function")return L(R,C,M,ti(q),ae);if(q.$$typeof===D)return L(R,C,M,Fl(C,q),ae);ai(C,q)}return null}function X(R,C,M,q){for(var ae=null,we=null,W=C,fe=C=0,ve=null;W!==null&&fe<M.length;fe++){W.index>fe?(ve=W,W=null):ve=W.sibling;var _e=z(R,W,M[fe],q);if(_e===null){W===null&&(W=ve);break}e&&W&&_e.alternate===null&&t(R,W),C=f(_e,C,fe),we===null?ae=_e:we.sibling=_e,we=_e,W=ve}if(fe===M.length)return r(R,W),ye&&wa(R,fe),ae;if(W===null){for(;fe<M.length;fe++)W=H(R,M[fe],q),W!==null&&(C=f(W,C,fe),we===null?ae=W:we.sibling=W,we=W);return ye&&wa(R,fe),ae}for(W=i(W);fe<M.length;fe++)ve=L(W,R,fe,M[fe],q),ve!==null&&(e&&ve.alternate!==null&&W.delete(ve.key===null?fe:ve.key),C=f(ve,C,fe),we===null?ae=ve:we.sibling=ve,we=ve);return e&&W.forEach(function(ms){return t(R,ms)}),ye&&wa(R,fe),ae}function se(R,C,M,q){if(M==null)throw Error(l(151));for(var ae=null,we=null,W=C,fe=C=0,ve=null,_e=M.next();W!==null&&!_e.done;fe++,_e=M.next()){W.index>fe?(ve=W,W=null):ve=W.sibling;var ms=z(R,W,_e.value,q);if(ms===null){W===null&&(W=ve);break}e&&W&&ms.alternate===null&&t(R,W),C=f(ms,C,fe),we===null?ae=ms:we.sibling=ms,we=ms,W=ve}if(_e.done)return r(R,W),ye&&wa(R,fe),ae;if(W===null){for(;!_e.done;fe++,_e=M.next())_e=H(R,_e.value,q),_e!==null&&(C=f(_e,C,fe),we===null?ae=_e:we.sibling=_e,we=_e);return ye&&wa(R,fe),ae}for(W=i(W);!_e.done;fe++,_e=M.next())_e=L(W,R,fe,_e.value,q),_e!==null&&(e&&_e.alternate!==null&&W.delete(_e.key===null?fe:_e.key),C=f(_e,C,fe),we===null?ae=_e:we.sibling=_e,we=_e);return e&&W.forEach(function(Cy){return t(R,Cy)}),ye&&wa(R,fe),ae}function Ae(R,C,M,q){if(typeof M=="object"&&M!==null&&M.type===T&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case k:e:{for(var ae=M.key;C!==null;){if(C.key===ae){if(ae=M.type,ae===T){if(C.tag===7){r(R,C.sibling),q=d(C,M.props.children),q.return=R,R=q;break e}}else if(C.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===F&&zs(ae)===C.type){r(R,C.sibling),q=d(C,M.props),Nn(q,M),q.return=R,R=q;break e}r(R,C);break}else t(R,C);C=C.sibling}M.type===T?(q=Rs(M.props.children,R.mode,q,M.key),q.return=R,R=q):(q=Jl(M.type,M.key,M.props,null,R.mode,q),Nn(q,M),q.return=R,R=q)}return x(R);case S:e:{for(ae=M.key;C!==null;){if(C.key===ae)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){r(R,C.sibling),q=d(C,M.children||[]),q.return=R,R=q;break e}else{r(R,C);break}else t(R,C);C=C.sibling}q=xc(M,R.mode,q),q.return=R,R=q}return x(R);case F:return M=zs(M),Ae(R,C,M,q)}if(at(M))return X(R,C,M,q);if(Le(M)){if(ae=Le(M),typeof ae!="function")throw Error(l(150));return M=ae.call(M),se(R,C,M,q)}if(typeof M.then=="function")return Ae(R,C,ti(M),q);if(M.$$typeof===D)return Ae(R,C,Fl(R,M),q);ai(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,C!==null&&C.tag===6?(r(R,C.sibling),q=d(C,M),q.return=R,R=q):(r(R,C),q=gc(M,R.mode,q),q.return=R,R=q),x(R)):r(R,C)}return function(R,C,M,q){try{kn=0;var ae=Ae(R,C,M,q);return yr=null,ae}catch(W){if(W===vr||W===Wl)throw W;var we=Ct(29,W,null,R.mode);return we.lanes=q,we.return=R,we}}}var Bs=$f(!0),qf=$f(!1),Fa=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(je&2)!==0){var d=i.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),i.pending=t,t=Yl(e),jf(e,null,r),t}return Il(e,i,t,r),Yl(e)}function Sn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ch(e,r)}}function Rc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?d=f=x:f=f.next=x,r=r.next}while(r!==null);f===null?d=f=t:f=f.next=t}else d=f=t;r={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Oc=!1;function En(){if(Oc){var e=br;if(e!==null)throw e}}function Tn(e,t,r,i){Oc=!1;var d=e.updateQueue;Fa=!1;var f=d.firstBaseUpdate,x=d.lastBaseUpdate,v=d.shared.pending;if(v!==null){d.shared.pending=null;var E=v,U=E.next;E.next=null,x===null?f=U:x.next=U,x=E;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==x&&(v===null?B.firstBaseUpdate=U:v.next=U,B.lastBaseUpdate=E))}if(f!==null){var H=d.baseState;x=0,B=U=E=null,v=f;do{var z=v.lane&-536870913,L=z!==v.lane;if(L?(be&z)===z:(i&z)===z){z!==0&&z===xr&&(Oc=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var X=e,se=v;z=t;var Ae=r;switch(se.tag){case 1:if(X=se.payload,typeof X=="function"){H=X.call(Ae,H,z);break e}H=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=se.payload,z=typeof X=="function"?X.call(Ae,H,z):X,z==null)break e;H=y({},H,z);break e;case 2:Fa=!0}}z=v.callback,z!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[z]:L.push(z))}else L={lane:z,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(U=B=L,E=H):B=B.next=L,x|=z;if(v=v.next,v===null){if(v=d.shared.pending,v===null)break;L=v,v=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);B===null&&(E=H),d.baseState=E,d.firstBaseUpdate=U,d.lastBaseUpdate=B,f===null&&(d.shared.lanes=0),rs|=x,e.lanes=x,e.memoizedState=H}}function Hf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Pf(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Hf(r[e],t)}var wr=A(null),si=A(0);function Vf(e,t){e=Oa,J(si,e),J(wr,t),Oa=e|t.baseLanes}function Dc(){J(si,Oa),J(wr,wr.current)}function Mc(){Oa=si.current,P(wr),P(si)}var Rt=A(null),Xt=null;function es(e){var t=e.alternate;J(Pe,Pe.current&1),J(Rt,e),Xt===null&&(t===null||wr.current!==null||t.memoizedState!==null)&&(Xt=e)}function Uc(e){J(Pe,Pe.current),J(Rt,e),Xt===null&&(Xt=e)}function Gf(e){e.tag===22?(J(Pe,Pe.current),J(Rt,e),Xt===null&&(Xt=e)):ts()}function ts(){J(Pe,Pe.current),J(Rt,Rt.current)}function Ot(e){P(Rt),Xt===e&&(Xt=null),P(Pe)}var Pe=A(0);function ri(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Hu(r)||Pu(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=0,de=null,Ee=null,Ke=null,ni=!1,_r=!1,$s=!1,li=0,An=0,jr=null,yv=0;function Be(){throw Error(l(321))}function zc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function Lc(e,t,r,i,d,f){return ka=f,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?E0:Zc,$s=!1,f=r(i,d),$s=!1,_r&&(f=If(t,r,i,d)),Kf(e),f}function Kf(e){$.H=On;var t=Ee!==null&&Ee.next!==null;if(ka=0,Ke=Ee=de=null,ni=!1,An=0,jr=null,t)throw Error(l(300));e===null||Ie||(e=e.dependencies,e!==null&&Xl(e)&&(Ie=!0))}function If(e,t,r,i){de=e;var d=0;do{if(_r&&(jr=null),An=0,_r=!1,25<=d)throw Error(l(301));if(d+=1,Ke=Ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=T0,f=t(r,i)}while(_r);return f}function wv(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?Cn(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(de.flags|=1024),t}function Bc(){var e=li!==0;return li=0,e}function $c(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function qc(e){if(ni){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ni=!1}ka=0,Ke=Ee=de=null,_r=!1,An=li=0,jr=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?de.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ve(){if(Ee===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ke===null?de.memoizedState:Ke.next;if(t!==null)Ke=t,Ee=e;else{if(e===null)throw de.alternate===null?Error(l(467)):Error(l(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ke===null?de.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cn(e){var t=An;return An+=1,jr===null&&(jr=[]),e=zf(jr,e,t),t=de,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?E0:Zc),e}function oi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cn(e);if(e.$$typeof===D)return nt(e)}throw Error(l(438,String(e)))}function Hc(e){var t=null,r=de.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var i=de.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=ii(),de.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),i=0;i<e;i++)r[i]=me;return t.index++,r}function Na(e,t){return typeof t=="function"?t(e):t}function ci(e){var t=Ve();return Pc(t,Ee,e)}function Pc(e,t,r){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var d=e.baseQueue,f=i.pending;if(f!==null){if(d!==null){var x=d.next;d.next=f.next,f.next=x}t.baseQueue=d=f,i.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{t=d.next;var v=x=null,E=null,U=t,B=!1;do{var H=U.lane&-536870913;if(H!==U.lane?(be&H)===H:(ka&H)===H){var z=U.revertLane;if(z===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),H===xr&&(B=!0);else if((ka&z)===z){U=U.next,z===xr&&(B=!0);continue}else H={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(v=E=H,x=f):E=E.next=H,de.lanes|=z,rs|=z;H=U.action,$s&&r(f,H),f=U.hasEagerState?U.eagerState:r(f,H)}else z={lane:H,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(v=E=z,x=f):E=E.next=z,de.lanes|=H,rs|=H;U=U.next}while(U!==null&&U!==t);if(E===null?x=f:E.next=v,!At(f,e.memoizedState)&&(Ie=!0,B&&(r=br,r!==null)))throw r;e.memoizedState=f,e.baseState=x,e.baseQueue=E,i.lastRenderedState=f}return d===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Vc(e){var t=Ve(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var i=r.dispatch,d=r.pending,f=t.memoizedState;if(d!==null){r.pending=null;var x=d=d.next;do f=e(f,x.action),x=x.next;while(x!==d);At(f,t.memoizedState)||(Ie=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,i]}function Yf(e,t,r){var i=de,d=Ve(),f=ye;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=t();var x=!At((Ee||d).memoizedState,r);if(x&&(d.memoizedState=r,Ie=!0),d=d.queue,Ic(Xf.bind(null,i,d,e),[e]),d.getSnapshot!==t||x||Ke!==null&&Ke.memoizedState.tag&1){if(i.flags|=2048,kr(9,{destroy:void 0},Qf.bind(null,i,d,r,t),null),Ce===null)throw Error(l(349));f||(ka&127)!==0||Jf(i,t,r)}return r}function Jf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t=ii(),de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qf(e,t,r,i){t.value=r,t.getSnapshot=i,Ff(t)&&Zf(e)}function Xf(e,t,r){return r(function(){Ff(t)&&Zf(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function Zf(e){var t=Cs(e,2);t!==null&&kt(t,e,2)}function Gc(e){var t=pt();if(typeof e=="function"){var r=e;if(e=r(),$s){Ga(!0);try{r()}finally{Ga(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t}function Wf(e,t,r,i){return e.baseState=r,Pc(e,Ee,typeof i=="function"?i:Na)}function _v(e,t,r,i,d){if(hi(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};$.T!==null?r(!0):f.isTransition=!1,i(f),r=t.pending,r===null?(f.next=t.pending=f,e0(t,f)):(f.next=r.next,t.pending=r.next=f)}}function e0(e,t){var r=t.action,i=t.payload,d=e.state;if(t.isTransition){var f=$.T,x={};$.T=x;try{var v=r(d,i),E=$.S;E!==null&&E(x,v),t0(e,t,v)}catch(U){Kc(e,t,U)}finally{f!==null&&x.types!==null&&(f.types=x.types),$.T=f}}else try{f=r(d,i),t0(e,t,f)}catch(U){Kc(e,t,U)}}function t0(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){a0(e,t,i)},function(i){return Kc(e,t,i)}):a0(e,t,r)}function a0(e,t,r){t.status="fulfilled",t.value=r,s0(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,e0(e,r)))}function Kc(e,t,r){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=r,s0(t),t=t.next;while(t!==i)}e.action=null}function s0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function r0(e,t){return t}function n0(e,t){if(ye){var r=Ce.formState;if(r!==null){e:{var i=de;if(ye){if(Oe){t:{for(var d=Oe,f=Qt;d.nodeType!==8;){if(!f){d=null;break t}if(d=Ft(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Oe=Ft(d.nextSibling),i=d.data==="F!";break e}}Qa(i)}i=!1}i&&(t=r[0])}}return r=pt(),r.memoizedState=r.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r0,lastRenderedState:t},r.queue=i,r=k0.bind(null,de,i),i.dispatch=r,i=Gc(!1),f=Fc.bind(null,de,!1,i.queue),i=pt(),d={state:t,dispatch:null,action:e,pending:null},i.queue=d,r=_v.bind(null,de,d,f,r),d.dispatch=r,i.memoizedState=e,[t,r,!1]}function l0(e){var t=Ve();return i0(t,Ee,e)}function i0(e,t,r){if(t=Pc(e,t,r0)[0],e=ci(Na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Cn(t)}catch(x){throw x===vr?Wl:x}else i=t;t=Ve();var d=t.queue,f=d.dispatch;return r!==t.memoizedState&&(de.flags|=2048,kr(9,{destroy:void 0},jv.bind(null,d,r),null)),[i,f,e]}function jv(e,t){e.action=t}function o0(e){var t=Ve(),r=Ee;if(r!==null)return i0(t,r,e);Ve(),t=t.memoizedState,r=Ve();var i=r.queue.dispatch;return r.memoizedState=e,[t,i,!1]}function kr(e,t,r,i){return e={tag:e,create:r,deps:i,inst:t,next:null},t=de.updateQueue,t===null&&(t=ii(),de.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e),e}function c0(){return Ve().memoizedState}function ui(e,t,r,i){var d=pt();de.flags|=e,d.memoizedState=kr(1|t,{destroy:void 0},r,i===void 0?null:i)}function di(e,t,r,i){var d=Ve();i=i===void 0?null:i;var f=d.memoizedState.inst;Ee!==null&&i!==null&&zc(i,Ee.memoizedState.deps)?d.memoizedState=kr(t,f,r,i):(de.flags|=e,d.memoizedState=kr(1|t,f,r,i))}function u0(e,t){ui(8390656,8,e,t)}function Ic(e,t){di(2048,8,e,t)}function kv(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=ii(),de.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function d0(e){var t=Ve().memoizedState;return kv({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function h0(e,t){return di(4,2,e,t)}function f0(e,t){return di(4,4,e,t)}function m0(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p0(e,t,r){r=r!=null?r.concat([e]):null,di(4,4,m0.bind(null,t,e),r)}function Yc(){}function g0(e,t){var r=Ve();t=t===void 0?null:t;var i=r.memoizedState;return t!==null&&zc(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function x0(e,t){var r=Ve();t=t===void 0?null:t;var i=r.memoizedState;if(t!==null&&zc(t,i[1]))return i[0];if(i=e(),$s){Ga(!0);try{e()}finally{Ga(!1)}}return r.memoizedState=[i,t],i}function Jc(e,t,r){return r===void 0||(ka&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=bm(),de.lanes|=e,rs|=e,r)}function b0(e,t,r,i){return At(r,t)?r:wr.current!==null?(e=Jc(e,r,i),At(e,t)||(Ie=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(be&261930)===0?(Ie=!0,e.memoizedState=r):(e=bm(),de.lanes|=e,rs|=e,t)}function v0(e,t,r,i,d){var f=I.p;I.p=f!==0&&8>f?f:8;var x=$.T,v={};$.T=v,Fc(e,!1,t,r);try{var E=d(),U=$.S;if(U!==null&&U(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=vv(E,i);Rn(e,t,B,Ut(e))}else Rn(e,t,i,Ut(e))}catch(H){Rn(e,t,{then:function(){},status:"rejected",reason:H},Ut())}finally{I.p=f,x!==null&&v.types!==null&&(x.types=v.types),$.T=x}}function Nv(){}function Qc(e,t,r,i){if(e.tag!==5)throw Error(l(476));var d=y0(e).queue;v0(e,d,t,re,r===null?Nv:function(){return w0(e),r(i)})}function y0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:re},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function w0(e){var t=y0(e);t.next===null&&(t=e.alternate.memoizedState),Rn(e,t.next.queue,{},Ut())}function Xc(){return nt(Jn)}function _0(){return Ve().memoizedState}function j0(){return Ve().memoizedState}function Sv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Ut();e=Za(r);var i=Wa(t,e,r);i!==null&&(kt(i,t,r),Sn(i,t,r)),t={cache:Nc()},e.payload=t;return}t=t.return}}function Ev(e,t,r){var i=Ut();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hi(e)?N0(t,r):(r=mc(e,t,r,i),r!==null&&(kt(r,e,i),S0(r,t,i)))}function k0(e,t,r){var i=Ut();Rn(e,t,r,i)}function Rn(e,t,r,i){var d={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(hi(e))N0(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,v=f(x,r);if(d.hasEagerState=!0,d.eagerState=v,At(v,x))return Il(e,t,d,0),Ce===null&&Kl(),!1}catch{}if(r=mc(e,t,d,i),r!==null)return kt(r,e,i),S0(r,t,i),!0}return!1}function Fc(e,t,r,i){if(i={lane:2,revertLane:Au(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hi(e)){if(t)throw Error(l(479))}else t=mc(e,r,i,2),t!==null&&kt(t,e,2)}function hi(e){var t=e.alternate;return e===de||t!==null&&t===de}function N0(e,t){_r=ni=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function S0(e,t,r){if((r&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ch(e,r)}}var On={readContext:nt,use:oi,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};On.useEffectEvent=Be;var E0={readContext:nt,use:oi,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:u0,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,ui(4194308,4,m0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ui(4194308,4,e,t)},useInsertionEffect:function(e,t){ui(4,2,e,t)},useMemo:function(e,t){var r=pt();t=t===void 0?null:t;var i=e();if($s){Ga(!0);try{e()}finally{Ga(!1)}}return r.memoizedState=[i,t],i},useReducer:function(e,t,r){var i=pt();if(r!==void 0){var d=r(t);if($s){Ga(!0);try{r(t)}finally{Ga(!1)}}}else d=t;return i.memoizedState=i.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},i.queue=e,e=e.dispatch=Ev.bind(null,de,e),[i.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Gc(e);var t=e.queue,r=k0.bind(null,de,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Yc,useDeferredValue:function(e,t){var r=pt();return Jc(r,e,t)},useTransition:function(){var e=Gc(!1);return e=v0.bind(null,de,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var i=de,d=pt();if(ye){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),Ce===null)throw Error(l(349));(be&127)!==0||Jf(i,t,r)}d.memoizedState=r;var f={value:r,getSnapshot:t};return d.queue=f,u0(Xf.bind(null,i,f,e),[e]),i.flags|=2048,kr(9,{destroy:void 0},Qf.bind(null,i,f,r,t),null),r},useId:function(){var e=pt(),t=Ce.identifierPrefix;if(ye){var r=ca,i=oa;r=(i&~(1<<32-Tt(i)-1)).toString(32)+r,t="_"+t+"R_"+r,r=li++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=yv++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xc,useFormState:n0,useActionState:n0,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Fc.bind(null,de,!0,r),r.dispatch=t,[e,t]},useMemoCache:Hc,useCacheRefresh:function(){return pt().memoizedState=Sv.bind(null,de)},useEffectEvent:function(e){var t=pt(),r={impl:e};return t.memoizedState=r,function(){if((je&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},Zc={readContext:nt,use:oi,useCallback:g0,useContext:nt,useEffect:Ic,useImperativeHandle:p0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:x0,useReducer:ci,useRef:c0,useState:function(){return ci(Na)},useDebugValue:Yc,useDeferredValue:function(e,t){var r=Ve();return b0(r,Ee.memoizedState,e,t)},useTransition:function(){var e=ci(Na)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Cn(e),t]},useSyncExternalStore:Yf,useId:_0,useHostTransitionStatus:Xc,useFormState:l0,useActionState:l0,useOptimistic:function(e,t){var r=Ve();return Wf(r,Ee,e,t)},useMemoCache:Hc,useCacheRefresh:j0};Zc.useEffectEvent=d0;var T0={readContext:nt,use:oi,useCallback:g0,useContext:nt,useEffect:Ic,useImperativeHandle:p0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:x0,useReducer:Vc,useRef:c0,useState:function(){return Vc(Na)},useDebugValue:Yc,useDeferredValue:function(e,t){var r=Ve();return Ee===null?Jc(r,e,t):b0(r,Ee.memoizedState,e,t)},useTransition:function(){var e=Vc(Na)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Cn(e),t]},useSyncExternalStore:Yf,useId:_0,useHostTransitionStatus:Xc,useFormState:o0,useActionState:o0,useOptimistic:function(e,t){var r=Ve();return Ee!==null?Wf(r,Ee,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:j0};T0.useEffectEvent=d0;function Wc(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eu={enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ut(),d=Za(i);d.payload=t,r!=null&&(d.callback=r),t=Wa(e,d,i),t!==null&&(kt(t,e,i),Sn(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ut(),d=Za(i);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Wa(e,d,i),t!==null&&(kt(t,e,i),Sn(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),i=Za(r);i.tag=2,t!=null&&(i.callback=t),t=Wa(e,i,r),t!==null&&(kt(t,e,r),Sn(t,e,r))}};function A0(e,t,r,i,d,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,x):t.prototype&&t.prototype.isPureReactComponent?!bn(r,i)||!bn(d,f):!0}function C0(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function qs(e,t){var r=t;if("ref"in t){r={};for(var i in t)i!=="ref"&&(r[i]=t[i])}if(e=e.defaultProps){r===t&&(r=y({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function R0(e){Gl(e)}function O0(e){console.error(e)}function D0(e){Gl(e)}function fi(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function M0(e,t,r){try{var i=e.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tu(e,t,r){return r=Za(r),r.tag=3,r.payload={element:null},r.callback=function(){fi(e,t)},r}function U0(e){return e=Za(e),e.tag=3,e}function z0(e,t,r,i){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=i.value;e.payload=function(){return d(f)},e.callback=function(){M0(t,r,i)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){M0(t,r,i),typeof d!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function Tv(e,t,r,i,d){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=r.alternate,t!==null&&gr(t,r,d,!0),r=Rt.current,r!==null){switch(r.tag){case 31:case 13:return Xt===null?Ni():r.alternate===null&&$e===0&&($e=3),r.flags&=-257,r.flags|=65536,r.lanes=d,i===ei?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([i]):t.add(i),Su(e,i,d)),!1;case 22:return r.flags|=65536,i===ei?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([i]):r.add(i)),Su(e,i,d)),!1}throw Error(l(435,r.tag))}return Su(e,i,d),Ni(),!1}if(ye)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,i!==yc&&(e=Error(l(422),{cause:i}),wn(It(e,r)))):(i!==yc&&(t=Error(l(423),{cause:i}),wn(It(t,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,i=It(i,r),d=tu(e.stateNode,i,d),Rc(e,d),$e!==4&&($e=2)),!1;var f=Error(l(520),{cause:i});if(f=It(f,r),qn===null?qn=[f]:qn.push(f),$e!==4&&($e=2),t===null)return!0;i=It(i,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=tu(r.stateNode,i,e),Rc(r,e),!1;case 1:if(t=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ns===null||!ns.has(f))))return r.flags|=65536,d&=-d,r.lanes|=d,d=U0(d),z0(d,e,r,i),Rc(r,d),!1}r=r.return}while(r!==null);return!1}var au=Error(l(461)),Ie=!1;function lt(e,t,r,i){t.child=e===null?qf(t,null,r,i):Bs(t,e.child,r,i)}function L0(e,t,r,i,d){r=r.render;var f=t.ref;if("ref"in i){var x={};for(var v in i)v!=="ref"&&(x[v]=i[v])}else x=i;return Ms(t),i=Lc(e,t,r,x,f,d),v=Bc(),e!==null&&!Ie?($c(e,t,d),Sa(e,t,d)):(ye&&v&&bc(t),t.flags|=1,lt(e,t,i,d),t.child)}function B0(e,t,r,i,d){if(e===null){var f=r.type;return typeof f=="function"&&!pc(f)&&f.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=f,$0(e,t,f,i,d)):(e=Jl(r.type,null,i,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!uu(e,d)){var x=f.memoizedProps;if(r=r.compare,r=r!==null?r:bn,r(x,i)&&e.ref===t.ref)return Sa(e,t,d)}return t.flags|=1,e=ya(f,i),e.ref=t.ref,e.return=t,t.child=e}function $0(e,t,r,i,d){if(e!==null){var f=e.memoizedProps;if(bn(f,i)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=i=f,uu(e,d))(e.flags&131072)!==0&&(Ie=!0);else return t.lanes=e.lanes,Sa(e,t,d)}return su(e,t,r,i,d)}function q0(e,t,r,i){var d=i.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(i=t.child=e.child,d=0;i!==null;)d=d|i.lanes|i.childLanes,i=i.sibling;i=d&~f}else i=0,t.child=null;return H0(e,t,f,r,i)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zl(t,f!==null?f.cachePool:null),f!==null?Vf(t,f):Dc(),Gf(t);else return i=t.lanes=536870912,H0(e,t,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(Zl(t,f.cachePool),Vf(t,f),ts(),t.memoizedState=null):(e!==null&&Zl(t,null),Dc(),ts());return lt(e,t,d,r),t.child}function Dn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function H0(e,t,r,i,d){var f=Ec();return f=f===null?null:{parent:Ge._currentValue,pool:f},t.memoizedState={baseLanes:r,cachePool:f},e!==null&&Zl(t,null),Dc(),Gf(t),e!==null&&gr(e,t,i,!0),t.childLanes=d,null}function mi(e,t){return t=gi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function P0(e,t,r){return Bs(t,e.child,null,r),e=mi(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function Av(e,t,r){var i=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(i.mode==="hidden")return e=mi(t,i),t.lanes=536870912,Dn(null,e);if(Uc(t),(e=Oe)?(e=ep(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},r=Nf(e),r.return=t,t.child=r,rt=t,Oe=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return mi(t,i)}var f=e.memoizedState;if(f!==null){var x=f.dehydrated;if(Uc(t),d)if(t.flags&256)t.flags&=-257,t=P0(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ie||gr(e,t,r,!1),d=(r&e.childLanes)!==0,Ie||d){if(i=Ce,i!==null&&(x=Rh(i,r),x!==0&&x!==f.retryLane))throw f.retryLane=x,Cs(e,x),kt(i,e,x),au;Ni(),t=P0(e,t,r)}else e=f.treeContext,Oe=Ft(x.nextSibling),rt=t,ye=!0,Ja=null,Qt=!1,e!==null&&Tf(t,e),t=mi(t,i),t.flags|=4096;return t}return e=ya(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function pi(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function su(e,t,r,i,d){return Ms(t),r=Lc(e,t,r,i,void 0,d),i=Bc(),e!==null&&!Ie?($c(e,t,d),Sa(e,t,d)):(ye&&i&&bc(t),t.flags|=1,lt(e,t,r,d),t.child)}function V0(e,t,r,i,d,f){return Ms(t),t.updateQueue=null,r=If(t,i,r,d),Kf(e),i=Bc(),e!==null&&!Ie?($c(e,t,f),Sa(e,t,f)):(ye&&i&&bc(t),t.flags|=1,lt(e,t,r,f),t.child)}function G0(e,t,r,i,d){if(Ms(t),t.stateNode===null){var f=hr,x=r.contextType;typeof x=="object"&&x!==null&&(f=nt(x)),f=new r(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=eu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},Ac(t),x=r.contextType,f.context=typeof x=="object"&&x!==null?nt(x):hr,f.state=t.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(Wc(t,r,x,i),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&eu.enqueueReplaceState(f,f.state,null),Tn(t,i,f,d),En(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,E=qs(r,v);f.props=E;var U=f.context,B=r.contextType;x=hr,typeof B=="object"&&B!==null&&(x=nt(B));var H=r.getDerivedStateFromProps;B=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||U!==x)&&C0(t,f,i,x),Fa=!1;var z=t.memoizedState;f.state=z,Tn(t,i,f,d),En(),U=t.memoizedState,v||z!==U||Fa?(typeof H=="function"&&(Wc(t,r,H,i),U=t.memoizedState),(E=Fa||A0(t,r,E,i,z,U,x))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=U),f.props=i,f.state=U,f.context=x,i=E):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Cc(e,t),x=t.memoizedProps,B=qs(r,x),f.props=B,H=t.pendingProps,z=f.context,U=r.contextType,E=hr,typeof U=="object"&&U!==null&&(E=nt(U)),v=r.getDerivedStateFromProps,(U=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==H||z!==E)&&C0(t,f,i,E),Fa=!1,z=t.memoizedState,f.state=z,Tn(t,i,f,d),En();var L=t.memoizedState;x!==H||z!==L||Fa||e!==null&&e.dependencies!==null&&Xl(e.dependencies)?(typeof v=="function"&&(Wc(t,r,v,i),L=t.memoizedState),(B=Fa||A0(t,r,B,i,z,L,E)||e!==null&&e.dependencies!==null&&Xl(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,L,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,L,E)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=L),f.props=i,f.state=L,f.context=E,i=B):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,pi(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=Bs(t,e.child,null,d),t.child=Bs(t,null,r,d)):lt(e,t,r,d),t.memoizedState=f.state,e=t.child):e=Sa(e,t,d),e}function K0(e,t,r,i){return Os(),t.flags|=256,lt(e,t,r,i),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nu(e){return{baseLanes:e,cachePool:Mf()}}function lu(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Mt),e}function I0(e,t,r){var i=t.pendingProps,d=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),x&&(d=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(d?es(t):ts(),(e=Oe)?(e=ep(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},r=Nf(e),r.return=t,t.child=r,rt=t,Oe=null)):e=null,e===null)throw Qa(t);return Pu(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,d?(ts(),d=t.mode,v=gi({mode:"hidden",children:v},d),i=Rs(i,d,r,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=nu(r),i.childLanes=lu(e,x,r),t.memoizedState=ru,Dn(null,i)):(es(t),iu(t,v))}var E=e.memoizedState;if(E!==null&&(v=E.dehydrated,v!==null)){if(f)t.flags&256?(es(t),t.flags&=-257,t=ou(e,t,r)):t.memoizedState!==null?(ts(),t.child=e.child,t.flags|=128,t=null):(ts(),v=i.fallback,d=t.mode,i=gi({mode:"visible",children:i.children},d),v=Rs(v,d,r,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,Bs(t,e.child,null,r),i=t.child,i.memoizedState=nu(r),i.childLanes=lu(e,x,r),t.memoizedState=ru,t=Dn(null,i));else if(es(t),Pu(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var U=x.dgst;x=U,i=Error(l(419)),i.stack="",i.digest=x,wn({value:i,source:null,stack:null}),t=ou(e,t,r)}else if(Ie||gr(e,t,r,!1),x=(r&e.childLanes)!==0,Ie||x){if(x=Ce,x!==null&&(i=Rh(x,r),i!==0&&i!==E.retryLane))throw E.retryLane=i,Cs(e,i),kt(x,e,i),au;Hu(v)||Ni(),t=ou(e,t,r)}else Hu(v)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Oe=Ft(v.nextSibling),rt=t,ye=!0,Ja=null,Qt=!1,e!==null&&Tf(t,e),t=iu(t,i.children),t.flags|=4096);return t}return d?(ts(),v=i.fallback,d=t.mode,E=e.child,U=E.sibling,i=ya(E,{mode:"hidden",children:i.children}),i.subtreeFlags=E.subtreeFlags&65011712,U!==null?v=ya(U,v):(v=Rs(v,d,r,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,Dn(null,i),i=t.child,v=e.child.memoizedState,v===null?v=nu(r):(d=v.cachePool,d!==null?(E=Ge._currentValue,d=d.parent!==E?{parent:E,pool:E}:d):d=Mf(),v={baseLanes:v.baseLanes|r,cachePool:d}),i.memoizedState=v,i.childLanes=lu(e,x,r),t.memoizedState=ru,Dn(e.child,i)):(es(t),r=e.child,e=r.sibling,r=ya(r,{mode:"visible",children:i.children}),r.return=t,r.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=r,t.memoizedState=null,r)}function iu(e,t){return t=gi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gi(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function ou(e,t,r){return Bs(t,e.child,null,r),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y0(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),jc(e.return,t,r)}function cu(e,t,r,i,d,f){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:d,treeForkCount:f}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=i,x.tail=r,x.tailMode=d,x.treeForkCount=f)}function J0(e,t,r){var i=t.pendingProps,d=i.revealOrder,f=i.tail;i=i.children;var x=Pe.current,v=(x&2)!==0;if(v?(x=x&1|2,t.flags|=128):x&=1,J(Pe,x),lt(e,t,i,r),i=ye?yn:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y0(e,r,t);else if(e.tag===19)Y0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=t.child,d=null;r!==null;)e=r.alternate,e!==null&&ri(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=t.child,t.child=null):(d=r.sibling,r.sibling=null),cu(t,!1,d,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&ri(e)===null){t.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}cu(t,!0,r,null,f,i);break;case"together":cu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Sa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(gr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=ya(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ya(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xl(e)))}function Cv(e,t,r){switch(t.tag){case 3:mt(t,t.stateNode.containerInfo),Xa(t,Ge,e.memoizedState.cache),Os();break;case 27:case 5:rn(t);break;case 4:mt(t,t.stateNode.containerInfo);break;case 10:Xa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uc(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(es(t),t.flags|=128,null):(r&t.child.childLanes)!==0?I0(e,t,r):(es(t),e=Sa(e,t,r),e!==null?e.sibling:null);es(t);break;case 19:var d=(e.flags&128)!==0;if(i=(r&t.childLanes)!==0,i||(gr(e,t,r,!1),i=(r&t.childLanes)!==0),d){if(i)return J0(e,t,r);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Pe,Pe.current),i)break;return null;case 22:return t.lanes=0,q0(e,t,r,t.pendingProps);case 24:Xa(t,Ge,e.memoizedState.cache)}return Sa(e,t,r)}function Q0(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!uu(e,r)&&(t.flags&128)===0)return Ie=!1,Cv(e,t,r);Ie=(e.flags&131072)!==0}else Ie=!1,ye&&(t.flags&1048576)!==0&&Ef(t,yn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=zs(t.elementType),t.type=e,typeof e=="function")pc(e)?(i=qs(e,i),t.tag=1,t=G0(null,t,e,i,r)):(t.tag=0,t=su(null,t,e,i,r));else{if(e!=null){var d=e.$$typeof;if(d===V){t.tag=11,t=L0(null,t,e,i,r);break e}else if(d===K){t.tag=14,t=B0(null,t,e,i,r);break e}}throw t=ft(e)||e,Error(l(306,t,""))}}return t;case 0:return su(e,t,t.type,t.pendingProps,r);case 1:return i=t.type,d=qs(i,t.pendingProps),G0(e,t,i,d,r);case 3:e:{if(mt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var f=t.memoizedState;d=f.element,Cc(e,t),Tn(t,i,null,r);var x=t.memoizedState;if(i=x.cache,Xa(t,Ge,i),i!==f.cache&&kc(t,[Ge],r,!0),En(),i=x.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=K0(e,t,i,r);break e}else if(i!==d){d=It(Error(l(424)),t),wn(d),t=K0(e,t,i,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Oe=Ft(e.firstChild),rt=t,ye=!0,Ja=null,Qt=!0,r=qf(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Os(),i===d){t=Sa(e,t,r);break e}lt(e,t,i,r)}t=t.child}return t;case 26:return pi(e,t),e===null?(r=lp(t.type,null,t.pendingProps,null))?t.memoizedState=r:ye||(r=t.type,e=t.pendingProps,i=Oi(pe.current).createElement(r),i[st]=t,i[bt]=e,it(i,r,e),Ze(i),t.stateNode=i):t.memoizedState=lp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rn(t),e===null&&ye&&(i=t.stateNode=sp(t.type,t.pendingProps,pe.current),rt=t,Qt=!0,d=Oe,cs(t.type)?(Vu=d,Oe=Ft(i.firstChild)):Oe=d),lt(e,t,t.pendingProps.children,r),pi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((d=i=Oe)&&(i=ly(i,t.type,t.pendingProps,Qt),i!==null?(t.stateNode=i,rt=t,Oe=Ft(i.firstChild),Qt=!1,d=!0):d=!1),d||Qa(t)),rn(t),d=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,i=f.children,Bu(d,f)?i=null:x!==null&&Bu(d,x)&&(t.flags|=32),t.memoizedState!==null&&(d=Lc(e,t,wv,null,null,r),Jn._currentValue=d),pi(e,t),lt(e,t,i,r),t.child;case 6:return e===null&&ye&&((e=r=Oe)&&(r=iy(r,t.pendingProps,Qt),r!==null?(t.stateNode=r,rt=t,Oe=null,e=!0):e=!1),e||Qa(t)),null;case 13:return I0(e,t,r);case 4:return mt(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Bs(t,null,i,r):lt(e,t,i,r),t.child;case 11:return L0(e,t,t.type,t.pendingProps,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:return i=t.pendingProps,Xa(t,t.type,i.value),lt(e,t,i.children,r),t.child;case 9:return d=t.type._context,i=t.pendingProps.children,Ms(t),d=nt(d),i=i(d),t.flags|=1,lt(e,t,i,r),t.child;case 14:return B0(e,t,t.type,t.pendingProps,r);case 15:return $0(e,t,t.type,t.pendingProps,r);case 19:return J0(e,t,r);case 31:return Av(e,t,r);case 22:return q0(e,t,r,t.pendingProps);case 24:return Ms(t),i=nt(Ge),e===null?(d=Ec(),d===null&&(d=Ce,f=Nc(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=r),d=f),t.memoizedState={parent:i,cache:d},Ac(t),Xa(t,Ge,d)):((e.lanes&r)!==0&&(Cc(e,t),Tn(t,null,null,r),En()),d=e.memoizedState,f=t.memoizedState,d.parent!==i?(d={parent:i,cache:i},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Xa(t,Ge,i)):(i=f.cache,Xa(t,Ge,i),i!==d.cache&&kc(t,[Ge],r,!0))),lt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ea(e){e.flags|=4}function du(e,t,r,i,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(_m())e.flags|=8192;else throw Ls=ei,Tc}else e.flags&=-16777217}function X0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dp(t))if(_m())e.flags|=8192;else throw Ls=ei,Tc}function xi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Th():536870912,e.lanes|=t,Tr|=t)}function Mn(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,i|=d.subtreeFlags&65011712,i|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Rv(e,t,r){var i=t.pendingProps;switch(vc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return r=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ja(Ge),He(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pr(t)?Ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wc())),De(t),null;case 26:var d=t.type,f=t.memoizedState;return e===null?(Ea(t),f!==null?(De(t),X0(t,f)):(De(t),du(t,d,null,i,r))):f?f!==e.memoizedState?(Ea(t),De(t),X0(t,f)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Ea(t),De(t),du(t,d,e,i,r)),null;case 27:if(Tl(t),r=pe.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ea(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return De(t),null}e=Z.current,pr(t)?Af(t):(e=sp(d,i,r),t.stateNode=e,Ea(t))}return De(t),null;case 5:if(Tl(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ea(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return De(t),null}if(f=Z.current,pr(t))Af(t);else{var x=Oi(pe.current);switch(f){case 1:f=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=x.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?x.createElement("select",{is:i.is}):x.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?x.createElement(d,{is:i.is}):x.createElement(d)}}f[st]=t,f[bt]=i;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=f;e:switch(it(f,d,i),d){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ea(t)}}return De(t),du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ea(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=pe.current,pr(t)){if(e=t.stateNode,r=t.memoizedProps,i=null,d=rt,d!==null)switch(d.tag){case 27:case 5:i=d.memoizedProps}e[st]=t,e=!!(e.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Im(e.nodeValue,r)),e||Qa(t,!0)}else e=Oi(e).createTextNode(i),e[st]=t,t.stateNode=e}return De(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(i=pr(t),r!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[st]=t}else Os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else r=wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(l(558))}return De(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=pr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[st]=t}else Os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),d=!1}else d=wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=r,t):(r=i!==null,e=e!==null&&e.memoizedState!==null,r&&(i=t.child,d=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(d=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==d&&(i.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),xi(t,t.updateQueue),De(t),null);case 4:return He(),e===null&&Du(t.stateNode.containerInfo),De(t),null;case 10:return ja(t.type),De(t),null;case 19:if(P(Pe),i=t.memoizedState,i===null)return De(t),null;if(d=(t.flags&128)!==0,f=i.rendering,f===null)if(d)Mn(i,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=ri(e),f!==null){for(t.flags|=128,Mn(i,!1),e=f.updateQueue,t.updateQueue=e,xi(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)kf(r,e),r=r.sibling;return J(Pe,Pe.current&1|2),ye&&wa(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&St()>_i&&(t.flags|=128,d=!0,Mn(i,!1),t.lanes=4194304)}else{if(!d)if(e=ri(f),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,xi(t,e),Mn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!ye)return De(t),null}else 2*St()-i.renderingStartTime>_i&&r!==536870912&&(t.flags|=128,d=!0,Mn(i,!1),t.lanes=4194304);i.isBackwards?(f.sibling=t.child,t.child=f):(e=i.last,e!==null?e.sibling=f:t.child=f,i.last=f)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=St(),e.sibling=null,r=Pe.current,J(Pe,d?r&1|2:r&1),ye&&wa(t,i.treeForkCount),e):(De(t),null);case 22:case 23:return Ot(t),Mc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(r&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),r=t.updateQueue,r!==null&&xi(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==r&&(t.flags|=2048),e!==null&&P(Us),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ja(Ge),De(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Ov(e,t){switch(vc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ja(Ge),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tl(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(l(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Pe),null;case 4:return He(),null;case 10:return ja(t.type),null;case 22:case 23:return Ot(t),Mc(),e!==null&&P(Us),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ja(Ge),null;case 25:return null;default:return null}}function F0(e,t){switch(vc(t),t.tag){case 3:ja(Ge),He();break;case 26:case 27:case 5:Tl(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:P(Pe);break;case 10:ja(t.type);break;case 22:case 23:Ot(t),Mc(),e!==null&&P(Us);break;case 24:ja(Ge)}}function Un(e,t){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var d=i.next;r=d;do{if((r.tag&e)===e){i=void 0;var f=r.create,x=r.inst;i=f(),x.destroy=i}r=r.next}while(r!==d)}}catch(v){Se(t,t.return,v)}}function as(e,t,r){try{var i=t.updateQueue,d=i!==null?i.lastEffect:null;if(d!==null){var f=d.next;i=f;do{if((i.tag&e)===e){var x=i.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,d=t;var E=r,U=v;try{U()}catch(B){Se(d,E,B)}}}i=i.next}while(i!==f)}}catch(B){Se(t,t.return,B)}}function Z0(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Pf(t,r)}catch(i){Se(e,e.return,i)}}}function W0(e,t,r){r.props=qs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(i){Se(e,t,i)}}function zn(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof r=="function"?e.refCleanup=r(i):r.current=i}}catch(d){Se(e,t,d)}}function ua(e,t){var r=e.ref,i=e.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(d){Se(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Se(e,t,d)}else r.current=null}function em(e){var t=e.type,r=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(d){Se(e,e.return,d)}}function hu(e,t,r){try{var i=e.stateNode;ey(i,e.type,r,t),i[bt]=t}catch(d){Se(e,e.return,d)}}function tm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cs(e.type)||e.tag===4}function fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ba));else if(i!==4&&(i===27&&cs(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,r),e=e.sibling;e!==null;)mu(e,t,r),e=e.sibling}function bi(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(i===27&&cs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(bi(e,t,r),e=e.sibling;e!==null;)bi(e,t,r),e=e.sibling}function am(e){var t=e.stateNode,r=e.memoizedProps;try{for(var i=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);it(t,i,r),t[st]=e,t[bt]=r}catch(f){Se(e,e.return,f)}}var Ta=!1,Ye=!1,pu=!1,sm=typeof WeakSet=="function"?WeakSet:Set,We=null;function Dv(e,t){if(e=e.containerInfo,zu=$i,e=pf(e),oc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var d=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var x=0,v=-1,E=-1,U=0,B=0,H=e,z=null;t:for(;;){for(var L;H!==r||d!==0&&H.nodeType!==3||(v=x+d),H!==f||i!==0&&H.nodeType!==3||(E=x+i),H.nodeType===3&&(x+=H.nodeValue.length),(L=H.firstChild)!==null;)z=H,H=L;for(;;){if(H===e)break t;if(z===r&&++U===d&&(v=x),z===f&&++B===i&&(E=x),(L=H.nextSibling)!==null)break;H=z,z=H.parentNode}H=L}r=v===-1||E===-1?null:{start:v,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lu={focusedElem:e,selectionRange:r},$i=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=t,d=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var X=qs(r.type,d);e=i.getSnapshotBeforeUpdate(X,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(se){Se(r,r.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)qu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function rm(e,t,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:Ca(e,r),i&4&&Un(5,r);break;case 1:if(Ca(e,r),i&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(x){Se(r,r.return,x)}else{var d=qs(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Se(r,r.return,x)}}i&64&&Z0(r),i&512&&zn(r,r.return);break;case 3:if(Ca(e,r),i&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Pf(e,t)}catch(x){Se(r,r.return,x)}}break;case 27:t===null&&i&4&&am(r);case 26:case 5:Ca(e,r),t===null&&i&4&&em(r),i&512&&zn(r,r.return);break;case 12:Ca(e,r);break;case 31:Ca(e,r),i&4&&im(e,r);break;case 13:Ca(e,r),i&4&&om(e,r),i&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Pv.bind(null,r),oy(e,r))));break;case 22:if(i=r.memoizedState!==null||Ta,!i){t=t!==null&&t.memoizedState!==null||Ye,d=Ta;var f=Ye;Ta=i,(Ye=t)&&!f?Ra(e,r,(r.subtreeFlags&8772)!==0):Ca(e,r),Ta=d,Ye=f}break;case 30:break;default:Ca(e,r)}}function nm(e){var t=e.alternate;t!==null&&(e.alternate=null,nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ko(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,yt=!1;function Aa(e,t,r){for(r=r.child;r!==null;)lm(e,t,r),r=r.sibling}function lm(e,t,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(nn,r)}catch{}switch(r.tag){case 26:Ye||ua(r,t),Aa(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ye||ua(r,t);var i=Me,d=yt;cs(r.type)&&(Me=r.stateNode,yt=!1),Aa(e,t,r),Kn(r.stateNode),Me=i,yt=d;break;case 5:Ye||ua(r,t);case 6:if(i=Me,d=yt,Me=null,Aa(e,t,r),Me=i,yt=d,Me!==null)if(yt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(r.stateNode)}catch(f){Se(r,t,f)}else try{Me.removeChild(r.stateNode)}catch(f){Se(r,t,f)}break;case 18:Me!==null&&(yt?(e=Me,Zm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),zr(e)):Zm(Me,r.stateNode));break;case 4:i=Me,d=yt,Me=r.stateNode.containerInfo,yt=!0,Aa(e,t,r),Me=i,yt=d;break;case 0:case 11:case 14:case 15:as(2,r,t),Ye||as(4,r,t),Aa(e,t,r);break;case 1:Ye||(ua(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"&&W0(r,t,i)),Aa(e,t,r);break;case 21:Aa(e,t,r);break;case 22:Ye=(i=Ye)||r.memoizedState!==null,Aa(e,t,r),Ye=i;break;default:Aa(e,t,r)}}function im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zr(e)}catch(r){Se(t,t.return,r)}}}function om(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zr(e)}catch(r){Se(t,t.return,r)}}function Mv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sm),t;default:throw Error(l(435,e.tag))}}function vi(e,t){var r=Mv(e);t.forEach(function(i){if(!r.has(i)){r.add(i);var d=Vv.bind(null,e,i);i.then(d,d)}})}function wt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var d=r[i],f=e,x=t,v=x;e:for(;v!==null;){switch(v.tag){case 27:if(cs(v.type)){Me=v.stateNode,yt=!1;break e}break;case 5:Me=v.stateNode,yt=!1;break e;case 3:case 4:Me=v.stateNode.containerInfo,yt=!0;break e}v=v.return}if(Me===null)throw Error(l(160));lm(f,x,d),Me=null,yt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cm(t,e),t=t.sibling}var ta=null;function cm(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),_t(e),i&4&&(as(3,e,e.return),Un(3,e),as(5,e,e.return));break;case 1:wt(t,e),_t(e),i&512&&(Ye||r===null||ua(r,r.return)),i&64&&Ta&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var d=ta;if(wt(t,e),_t(e),i&512&&(Ye||r===null||ua(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=e.memoizedState,r===null)if(i===null)if(e.stateNode===null){e:{i=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(i){case"title":f=d.getElementsByTagName("title")[0],(!f||f[cn]||f[st]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(i),d.head.insertBefore(f,d.querySelector("head > title"))),it(f,i,r),f[st]=e,Ze(f),i=f;break e;case"link":var x=cp("link","href",d).get(i+(r.href||""));if(x){for(var v=0;v<x.length;v++)if(f=x[v],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(v,1);break t}}f=d.createElement(i),it(f,i,r),d.head.appendChild(f);break;case"meta":if(x=cp("meta","content",d).get(i+(r.content||""))){for(v=0;v<x.length;v++)if(f=x[v],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(v,1);break t}}f=d.createElement(i),it(f,i,r),d.head.appendChild(f);break;default:throw Error(l(468,i))}f[st]=e,Ze(f),i=f}e.stateNode=i}else up(d,e.type,e.stateNode);else e.stateNode=op(d,i,e.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?up(d,e.type,e.stateNode):op(d,i,e.memoizedProps)):i===null&&e.stateNode!==null&&hu(e,e.memoizedProps,r.memoizedProps)}break;case 27:wt(t,e),_t(e),i&512&&(Ye||r===null||ua(r,r.return)),r!==null&&i&4&&hu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(wt(t,e),_t(e),i&512&&(Ye||r===null||ua(r,r.return)),e.flags&32){d=e.stateNode;try{nr(d,"")}catch(X){Se(e,e.return,X)}}i&4&&e.stateNode!=null&&(d=e.memoizedProps,hu(e,d,r!==null?r.memoizedProps:d)),i&1024&&(pu=!0);break;case 6:if(wt(t,e),_t(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,r=e.stateNode;try{r.nodeValue=i}catch(X){Se(e,e.return,X)}}break;case 3:if(Ui=null,d=ta,ta=Di(t.containerInfo),wt(t,e),ta=d,_t(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(X){Se(e,e.return,X)}pu&&(pu=!1,um(e));break;case 4:i=ta,ta=Di(e.stateNode.containerInfo),wt(t,e),_t(e),ta=i;break;case 12:wt(t,e),_t(e);break;case 31:wt(t,e),_t(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vi(e,i)));break;case 13:wt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wi=St()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vi(e,i)));break;case 22:d=e.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,U=Ta,B=Ye;if(Ta=U||d,Ye=B||E,wt(t,e),Ye=B,Ta=U,_t(e),i&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(r===null||E||Ta||Ye||Hs(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){E=r=t;try{if(f=E.stateNode,d)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=E.stateNode;var H=E.memoizedProps.style,z=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(X){Se(E,E.return,X)}}}else if(t.tag===6){if(r===null){E=t;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(X){Se(E,E.return,X)}}}else if(t.tag===18){if(r===null){E=t;try{var L=E.stateNode;d?Wm(L,!0):Wm(E.stateNode,!1)}catch(X){Se(E,E.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,vi(e,r))));break;case 19:wt(t,e),_t(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vi(e,i)));break;case 30:break;case 21:break;default:wt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var r,i=e.return;i!==null;){if(tm(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var d=r.stateNode,f=fu(e);bi(e,f,d);break;case 5:var x=r.stateNode;r.flags&32&&(nr(x,""),r.flags&=-33);var v=fu(e);bi(e,v,x);break;case 3:case 4:var E=r.stateNode.containerInfo,U=fu(e);mu(e,U,E);break;default:throw Error(l(161))}}catch(B){Se(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function um(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;um(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rm(e,t.alternate,t),t=t.sibling}function Hs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:as(4,t,t.return),Hs(t);break;case 1:ua(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&W0(t,t.return,r),Hs(t);break;case 27:Kn(t.stateNode);case 26:case 5:ua(t,t.return),Hs(t);break;case 22:t.memoizedState===null&&Hs(t);break;case 30:Hs(t);break;default:Hs(t)}e=e.sibling}}function Ra(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,d=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:Ra(d,f,r),Un(4,f);break;case 1:if(Ra(d,f,r),i=f,d=i.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Se(i,i.return,U)}if(i=f,d=i.updateQueue,d!==null){var v=i.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)Hf(E[d],v)}catch(U){Se(i,i.return,U)}}r&&x&64&&Z0(f),zn(f,f.return);break;case 27:am(f);case 26:case 5:Ra(d,f,r),r&&i===null&&x&4&&em(f),zn(f,f.return);break;case 12:Ra(d,f,r);break;case 31:Ra(d,f,r),r&&x&4&&im(d,f);break;case 13:Ra(d,f,r),r&&x&4&&om(d,f);break;case 22:f.memoizedState===null&&Ra(d,f,r),zn(f,f.return);break;case 30:break;default:Ra(d,f,r)}t=t.sibling}}function gu(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&_n(r))}function xu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_n(e))}function aa(e,t,r,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dm(e,t,r,i),t=t.sibling}function dm(e,t,r,i){var d=t.flags;switch(t.tag){case 0:case 11:case 15:aa(e,t,r,i),d&2048&&Un(9,t);break;case 1:aa(e,t,r,i);break;case 3:aa(e,t,r,i),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_n(e)));break;case 12:if(d&2048){aa(e,t,r,i),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,v=f.onPostCommit;typeof v=="function"&&v(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Se(t,t.return,E)}}else aa(e,t,r,i);break;case 31:aa(e,t,r,i);break;case 13:aa(e,t,r,i);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?aa(e,t,r,i):Ln(e,t):f._visibility&2?aa(e,t,r,i):(f._visibility|=2,Nr(e,t,r,i,(t.subtreeFlags&10256)!==0||!1)),d&2048&&gu(x,t);break;case 24:aa(e,t,r,i),d&2048&&xu(t.alternate,t);break;default:aa(e,t,r,i)}}function Nr(e,t,r,i,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,x=t,v=r,E=i,U=x.flags;switch(x.tag){case 0:case 11:case 15:Nr(f,x,v,E,d),Un(8,x);break;case 23:break;case 22:var B=x.stateNode;x.memoizedState!==null?B._visibility&2?Nr(f,x,v,E,d):Ln(f,x):(B._visibility|=2,Nr(f,x,v,E,d)),d&&U&2048&&gu(x.alternate,x);break;case 24:Nr(f,x,v,E,d),d&&U&2048&&xu(x.alternate,x);break;default:Nr(f,x,v,E,d)}t=t.sibling}}function Ln(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,i=t,d=i.flags;switch(i.tag){case 22:Ln(r,i),d&2048&&gu(i.alternate,i);break;case 24:Ln(r,i),d&2048&&xu(i.alternate,i);break;default:Ln(r,i)}t=t.sibling}}var Bn=8192;function Sr(e,t,r){if(e.subtreeFlags&Bn)for(e=e.child;e!==null;)hm(e,t,r),e=e.sibling}function hm(e,t,r){switch(e.tag){case 26:Sr(e,t,r),e.flags&Bn&&e.memoizedState!==null&&yy(r,ta,e.memoizedState,e.memoizedProps);break;case 5:Sr(e,t,r);break;case 3:case 4:var i=ta;ta=Di(e.stateNode.containerInfo),Sr(e,t,r),ta=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Bn,Bn=16777216,Sr(e,t,r),Bn=i):Sr(e,t,r));break;default:Sr(e,t,r)}}function fm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function $n(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];We=i,pm(i,e)}fm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mm(e),e=e.sibling}function mm(e){switch(e.tag){case 0:case 11:case 15:$n(e),e.flags&2048&&as(9,e,e.return);break;case 3:$n(e);break;case 12:$n(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yi(e)):$n(e);break;default:$n(e)}}function yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];We=i,pm(i,e)}fm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:as(8,t,t.return),yi(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,yi(t));break;default:yi(t)}e=e.sibling}}function pm(e,t){for(;We!==null;){var r=We;switch(r.tag){case 0:case 11:case 15:as(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:_n(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,We=i;else e:for(r=e;We!==null;){i=We;var d=i.sibling,f=i.return;if(nm(i),i===r){We=null;break e}if(d!==null){d.return=f,We=d;break e}We=f}}}var Uv={getCacheForType:function(e){var t=nt(Ge),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return nt(Ge).controller.signal}},zv=typeof WeakMap=="function"?WeakMap:Map,je=0,Ce=null,ge=null,be=0,Ne=0,Dt=null,ss=!1,Er=!1,bu=!1,Oa=0,$e=0,rs=0,Ps=0,vu=0,Mt=0,Tr=0,qn=null,jt=null,yu=!1,wi=0,gm=0,_i=1/0,ji=null,ns=null,Xe=0,ls=null,Ar=null,Da=0,wu=0,_u=null,xm=null,Hn=0,ju=null;function Ut(){return(je&2)!==0&&be!==0?be&-be:$.T!==null?Au():Oh()}function bm(){if(Mt===0)if((be&536870912)===0||ye){var e=Rl;Rl<<=1,(Rl&3932160)===0&&(Rl=262144),Mt=e}else Mt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Mt}function kt(e,t,r){(e===Ce&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Cr(e,0),is(e,be,Mt,!1)),on(e,r),((je&2)===0||e!==Ce)&&(e===Ce&&((je&2)===0&&(Ps|=r),$e===4&&is(e,be,Mt,!1)),da(e))}function vm(e,t,r){if((je&6)!==0)throw Error(l(327));var i=!r&&(t&127)===0&&(t&e.expiredLanes)===0||ln(e,t),d=i?$v(e,t):Nu(e,t,!0),f=i;do{if(d===0){Er&&!i&&is(e,t,0,!1);break}else{if(r=e.current.alternate,f&&!Lv(r)){d=Nu(e,t,!1),f=!1;continue}if(d===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var v=e;d=qn;var E=v.current.memoizedState.isDehydrated;if(E&&(Cr(v,x).flags|=256),x=Nu(v,x,!1),x!==2){if(bu&&!E){v.errorRecoveryDisabledLanes|=f,Ps|=f,d=4;break e}f=jt,jt=d,f!==null&&(jt===null?jt=f:jt.push.apply(jt,f))}d=x}if(f=!1,d!==2)continue}}if(d===1){Cr(e,0),is(e,t,0,!0);break}e:{switch(i=e,f=d,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:is(i,t,Mt,!ss);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(d=wi+300-St(),10<d)){if(is(i,t,Mt,!ss),Dl(i,0,!0)!==0)break e;Da=t,i.timeoutHandle=Xm(ym.bind(null,i,r,jt,ji,yu,t,Mt,Ps,Tr,ss,f,"Throttled",-0,0),d);break e}ym(i,r,jt,ji,yu,t,Mt,Ps,Tr,ss,f,null,-0,0)}}break}while(!0);da(e)}function ym(e,t,r,i,d,f,x,v,E,U,B,H,z,L){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},hm(t,f,H);var X=(f&62914560)===f?wi-St():(f&4194048)===f?gm-St():0;if(X=wy(H,X),X!==null){Da=f,e.cancelPendingCommit=X(Tm.bind(null,e,t,f,r,i,d,x,v,E,B,H,null,z,L)),is(e,f,x,!U);return}}Tm(e,t,f,r,i,d,x,v,E)}function Lv(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var d=r[i],f=d.getSnapshot;d=d.value;try{if(!At(f(),d))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,r,i){t&=~vu,t&=~Ps,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var d=t;0<d;){var f=31-Tt(d),x=1<<f;i[f]=-1,d&=~x}r!==0&&Ah(e,r,t)}function ki(){return(je&6)===0?(Pn(0),!1):!0}function ku(){if(ge!==null){if(Ne===0)var e=ge.return;else e=ge,_a=Ds=null,qc(e),yr=null,kn=0,e=ge;for(;e!==null;)F0(e.alternate,e),e=e.return;ge=null}}function Cr(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,sy(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Da=0,ku(),Ce=e,ge=r=ya(e.current,null),be=t,Ne=0,Dt=null,ss=!1,Er=ln(e,t),bu=!1,Tr=Mt=vu=Ps=rs=$e=0,jt=qn=null,yu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var d=31-Tt(i),f=1<<d;t|=e[d],i&=~f}return Oa=t,Kl(),r}function wm(e,t){de=null,$.H=On,t===vr||t===Wl?(t=Lf(),Ne=3):t===Tc?(t=Lf(),Ne=4):Ne=t===au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,ge===null&&($e=1,fi(e,It(t,e.current)))}function _m(){var e=Rt.current;return e===null?!0:(be&4194048)===be?Xt===null:(be&62914560)===be||(be&536870912)!==0?e===Xt:!1}function jm(){var e=$.H;return $.H=On,e===null?On:e}function km(){var e=$.A;return $.A=Uv,e}function Ni(){$e=4,ss||(be&4194048)!==be&&Rt.current!==null||(Er=!0),(rs&134217727)===0&&(Ps&134217727)===0||Ce===null||is(Ce,be,Mt,!1)}function Nu(e,t,r){var i=je;je|=2;var d=jm(),f=km();(Ce!==e||be!==t)&&(ji=null,Cr(e,t)),t=!1;var x=$e;e:do try{if(Ne!==0&&ge!==null){var v=ge,E=Dt;switch(Ne){case 8:ku(),x=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var U=Ne;if(Ne=0,Dt=null,Rr(e,v,E,U),r&&Er){x=0;break e}break;default:U=Ne,Ne=0,Dt=null,Rr(e,v,E,U)}}Bv(),x=$e;break}catch(B){wm(e,B)}while(!0);return t&&e.shellSuspendCounter++,_a=Ds=null,je=i,$.H=d,$.A=f,ge===null&&(Ce=null,be=0,Kl()),x}function Bv(){for(;ge!==null;)Nm(ge)}function $v(e,t){var r=je;je|=2;var i=jm(),d=km();Ce!==e||be!==t?(ji=null,_i=St()+500,Cr(e,t)):Er=ln(e,t);e:do try{if(Ne!==0&&ge!==null){t=ge;var f=Dt;t:switch(Ne){case 1:Ne=0,Dt=null,Rr(e,t,f,1);break;case 2:case 9:if(Uf(f)){Ne=0,Dt=null,Sm(t);break}t=function(){Ne!==2&&Ne!==9||Ce!==e||(Ne=7),da(e)},f.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Uf(f)?(Ne=0,Dt=null,Sm(t)):(Ne=0,Dt=null,Rr(e,t,f,7));break;case 5:var x=null;switch(ge.tag){case 26:x=ge.memoizedState;case 5:case 27:var v=ge;if(x?dp(x):v.stateNode.complete){Ne=0,Dt=null;var E=v.sibling;if(E!==null)ge=E;else{var U=v.return;U!==null?(ge=U,Si(U)):ge=null}break t}}Ne=0,Dt=null,Rr(e,t,f,5);break;case 6:Ne=0,Dt=null,Rr(e,t,f,6);break;case 8:ku(),$e=6;break e;default:throw Error(l(462))}}qv();break}catch(B){wm(e,B)}while(!0);return _a=Ds=null,$.H=i,$.A=d,je=r,ge!==null?0:(Ce=null,be=0,Kl(),$e)}function qv(){for(;ge!==null&&!cb();)Nm(ge)}function Nm(e){var t=Q0(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?Si(e):ge=t}function Sm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=V0(r,t,t.pendingProps,t.type,void 0,be);break;case 11:t=V0(r,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:qc(t);default:F0(r,t),t=ge=kf(t,Oa),t=Q0(r,t,Oa)}e.memoizedProps=e.pendingProps,t===null?Si(e):ge=t}function Rr(e,t,r,i){_a=Ds=null,qc(t),yr=null,kn=0;var d=t.return;try{if(Tv(e,d,t,r,be)){$e=1,fi(e,It(r,e.current)),ge=null;return}}catch(f){if(d!==null)throw ge=d,f;$e=1,fi(e,It(r,e.current)),ge=null;return}t.flags&32768?(ye||i===1?e=!0:Er||(be&536870912)!==0?e=!1:(ss=e=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Em(t,e)):Si(t)}function Si(e){var t=e;do{if((t.flags&32768)!==0){Em(t,ss);return}e=t.return;var r=Rv(t.alternate,t,Oa);if(r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);$e===0&&($e=5)}function Em(e,t){do{var r=Ov(e.alternate,e);if(r!==null){r.flags&=32767,ge=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=r}while(e!==null);$e=6,ge=null}function Tm(e,t,r,i,d,f,x,v,E){e.cancelPendingCommit=null;do Ei();while(Xe!==0);if((je&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=fc,vb(e,r,f,x,v,E),e===Ce&&(ge=Ce=null,be=0),Ar=t,ls=e,Da=r,wu=f,_u=d,xm=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gv(Al,function(){return Dm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=$.T,$.T=null,d=I.p,I.p=2,x=je,je|=4;try{Dv(e,t,r)}finally{je=x,I.p=d,$.T=i}}Xe=1,Am(),Cm(),Rm()}}function Am(){if(Xe===1){Xe=0;var e=ls,t=Ar,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var i=I.p;I.p=2;var d=je;je|=4;try{cm(t,e);var f=Lu,x=pf(e.containerInfo),v=f.focusedElem,E=f.selectionRange;if(x!==v&&v&&v.ownerDocument&&mf(v.ownerDocument.documentElement,v)){if(E!==null&&oc(v)){var U=E.start,B=E.end;if(B===void 0&&(B=U),"selectionStart"in v)v.selectionStart=U,v.selectionEnd=Math.min(B,v.value.length);else{var H=v.ownerDocument||document,z=H&&H.defaultView||window;if(z.getSelection){var L=z.getSelection(),X=v.textContent.length,se=Math.min(E.start,X),Ae=E.end===void 0?se:Math.min(E.end,X);!L.extend&&se>Ae&&(x=Ae,Ae=se,se=x);var R=ff(v,se),C=ff(v,Ae);if(R&&C&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==C.node||L.focusOffset!==C.offset)){var M=H.createRange();M.setStart(R.node,R.offset),L.removeAllRanges(),se>Ae?(L.addRange(M),L.extend(C.node,C.offset)):(M.setEnd(C.node,C.offset),L.addRange(M))}}}}for(H=[],L=v;L=L.parentNode;)L.nodeType===1&&H.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var q=H[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}$i=!!zu,Lu=zu=null}finally{je=d,I.p=i,$.T=r}}e.current=t,Xe=2}}function Cm(){if(Xe===2){Xe=0;var e=ls,t=Ar,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var i=I.p;I.p=2;var d=je;je|=4;try{rm(e,t.alternate,t)}finally{je=d,I.p=i,$.T=r}}Xe=3}}function Rm(){if(Xe===4||Xe===3){Xe=0,ub();var e=ls,t=Ar,r=Da,i=xm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,Ar=ls=null,Om(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ns=null),Vo(r),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(nn,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=$.T,d=I.p,I.p=2,$.T=null;try{for(var f=e.onRecoverableError,x=0;x<i.length;x++){var v=i[x];f(v.value,{componentStack:v.stack})}}finally{$.T=t,I.p=d}}(Da&3)!==0&&Ei(),da(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===ju?Hn++:(Hn=0,ju=e):Hn=0,Pn(0)}}function Om(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_n(t)))}function Ei(){return Am(),Cm(),Rm(),Dm()}function Dm(){if(Xe!==5)return!1;var e=ls,t=wu;wu=0;var r=Vo(Da),i=$.T,d=I.p;try{I.p=32>r?32:r,$.T=null,r=_u,_u=null;var f=ls,x=Da;if(Xe=0,Ar=ls=null,Da=0,(je&6)!==0)throw Error(l(331));var v=je;if(je|=4,mm(f.current),dm(f,f.current,x,r),je=v,Pn(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(nn,f)}catch{}return!0}finally{I.p=d,$.T=i,Om(e,t)}}function Mm(e,t,r){t=It(r,t),t=tu(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(on(e,2),da(e))}function Se(e,t,r){if(e.tag===3)Mm(e,e,r);else for(;t!==null;){if(t.tag===3){Mm(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ns===null||!ns.has(i))){e=It(r,e),r=U0(2),i=Wa(t,r,2),i!==null&&(z0(r,i,t,e),on(i,2),da(i));break}}t=t.return}}function Su(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new zv;var d=new Set;i.set(t,d)}else d=i.get(t),d===void 0&&(d=new Set,i.set(t,d));d.has(r)||(bu=!0,d.add(r),e=Hv.bind(null,e,t,r),t.then(e,e))}function Hv(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ce===e&&(be&r)===r&&($e===4||$e===3&&(be&62914560)===be&&300>St()-wi?(je&2)===0&&Cr(e,0):vu|=r,Tr===be&&(Tr=0)),da(e)}function Um(e,t){t===0&&(t=Th()),e=Cs(e,t),e!==null&&(on(e,t),da(e))}function Pv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Um(e,r)}function Vv(e,t){var r=0;switch(e.tag){case 31:case 13:var i=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Um(e,r)}function Gv(e,t){return $o(e,t)}var Ti=null,Or=null,Eu=!1,Ai=!1,Tu=!1,os=0;function da(e){e!==Or&&e.next===null&&(Or===null?Ti=Or=e:Or=Or.next=e),Ai=!0,Eu||(Eu=!0,Iv())}function Pn(e,t){if(!Tu&&Ai){Tu=!0;do for(var r=!1,i=Ti;i!==null;){if(e!==0){var d=i.pendingLanes;if(d===0)var f=0;else{var x=i.suspendedLanes,v=i.pingedLanes;f=(1<<31-Tt(42|e)+1)-1,f&=d&~(x&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,$m(i,f))}else f=be,f=Dl(i,i===Ce?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||ln(i,f)||(r=!0,$m(i,f));i=i.next}while(r);Tu=!1}}function Kv(){zm()}function zm(){Ai=Eu=!1;var e=0;os!==0&&ay()&&(e=os);for(var t=St(),r=null,i=Ti;i!==null;){var d=i.next,f=Lm(i,t);f===0?(i.next=null,r===null?Ti=d:r.next=d,d===null&&(Or=r)):(r=i,(e!==0||(f&3)!==0)&&(Ai=!0)),i=d}Xe!==0&&Xe!==5||Pn(e),os!==0&&(os=0)}function Lm(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-Tt(f),v=1<<x,E=d[x];E===-1?((v&r)===0||(v&i)!==0)&&(d[x]=bb(v,t)):E<=t&&(e.expiredLanes|=v),f&=~v}if(t=Ce,r=be,r=Dl(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,r===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&qo(i),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ln(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(i!==null&&qo(i),Vo(r)){case 2:case 8:r=Sh;break;case 32:r=Al;break;case 268435456:r=Eh;break;default:r=Al}return i=Bm.bind(null,e),r=$o(r,i),e.callbackPriority=t,e.callbackNode=r,t}return i!==null&&i!==null&&qo(i),e.callbackPriority=2,e.callbackNode=null,2}function Bm(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ei()&&e.callbackNode!==r)return null;var i=be;return i=Dl(e,e===Ce?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(vm(e,i,t),Lm(e,St()),e.callbackNode!=null&&e.callbackNode===r?Bm.bind(null,e):null)}function $m(e,t){if(Ei())return null;vm(e,t,!0)}function Iv(){ry(function(){(je&6)!==0?$o(Nh,Kv):zm()})}function Au(){if(os===0){var e=xr;e===0&&(e=Cl,Cl<<=1,(Cl&261888)===0&&(Cl=256)),os=e}return os}function qm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function Hm(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function Yv(e,t,r,i,d){if(t==="submit"&&r&&r.stateNode===d){var f=qm((d[bt]||null).action),x=i.submitter;x&&(t=(t=x[bt]||null)?qm(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var v=new Hl("action","action",null,i,d);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(os!==0){var E=x?Hm(d,x):new FormData(d);Qc(r,{pending:!0,data:E,method:d.method,action:f},null,E)}}else typeof f=="function"&&(v.preventDefault(),E=x?Hm(d,x):new FormData(d),Qc(r,{pending:!0,data:E,method:d.method,action:f},f,E))},currentTarget:d}]})}}for(var Cu=0;Cu<hc.length;Cu++){var Ru=hc[Cu],Jv=Ru.toLowerCase(),Qv=Ru[0].toUpperCase()+Ru.slice(1);ea(Jv,"on"+Qv)}ea(bf,"onAnimationEnd"),ea(vf,"onAnimationIteration"),ea(yf,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(dv,"onTransitionRun"),ea(hv,"onTransitionStart"),ea(fv,"onTransitionCancel"),ea(wf,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vn));function Pm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],d=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var x=i.length-1;0<=x;x--){var v=i[x],E=v.instance,U=v.currentTarget;if(v=v.listener,E!==f&&d.isPropagationStopped())break e;f=v,d.currentTarget=U;try{f(d)}catch(B){Gl(B)}d.currentTarget=null,f=E}else for(x=0;x<i.length;x++){if(v=i[x],E=v.instance,U=v.currentTarget,v=v.listener,E!==f&&d.isPropagationStopped())break e;f=v,d.currentTarget=U;try{f(d)}catch(B){Gl(B)}d.currentTarget=null,f=E}}}}function xe(e,t){var r=t[Go];r===void 0&&(r=t[Go]=new Set);var i=e+"__bubble";r.has(i)||(Vm(t,e,2,!1),r.add(i))}function Ou(e,t,r){var i=0;t&&(i|=4),Vm(r,e,i,t)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[Ci]){e[Ci]=!0,Uh.forEach(function(r){r!=="selectionchange"&&(Xv.has(r)||Ou(r,!1,e),Ou(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ci]||(t[Ci]=!0,Ou("selectionchange",!1,t))}}function Vm(e,t,r,i){switch(bp(t)){case 2:var d=ky;break;case 8:d=Ny;break;default:d=Ju}r=d.bind(null,t,r,e),d=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),i?d!==void 0?e.addEventListener(t,r,{capture:!0,passive:d}):e.addEventListener(t,r,!0):d!==void 0?e.addEventListener(t,r,{passive:d}):e.addEventListener(t,r,!1)}function Mu(e,t,r,i,d){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var x=i.tag;if(x===3||x===4){var v=i.stateNode.containerInfo;if(v===d)break;if(x===4)for(x=i.return;x!==null;){var E=x.tag;if((E===3||E===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;v!==null;){if(x=er(v),x===null)return;if(E=x.tag,E===5||E===6||E===26||E===27){i=f=x;continue e}v=v.parentNode}}i=i.return}Yh(function(){var U=f,B=Fo(r),H=[];e:{var z=_f.get(e);if(z!==void 0){var L=Hl,X=e;switch(e){case"keypress":if($l(r)===0)break e;case"keydown":case"keyup":L=Vb;break;case"focusin":X="focus",L=sc;break;case"focusout":X="blur",L=sc;break;case"beforeblur":case"afterblur":L=sc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Rb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Ib;break;case bf:case vf:case yf:L=Mb;break;case wf:L=Jb;break;case"scroll":case"scrollend":L=Ab;break;case"wheel":L=Xb;break;case"copy":case"cut":case"paste":L=zb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Zh;break;case"toggle":case"beforetoggle":L=Zb}var se=(t&4)!==0,Ae=!se&&(e==="scroll"||e==="scrollend"),R=se?z!==null?z+"Capture":null:z;se=[];for(var C=U,M;C!==null;){var q=C;if(M=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||M===null||R===null||(q=dn(C,R),q!=null&&se.push(Gn(C,q,M))),Ae)break;C=C.return}0<se.length&&(z=new L(z,X,null,r,B),H.push({event:z,listeners:se}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",z&&r!==Xo&&(X=r.relatedTarget||r.fromElement)&&(er(X)||X[Ws]))break e;if((L||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,L?(X=r.relatedTarget||r.toElement,L=U,X=X?er(X):null,X!==null&&(Ae=u(X),se=X.tag,X!==Ae||se!==5&&se!==27&&se!==6)&&(X=null)):(L=null,X=U),L!==X)){if(se=Xh,q="onMouseLeave",R="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(se=Zh,q="onPointerLeave",R="onPointerEnter",C="pointer"),Ae=L==null?z:un(L),M=X==null?z:un(X),z=new se(q,C+"leave",L,r,B),z.target=Ae,z.relatedTarget=M,q=null,er(B)===U&&(se=new se(R,C+"enter",X,r,B),se.target=M,se.relatedTarget=Ae,q=se),Ae=q,L&&X)t:{for(se=Fv,R=L,C=X,M=0,q=R;q;q=se(q))M++;q=0;for(var ae=C;ae;ae=se(ae))q++;for(;0<M-q;)R=se(R),M--;for(;0<q-M;)C=se(C),q--;for(;M--;){if(R===C||C!==null&&R===C.alternate){se=R;break t}R=se(R),C=se(C)}se=null}else se=null;L!==null&&Gm(H,z,L,se,!1),X!==null&&Ae!==null&&Gm(H,Ae,X,se,!0)}}e:{if(z=U?un(U):window,L=z.nodeName&&z.nodeName.toLowerCase(),L==="select"||L==="input"&&z.type==="file")var we=lf;else if(rf(z))if(of)we=ov;else{we=lv;var W=nv}else L=z.nodeName,!L||L.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Qo(U.elementType)&&(we=lf):we=iv;if(we&&(we=we(e,U))){nf(H,we,r,B);break e}W&&W(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Jo(z,"number",z.value)}switch(W=U?un(U):window,e){case"focusin":(rf(W)||W.contentEditable==="true")&&(cr=W,cc=U,vn=null);break;case"focusout":vn=cc=cr=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,gf(H,r,B);break;case"selectionchange":if(uv)break;case"keydown":case"keyup":gf(H,r,B)}var fe;if(nc)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else or?af(e,r)&&(ve="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ve="onCompositionStart");ve&&(Wh&&r.locale!=="ko"&&(or||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&or&&(fe=Jh()):(Ia=B,ec="value"in Ia?Ia.value:Ia.textContent,or=!0)),W=Ri(U,ve),0<W.length&&(ve=new Fh(ve,e,null,r,B),H.push({event:ve,listeners:W}),fe?ve.data=fe:(fe=sf(r),fe!==null&&(ve.data=fe)))),(fe=ev?tv(e,r):av(e,r))&&(ve=Ri(U,"onBeforeInput"),0<ve.length&&(W=new Fh("onBeforeInput","beforeinput",null,r,B),H.push({event:W,listeners:ve}),W.data=fe)),Yv(H,e,U,r,B)}Pm(H,t)})}function Gn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ri(e,t){for(var r=t+"Capture",i=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=dn(e,r),d!=null&&i.unshift(Gn(e,d,f)),d=dn(e,t),d!=null&&i.push(Gn(e,d,f))),e.tag===3)return i;e=e.return}return[]}function Fv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gm(e,t,r,i,d){for(var f=t._reactName,x=[];r!==null&&r!==i;){var v=r,E=v.alternate,U=v.stateNode;if(v=v.tag,E!==null&&E===i)break;v!==5&&v!==26&&v!==27||U===null||(E=U,d?(U=dn(r,f),U!=null&&x.unshift(Gn(r,U,E))):d||(U=dn(r,f),U!=null&&x.push(Gn(r,U,E)))),r=r.return}x.length!==0&&e.push({event:t,listeners:x})}var Zv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function Km(e){return(typeof e=="string"?e:""+e).replace(Zv,`
`).replace(Wv,"")}function Im(e,t){return t=Km(t),Km(e)===t}function Te(e,t,r,i,d,f){switch(r){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||nr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&nr(e,""+i);break;case"className":Ul(e,"class",i);break;case"tabIndex":Ul(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(e,r,i);break;case"style":Kh(e,i,f);break;case"data":if(t!=="object"){Ul(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=Ll(""+i),e.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(t!=="input"&&Te(e,t,"name",d.name,d,null),Te(e,t,"formEncType",d.formEncType,d,null),Te(e,t,"formMethod",d.formMethod,d,null),Te(e,t,"formTarget",d.formTarget,d,null)):(Te(e,t,"encType",d.encType,d,null),Te(e,t,"method",d.method,d,null),Te(e,t,"target",d.target,d,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=Ll(""+i),e.setAttribute(r,i);break;case"onClick":i!=null&&(e.onclick=ba);break;case"onScroll":i!=null&&xe("scroll",e);break;case"onScrollEnd":i!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}r=Ll(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""+i):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":i===!0?e.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,i):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(r,i):e.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(r):e.setAttribute(r,i);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Ml(e,"popover",i);break;case"xlinkActuate":xa(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":xa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":xa(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":xa(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":xa(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":xa(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":xa(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":xa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":xa(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ml(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eb.get(r)||r,Ml(e,r,i))}}function Uu(e,t,r,i,d,f){switch(r){case"style":Kh(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof i=="string"?nr(e,i):(typeof i=="number"||typeof i=="bigint")&&nr(e,""+i);break;case"onScroll":i!=null&&xe("scroll",e);break;case"onScrollEnd":i!=null&&xe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),t=r.slice(2,d?r.length-7:void 0),f=e[bt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(t,f,d),typeof i=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,i,d);break e}r in e?e[r]=i:i===!0?e.setAttribute(r,""):Ml(e,r,i)}}}function it(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var i=!1,d=!1,f;for(f in r)if(r.hasOwnProperty(f)){var x=r[f];if(x!=null)switch(f){case"src":i=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Te(e,t,f,x,r,null)}}d&&Te(e,t,"srcSet",r.srcSet,r,null),i&&Te(e,t,"src",r.src,r,null);return;case"input":xe("invalid",e);var v=f=x=d=null,E=null,U=null;for(i in r)if(r.hasOwnProperty(i)){var B=r[i];if(B!=null)switch(i){case"name":d=B;break;case"type":x=B;break;case"checked":E=B;break;case"defaultChecked":U=B;break;case"value":f=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:Te(e,t,i,B,r,null)}}Hh(e,f,v,E,U,x,d,!1);return;case"select":xe("invalid",e),i=x=f=null;for(d in r)if(r.hasOwnProperty(d)&&(v=r[d],v!=null))switch(d){case"value":f=v;break;case"defaultValue":x=v;break;case"multiple":i=v;default:Te(e,t,d,v,r,null)}t=f,r=x,e.multiple=!!i,t!=null?rr(e,!!i,t,!1):r!=null&&rr(e,!!i,r,!0);return;case"textarea":xe("invalid",e),f=d=i=null;for(x in r)if(r.hasOwnProperty(x)&&(v=r[x],v!=null))switch(x){case"value":i=v;break;case"defaultValue":d=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Te(e,t,x,v,r,null)}Vh(e,i,d,f);return;case"option":for(E in r)r.hasOwnProperty(E)&&(i=r[E],i!=null)&&(E==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Te(e,t,E,i,r,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(i=0;i<Vn.length;i++)xe(Vn[i],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(i=r[U],i!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Te(e,t,U,i,r,null)}return;default:if(Qo(t)){for(B in r)r.hasOwnProperty(B)&&(i=r[B],i!==void 0&&Uu(e,t,B,i,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(i=r[v],i!=null&&Te(e,t,v,i,r,null))}function ey(e,t,r,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,x=null,v=null,E=null,U=null,B=null;for(L in r){var H=r[L];if(r.hasOwnProperty(L)&&H!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=H;default:i.hasOwnProperty(L)||Te(e,t,L,null,i,H)}}for(var z in i){var L=i[z];if(H=r[z],i.hasOwnProperty(z)&&(L!=null||H!=null))switch(z){case"type":f=L;break;case"name":d=L;break;case"checked":U=L;break;case"defaultChecked":B=L;break;case"value":x=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==H&&Te(e,t,z,L,i,H)}}Yo(e,x,v,E,U,B,f,d);return;case"select":L=x=v=z=null;for(f in r)if(E=r[f],r.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":L=E;default:i.hasOwnProperty(f)||Te(e,t,f,null,i,E)}for(d in i)if(f=i[d],E=r[d],i.hasOwnProperty(d)&&(f!=null||E!=null))switch(d){case"value":z=f;break;case"defaultValue":v=f;break;case"multiple":x=f;default:f!==E&&Te(e,t,d,f,i,E)}t=v,r=x,i=L,z!=null?rr(e,!!r,z,!1):!!i!=!!r&&(t!=null?rr(e,!!r,t,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":L=z=null;for(v in r)if(d=r[v],r.hasOwnProperty(v)&&d!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Te(e,t,v,null,i,d)}for(x in i)if(d=i[x],f=r[x],i.hasOwnProperty(x)&&(d!=null||f!=null))switch(x){case"value":z=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==f&&Te(e,t,x,d,i,f)}Ph(e,z,L);return;case"option":for(var X in r)z=r[X],r.hasOwnProperty(X)&&z!=null&&!i.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:Te(e,t,X,null,i,z));for(E in i)z=i[E],L=r[E],i.hasOwnProperty(E)&&z!==L&&(z!=null||L!=null)&&(E==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Te(e,t,E,z,i,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in r)z=r[se],r.hasOwnProperty(se)&&z!=null&&!i.hasOwnProperty(se)&&Te(e,t,se,null,i,z);for(U in i)if(z=i[U],L=r[U],i.hasOwnProperty(U)&&z!==L&&(z!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Te(e,t,U,z,i,L)}return;default:if(Qo(t)){for(var Ae in r)z=r[Ae],r.hasOwnProperty(Ae)&&z!==void 0&&!i.hasOwnProperty(Ae)&&Uu(e,t,Ae,void 0,i,z);for(B in i)z=i[B],L=r[B],!i.hasOwnProperty(B)||z===L||z===void 0&&L===void 0||Uu(e,t,B,z,i,L);return}}for(var R in r)z=r[R],r.hasOwnProperty(R)&&z!=null&&!i.hasOwnProperty(R)&&Te(e,t,R,null,i,z);for(H in i)z=i[H],L=r[H],!i.hasOwnProperty(H)||z===L||z==null&&L==null||Te(e,t,H,z,i,L)}function Ym(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ty(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var d=r[i],f=d.transferSize,x=d.initiatorType,v=d.duration;if(f&&v&&Ym(x)){for(x=0,v=d.responseEnd,i+=1;i<r.length;i++){var E=r[i],U=E.startTime;if(U>v)break;var B=E.transferSize,H=E.initiatorType;B&&Ym(H)&&(E=E.responseEnd,x+=B*(E<v?1:(v-U)/(E-U)))}if(--i,t+=8*(f+x)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zu=null,Lu=null;function Oi(e){return e.nodeType===9?e:e.ownerDocument}function Jm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $u=null;function ay(){var e=window.event;return e&&e.type==="popstate"?e===$u?!1:($u=e,!0):($u=null,!1)}var Xm=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,Fm=typeof Promise=="function"?Promise:void 0,ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Fm<"u"?function(e){return Fm.resolve(null).then(e).catch(ny)}:Xm;function ny(e){setTimeout(function(){throw e})}function cs(e){return e==="head"}function Zm(e,t){var r=t,i=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(i===0){e.removeChild(d),zr(t);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")Kn(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Kn(r);for(var f=r.firstChild;f;){var x=f.nextSibling,v=f.nodeName;f[cn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=x}}else r==="body"&&Kn(e.ownerDocument.body);r=d}while(r);zr(t)}function Wm(e,t){var r=e;e=0;do{var i=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=i}while(r)}function qu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":qu(r),Ko(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ly(e,t,r,i){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function iy(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ft(e.nextSibling),e===null))return null;return e}function ep(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function Hu(e){return e.data==="$?"||e.data==="$~"}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oy(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var i=function(){t(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vu=null;function tp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Ft(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function sp(e,t,r){switch(t=Oi(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Kn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ko(e)}var Zt=new Map,rp=new Set;function Di(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ma=I.d;I.d={f:cy,r:uy,D:dy,C:hy,L:fy,m:my,X:gy,S:py,M:xy};function cy(){var e=Ma.f(),t=ki();return e||t}function uy(e){var t=tr(e);t!==null&&t.tag===5&&t.type==="form"?w0(t):Ma.r(e)}var Dr=typeof document>"u"?null:document;function np(e,t,r){var i=Dr;if(i&&typeof t=="string"&&t){var d=Gt(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),rp.has(d)||(rp.add(d),e={rel:e,crossOrigin:r,href:t},i.querySelector(d)===null&&(t=i.createElement("link"),it(t,"link",e),Ze(t),i.head.appendChild(t)))}}function dy(e){Ma.D(e),np("dns-prefetch",e,null)}function hy(e,t){Ma.C(e,t),np("preconnect",e,t)}function fy(e,t,r){Ma.L(e,t,r);var i=Dr;if(i&&e&&t){var d='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Gt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Gt(r.imageSizes)+'"]')):d+='[href="'+Gt(e)+'"]';var f=d;switch(t){case"style":f=Mr(e);break;case"script":f=Ur(e)}Zt.has(f)||(e=y({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Zt.set(f,e),i.querySelector(d)!==null||t==="style"&&i.querySelector(In(f))||t==="script"&&i.querySelector(Yn(f))||(t=i.createElement("link"),it(t,"link",e),Ze(t),i.head.appendChild(t)))}}function my(e,t){Ma.m(e,t);var r=Dr;if(r&&e){var i=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Gt(i)+'"][href="'+Gt(e)+'"]',f=d;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ur(e)}if(!Zt.has(f)&&(e=y({rel:"modulepreload",href:e},t),Zt.set(f,e),r.querySelector(d)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yn(f)))return}i=r.createElement("link"),it(i,"link",e),Ze(i),r.head.appendChild(i)}}}function py(e,t,r){Ma.S(e,t,r);var i=Dr;if(i&&e){var d=ar(i).hoistableStyles,f=Mr(e);t=t||"default";var x=d.get(f);if(!x){var v={loading:0,preload:null};if(x=i.querySelector(In(f)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Zt.get(f))&&Gu(e,r);var E=x=i.createElement("link");Ze(E),it(E,"link",e),E._p=new Promise(function(U,B){E.onload=U,E.onerror=B}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Mi(x,t,i)}x={type:"stylesheet",instance:x,count:1,state:v},d.set(f,x)}}}function gy(e,t){Ma.X(e,t);var r=Dr;if(r&&e){var i=ar(r).hoistableScripts,d=Ur(e),f=i.get(d);f||(f=r.querySelector(Yn(d)),f||(e=y({src:e,async:!0},t),(t=Zt.get(d))&&Ku(e,t),f=r.createElement("script"),Ze(f),it(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(d,f))}}function xy(e,t){Ma.M(e,t);var r=Dr;if(r&&e){var i=ar(r).hoistableScripts,d=Ur(e),f=i.get(d);f||(f=r.querySelector(Yn(d)),f||(e=y({src:e,async:!0,type:"module"},t),(t=Zt.get(d))&&Ku(e,t),f=r.createElement("script"),Ze(f),it(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(d,f))}}function lp(e,t,r,i){var d=(d=pe.current)?Di(d):null;if(!d)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Mr(r.href),r=ar(d).hoistableStyles,i=r.get(t),i||(i={type:"style",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Mr(r.href);var f=ar(d).hoistableStyles,x=f.get(e);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=d.querySelector(In(e)))&&!f._p&&(x.instance=f,x.state.loading=5),Zt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Zt.set(e,r),f||by(d,e,r,x.state))),t&&i===null)throw Error(l(528,""));return x}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ur(r),r=ar(d).hoistableScripts,i=r.get(t),i||(i={type:"script",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Mr(e){return'href="'+Gt(e)+'"'}function In(e){return'link[rel="stylesheet"]['+e+"]"}function ip(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function by(e,t,r,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),it(t,"link",r),Ze(t),e.head.appendChild(t))}function Ur(e){return'[src="'+Gt(e)+'"]'}function Yn(e){return"script[async]"+e}function op(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Gt(r.href)+'"]');if(i)return t.instance=i,Ze(i),i;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ze(i),it(i,"style",d),Mi(i,r.precedence,e),t.instance=i;case"stylesheet":d=Mr(r.href);var f=e.querySelector(In(d));if(f)return t.state.loading|=4,t.instance=f,Ze(f),f;i=ip(r),(d=Zt.get(d))&&Gu(i,d),f=(e.ownerDocument||e).createElement("link"),Ze(f);var x=f;return x._p=new Promise(function(v,E){x.onload=v,x.onerror=E}),it(f,"link",i),t.state.loading|=4,Mi(f,r.precedence,e),t.instance=f;case"script":return f=Ur(r.src),(d=e.querySelector(Yn(f)))?(t.instance=d,Ze(d),d):(i=r,(d=Zt.get(f))&&(i=y({},r),Ku(i,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ze(d),it(d,"link",i),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Mi(i,r.precedence,e));return t.instance}function Mi(e,t,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=i.length?i[i.length-1]:null,f=d,x=0;x<i.length;x++){var v=i[x];if(v.dataset.precedence===t)f=v;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ui=null;function cp(e,t,r){if(Ui===null){var i=new Map,d=Ui=new Map;d.set(r,i)}else d=Ui,i=d.get(r),i||(i=new Map,d.set(r,i));if(i.has(e))return i;for(i.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var f=r[d];if(!(f[cn]||f[st]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var v=i.get(x);v?v.push(f):i.set(x,[f])}}return i}function up(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function vy(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yy(e,t,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Mr(i.href),f=t.querySelector(In(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zi.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=f,Ze(f);return}f=t.ownerDocument||t,i=ip(i),(d=Zt.get(d))&&Gu(i,d),f=f.createElement("link"),Ze(f);var x=f;x._p=new Promise(function(v,E){x.onload=v,x.onerror=E}),it(f,"link",i),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=zi.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Iu=0;function wy(e,t){return e.stylesheets&&e.count===0&&Bi(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var i=setTimeout(function(){if(e.stylesheets&&Bi(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Iu===0&&(Iu=62500*ty());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bi(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Iu?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(d)}}:null}function zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Li=null;function Bi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Li=new Map,t.forEach(_y,e),Li=null,zi.call(e))}function _y(e,t){if(!(t.state.loading&4)){var r=Li.get(e);if(r)var i=r.get(null);else{r=new Map,Li.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var x=d[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),i=x)}i&&r.set(null,i)}d=t.instance,x=d.getAttribute("data-precedence"),f=r.get(x)||i,f===i&&r.set(null,d),r.set(x,d),this.count++,i=zi.bind(this),d.addEventListener("load",i),d.addEventListener("error",i),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Jn={$$typeof:D,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function jy(e,t,r,i,d,f,x,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=i,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function hp(e,t,r,i,d,f,x,v,E,U,B,H){return e=new jy(e,t,r,x,E,U,B,H,v),t=1,f===!0&&(t|=24),f=Ct(3,null,null,t),e.current=f,f.stateNode=e,t=Nc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:t},Ac(f),e}function fp(e){return e?(e=hr,e):hr}function mp(e,t,r,i,d,f){d=fp(d),i.context===null?i.context=d:i.pendingContext=d,i=Za(t),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Wa(e,i,t),r!==null&&(kt(r,e,t),Sn(r,e,t))}function pp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yu(e,t){pp(e,t),(e=e.alternate)&&pp(e,t)}function gp(e){if(e.tag===13||e.tag===31){var t=Cs(e,67108864);t!==null&&kt(t,e,67108864),Yu(e,67108864)}}function xp(e){if(e.tag===13||e.tag===31){var t=Ut();t=Po(t);var r=Cs(e,t);r!==null&&kt(r,e,t),Yu(e,t)}}var $i=!0;function ky(e,t,r,i){var d=$.T;$.T=null;var f=I.p;try{I.p=2,Ju(e,t,r,i)}finally{I.p=f,$.T=d}}function Ny(e,t,r,i){var d=$.T;$.T=null;var f=I.p;try{I.p=8,Ju(e,t,r,i)}finally{I.p=f,$.T=d}}function Ju(e,t,r,i){if($i){var d=Qu(i);if(d===null)Mu(e,t,i,qi,r),vp(e,i);else if(Ey(d,e,t,r,i))i.stopPropagation();else if(vp(e,i),t&4&&-1<Sy.indexOf(e)){for(;d!==null;){var f=tr(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=Ns(f.pendingLanes);if(x!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var E=1<<31-Tt(x);v.entanglements[1]|=E,x&=~E}da(f),(je&6)===0&&(_i=St()+500,Pn(0))}}break;case 31:case 13:v=Cs(f,2),v!==null&&kt(v,f,2),ki(),Yu(f,2)}if(f=Qu(i),f===null&&Mu(e,t,i,qi,r),f===d)break;d=f}d!==null&&i.stopPropagation()}else Mu(e,t,i,null,r)}}function Qu(e){return e=Fo(e),Xu(e)}var qi=null;function Xu(e){if(qi=null,e=er(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=h(t),e!==null)return e;e=null}else if(r===31){if(e=p(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return qi=e,null}function bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(db()){case Nh:return 2;case Sh:return 8;case Al:case hb:return 32;case Eh:return 268435456;default:return 32}default:return 32}}var Fu=!1,us=null,ds=null,hs=null,Qn=new Map,Xn=new Map,fs=[],Sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(t.pointerId)}}function Fn(e,t,r,i,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[d]},t!==null&&(t=tr(t),t!==null&&gp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Ey(e,t,r,i,d){switch(t){case"focusin":return us=Fn(us,e,t,r,i,d),!0;case"dragenter":return ds=Fn(ds,e,t,r,i,d),!0;case"mouseover":return hs=Fn(hs,e,t,r,i,d),!0;case"pointerover":var f=d.pointerId;return Qn.set(f,Fn(Qn.get(f)||null,e,t,r,i,d)),!0;case"gotpointercapture":return f=d.pointerId,Xn.set(f,Fn(Xn.get(f)||null,e,t,r,i,d)),!0}return!1}function yp(e){var t=er(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=h(r),t!==null){e.blockedOn=t,Dh(e.priority,function(){xp(r)});return}}else if(t===31){if(t=p(r),t!==null){e.blockedOn=t,Dh(e.priority,function(){xp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qu(e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Xo=i,r.target.dispatchEvent(i),Xo=null}else return t=tr(r),t!==null&&gp(t),e.blockedOn=r,!1;t.shift()}return!0}function wp(e,t,r){Hi(e)&&r.delete(t)}function Ty(){Fu=!1,us!==null&&Hi(us)&&(us=null),ds!==null&&Hi(ds)&&(ds=null),hs!==null&&Hi(hs)&&(hs=null),Qn.forEach(wp),Xn.forEach(wp)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ty)))}var Vi=null;function _p(e){Vi!==e&&(Vi=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vi===e&&(Vi=null);for(var t=0;t<e.length;t+=3){var r=e[t],i=e[t+1],d=e[t+2];if(typeof i!="function"){if(Xu(i||r)===null)continue;break}var f=tr(r);f!==null&&(e.splice(t,3),t-=3,Qc(f,{pending:!0,data:d,method:r.method,action:i},i,d))}}))}function zr(e){function t(E){return Pi(E,e)}us!==null&&Pi(us,e),ds!==null&&Pi(ds,e),hs!==null&&Pi(hs,e),Qn.forEach(t),Xn.forEach(t);for(var r=0;r<fs.length;r++){var i=fs[r];i.blockedOn===e&&(i.blockedOn=null)}for(;0<fs.length&&(r=fs[0],r.blockedOn===null);)yp(r),r.blockedOn===null&&fs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var d=r[i],f=r[i+1],x=d[bt]||null;if(typeof f=="function")x||_p(r);else if(x){var v=null;if(f&&f.hasAttribute("formAction")){if(d=f,x=f[bt]||null)v=x.formAction;else if(Xu(d)!==null)continue}else v=x.action;typeof v=="function"?r[i+1]=v:(r.splice(i,3),i-=3),_p(r)}}}function jp(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function Zu(e){this._internalRoot=e}Gi.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,i=Ut();mp(r,i,e,t,null,null)},Gi.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),ki(),t[Ws]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fs.length&&t!==0&&t<fs[r].priority;r++);fs.splice(r,0,e),r===0&&yp(e)}};var kp=a.version;if(kp!=="19.2.3")throw Error(l(527,kp,"19.2.3"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ay={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ki.isDisabled&&Ki.supportsFiber)try{nn=Ki.inject(Ay),Et=Ki}catch{}}return Wn.createRoot=function(e,t){if(!c(e))throw Error(l(299));var r=!1,i="",d=R0,f=O0,x=D0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=hp(e,1,!1,null,null,r,i,null,d,f,x,jp),e[Ws]=t.current,Du(e),new Zu(t)},Wn.hydrateRoot=function(e,t,r){if(!c(e))throw Error(l(299));var i=!1,d="",f=R0,x=O0,v=D0,E=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.formState!==void 0&&(E=r.formState)),t=hp(e,1,!0,t,r??null,i,d,E,f,x,v,jp),t.context=fp(null),r=t.current,i=Ut(),i=Po(i),d=Za(i),d.callback=null,Wa(r,d,i),r=i,t.current.lanes=r,on(t,r),da(t),e[Ws]=t.current,Du(e),new Gi(t)},Wn.version="19.2.3",Wn}var Mp;function $y(){if(Mp)return td.exports;Mp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),td.exports=By(),td.exports}var qy=$y(),nd={exports:{}},ld={};var Up;function Hy(){if(Up)return ld;Up=1;var s=wo();function a(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:a,l=s.useSyncExternalStore,c=s.useRef,u=s.useEffect,h=s.useMemo,p=s.useDebugValue;return ld.useSyncExternalStoreWithSelector=function(m,g,b,y,w){var k=c(null);if(k.current===null){var S={hasValue:!1,value:null};k.current=S}else S=k.current;k=h(function(){function j(G){if(!_){if(_=!0,O=G,G=y(G),w!==void 0&&S.hasValue){var Q=S.value;if(w(Q,G))return D=Q}return D=G}if(Q=D,n(O,G))return Q;var K=y(G);return w!==void 0&&w(Q,K)?(O=G,Q):(O=G,D=K)}var _=!1,O,D,V=b===void 0?null:b;return[function(){return j(g())},V===null?void 0:function(){return j(V())}]},[g,b,y,w]);var T=l(m,k[0],k[1]);return u(function(){S.hasValue=!0,S.value=T},[T]),p(T),T},ld}var zp;function Py(){return zp||(zp=1,nd.exports=Hy()),nd.exports}var Vy=Py();function Gy(s){s()}function Ky(){let s=null,a=null;return{clear(){s=null,a=null},notify(){Gy(()=>{let n=s;for(;n;)n.callback(),n=n.next})},get(){const n=[];let l=s;for(;l;)n.push(l),l=l.next;return n},subscribe(n){let l=!0;const c=a={callback:n,next:null,prev:a};return c.prev?c.prev.next=c:s=c,function(){!l||s===null||(l=!1,c.next?c.next.prev=c.prev:a=c.prev,c.prev?c.prev.next=c.next:s=c.next)}}}}var Lp={notify(){},get:()=>[]};function Iy(s,a){let n,l=Lp,c=0,u=!1;function h(T){b();const j=l.subscribe(T);let _=!1;return()=>{_||(_=!0,j(),y())}}function p(){l.notify()}function m(){S.onStateChange&&S.onStateChange()}function g(){return u}function b(){c++,n||(n=s.subscribe(m),l=Ky())}function y(){c--,n&&c===0&&(n(),n=void 0,l.clear(),l=Lp)}function w(){u||(u=!0,b())}function k(){u&&(u=!1,y())}const S={addNestedSub:h,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:w,tryUnsubscribe:k,getListeners:()=>l};return S}var Yy=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jy=Yy(),Qy=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Xy=Qy(),Fy=()=>Jy||Xy?N.useLayoutEffect:N.useEffect,Zy=Fy(),Wy=Symbol.for("react-redux-context"),ew=typeof globalThis<"u"?globalThis:{};function tw(){if(!N.createContext)return{};const s=ew[Wy]??=new Map;let a=s.get(N.createContext);return a||(a=N.createContext(null),s.set(N.createContext,a)),a}var ws=tw();function aw(s){const{children:a,context:n,serverState:l,store:c}=s,u=N.useMemo(()=>{const m=Iy(c);return{store:c,subscription:m,getServerState:l?()=>l:void 0}},[c,l]),h=N.useMemo(()=>c.getState(),[c]);Zy(()=>{const{subscription:m}=u;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),h!==c.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[u,h]);const p=n||ws;return N.createElement(p.Provider,{value:u},a)}var sw=aw;function eh(s=ws){return function(){return N.useContext(s)}}var Mg=eh();function Ug(s=ws){const a=s===ws?Mg:eh(s),n=()=>{const{store:l}=a();return l};return Object.assign(n,{withTypes:()=>n}),n}var rw=Ug();function nw(s=ws){const a=s===ws?rw:Ug(s),n=()=>a().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var lw=nw(),iw=(s,a)=>s===a;function ow(s=ws){const a=s===ws?Mg:eh(s),n=(l,c={})=>{const{equalityFn:u=iw}=typeof c=="function"?{equalityFn:c}:c,h=a(),{store:p,subscription:m,getServerState:g}=h;N.useRef(!0);const b=N.useCallback({[l.name](w){return l(w)}}[l.name],[l]),y=Vy.useSyncExternalStoreWithSelector(m.addNestedSub,p.getState,g||p.getState,b,u);return N.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var zg=ow();function ut(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var cw=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bp=cw,id=()=>Math.random().toString(36).substring(7).split("").join("."),uw={INIT:`@@redux/INIT${id()}`,REPLACE:`@@redux/REPLACE${id()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${id()}`},co=uw;function th(s){if(typeof s!="object"||s===null)return!1;let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a||Object.getPrototypeOf(s)===null}function Lg(s,a,n){if(typeof s!="function")throw new Error(ut(2));if(typeof a=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ut(0));if(typeof a=="function"&&typeof n>"u"&&(n=a,a=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ut(1));return n(Lg)(s,a)}let l=s,c=a,u=new Map,h=u,p=0,m=!1;function g(){h===u&&(h=new Map,u.forEach((j,_)=>{h.set(_,j)}))}function b(){if(m)throw new Error(ut(3));return c}function y(j){if(typeof j!="function")throw new Error(ut(4));if(m)throw new Error(ut(5));let _=!0;g();const O=p++;return h.set(O,j),function(){if(_){if(m)throw new Error(ut(6));_=!1,g(),h.delete(O),u=null}}}function w(j){if(!th(j))throw new Error(ut(7));if(typeof j.type>"u")throw new Error(ut(8));if(typeof j.type!="string")throw new Error(ut(17));if(m)throw new Error(ut(9));try{m=!0,c=l(c,j)}finally{m=!1}return(u=h).forEach(O=>{O()}),j}function k(j){if(typeof j!="function")throw new Error(ut(10));l=j,w({type:co.REPLACE})}function S(){const j=y;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(ut(11));function O(){const V=_;V.next&&V.next(b())}return O(),{unsubscribe:j(O)}},[Bp](){return this}}}return w({type:co.INIT}),{dispatch:w,subscribe:y,getState:b,replaceReducer:k,[Bp]:S}}function dw(s){Object.keys(s).forEach(a=>{const n=s[a];if(typeof n(void 0,{type:co.INIT})>"u")throw new Error(ut(12));if(typeof n(void 0,{type:co.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ut(13))})}function hw(s){const a=Object.keys(s),n={};for(let u=0;u<a.length;u++){const h=a[u];typeof s[h]=="function"&&(n[h]=s[h])}const l=Object.keys(n);let c;try{dw(n)}catch(u){c=u}return function(h={},p){if(c)throw c;let m=!1;const g={};for(let b=0;b<l.length;b++){const y=l[b],w=n[y],k=h[y],S=w(k,p);if(typeof S>"u")throw p&&p.type,new Error(ut(14));g[y]=S,m=m||S!==k}return m=m||l.length!==Object.keys(h).length,m?g:h}}function uo(...s){return s.length===0?a=>a:s.length===1?s[0]:s.reduce((a,n)=>(...l)=>a(n(...l)))}function fw(...s){return a=>(n,l)=>{const c=a(n,l);let u=()=>{throw new Error(ut(15))};const h={getState:c.getState,dispatch:(m,...g)=>u(m,...g)},p=s.map(m=>m(h));return u=uo(...p)(c.dispatch),{...c,dispatch:u}}}function mw(s){return th(s)&&"type"in s&&typeof s.type=="string"}var Bg=Symbol.for("immer-nothing"),$p=Symbol.for("immer-draftable"),gt=Symbol.for("immer-state");function la(s,...a){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var $t=Object,Fr=$t.getPrototypeOf,ho="constructor",_o="prototype",Cd="configurable",fo="enumerable",ro="writable",ul="value",$a=s=>!!s&&!!s[gt];function ia(s){return s?$g(s)||jo(s)||!!s[$p]||!!s[ho]?.[$p]||ko(s)||No(s):!1}var pw=$t[_o][ho].toString(),qp=new WeakMap;function $g(s){if(!s||!ah(s))return!1;const a=Fr(s);if(a===null||a===$t[_o])return!0;const n=$t.hasOwnProperty.call(a,ho)&&a[ho];if(n===Object)return!0;if(!Vr(n))return!1;let l=qp.get(n);return l===void 0&&(l=Function.toString.call(n),qp.set(n,l)),l===pw}function wl(s,a,n=!0){_l(s)===0?(n?Reflect.ownKeys(s):$t.keys(s)).forEach(c=>{a(c,s[c],s)}):s.forEach((l,c)=>a(c,l,s))}function _l(s){const a=s[gt];return a?a.type_:jo(s)?1:ko(s)?2:No(s)?3:0}var Hp=(s,a,n=_l(s))=>n===2?s.has(a):$t[_o].hasOwnProperty.call(s,a),Rd=(s,a,n=_l(s))=>n===2?s.get(a):s[a],mo=(s,a,n,l=_l(s))=>{l===2?s.set(a,n):l===3?s.add(n):s[a]=n};function gw(s,a){return s===a?s!==0||1/s===1/a:s!==s&&a!==a}var jo=Array.isArray,ko=s=>s instanceof Map,No=s=>s instanceof Set,ah=s=>typeof s=="object",Vr=s=>typeof s=="function",od=s=>typeof s=="boolean";function xw(s){const a=+s;return Number.isInteger(a)&&String(a)===s}var za=s=>s.copy_||s.base_,sh=s=>s.modified_?s.copy_:s.base_;function Od(s,a){if(ko(s))return new Map(s);if(No(s))return new Set(s);if(jo(s))return Array[_o].slice.call(s);const n=$g(s);if(a===!0||a==="class_only"&&!n){const l=$t.getOwnPropertyDescriptors(s);delete l[gt];let c=Reflect.ownKeys(l);for(let u=0;u<c.length;u++){const h=c[u],p=l[h];p[ro]===!1&&(p[ro]=!0,p[Cd]=!0),(p.get||p.set)&&(l[h]={[Cd]:!0,[ro]:!0,[fo]:p[fo],[ul]:s[h]})}return $t.create(Fr(s),l)}else{const l=Fr(s);if(l!==null&&n)return{...s};const c=$t.create(l);return $t.assign(c,s)}}function rh(s,a=!1){return So(s)||$a(s)||!ia(s)||(_l(s)>1&&$t.defineProperties(s,{set:Ii,add:Ii,clear:Ii,delete:Ii}),$t.freeze(s),a&&wl(s,(n,l)=>{rh(l,!0)},!1)),s}function bw(){la(2)}var Ii={[ul]:bw};function So(s){return s===null||!ah(s)?!0:$t.isFrozen(s)}var po="MapSet",Dd="Patches",Pp="ArrayMethods",qg={};function Xs(s){const a=qg[s];return a||la(0,s),a}var Vp=s=>!!qg[s],dl,Hg=()=>dl,vw=(s,a)=>({drafts_:[],parent_:s,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Vp(po)?Xs(po):void 0,arrayMethodsPlugin_:Vp(Pp)?Xs(Pp):void 0});function Gp(s,a){a&&(s.patchPlugin_=Xs(Dd),s.patches_=[],s.inversePatches_=[],s.patchListener_=a)}function Md(s){Ud(s),s.drafts_.forEach(yw),s.drafts_=null}function Ud(s){s===dl&&(dl=s.parent_)}var Kp=s=>dl=vw(dl,s);function yw(s){const a=s[gt];a.type_===0||a.type_===1?a.revoke_():a.revoked_=!0}function Ip(s,a){a.unfinalizedDrafts_=a.drafts_.length;const n=a.drafts_[0];if(s!==void 0&&s!==n){n[gt].modified_&&(Md(a),la(4)),ia(s)&&(s=Yp(a,s));const{patchPlugin_:c}=a;c&&c.generateReplacementPatches_(n[gt].base_,s,a)}else s=Yp(a,n);return ww(a,s,!0),Md(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),s!==Bg?s:void 0}function Yp(s,a){if(So(a))return a;const n=a[gt];if(!n)return nh(a,s.handledSet_,s);if(!Eo(n,s))return a;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:l}=n;if(l)for(;l.length>0;)l.pop()(s);Gg(n,s)}return n.copy_}function ww(s,a,n=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&rh(a,n)}function Pg(s){s.finalized_=!0,s.scope_.unfinalizedDrafts_--}var Eo=(s,a)=>s.scope_===a,_w=[];function Vg(s,a,n,l){const c=za(s),u=s.type_;if(l!==void 0&&Rd(c,l,u)===a){mo(c,l,n,u);return}if(!s.draftLocations_){const p=s.draftLocations_=new Map;wl(c,(m,g)=>{if($a(g)){const b=p.get(g)||[];b.push(m),p.set(g,b)}})}const h=s.draftLocations_.get(a)??_w;for(const p of h)mo(c,p,n,u)}function jw(s,a,n){s.callbacks_.push(function(c){const u=a;if(!u||!Eo(u,c))return;c.mapSetPlugin_?.fixSetContents(u);const h=sh(u);Vg(s,u.draft_??u,h,n),Gg(u,c)})}function Gg(s,a){if(s.modified_&&!s.finalized_&&(s.type_===3||s.type_===1&&s.allIndicesReassigned_||(s.assigned_?.size??0)>0)){const{patchPlugin_:l}=a;if(l){const c=l.getPath(s);c&&l.generatePatches_(s,c,a)}Pg(s)}}function kw(s,a,n){const{scope_:l}=s;if($a(n)){const c=n[gt];Eo(c,l)&&c.callbacks_.push(function(){no(s);const h=sh(c);Vg(s,n,h,a)})}else ia(n)&&s.callbacks_.push(function(){const u=za(s);Rd(u,a,s.type_)===n&&l.drafts_.length>1&&(s.assigned_.get(a)??!1)===!0&&s.copy_&&nh(Rd(s.copy_,a,s.type_),l.handledSet_,l)})}function nh(s,a,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$a(s)||a.has(s)||!ia(s)||So(s)||(a.add(s),wl(s,(l,c)=>{if($a(c)){const u=c[gt];if(Eo(u,n)){const h=sh(u);mo(s,l,h,s.type_),Pg(u)}}else ia(c)&&nh(c,a,n)})),s}function Nw(s,a){const n=jo(s),l={type_:n?1:0,scope_:a?a.scope_:Hg(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:a,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let c=l,u=lh;n&&(c=[l],u=hl);const{revoke:h,proxy:p}=Proxy.revocable(c,u);return l.draft_=p,l.revoke_=h,[p,l]}var lh={get(s,a){if(a===gt)return s;let n=s.scope_.arrayMethodsPlugin_;const l=s.type_===1&&typeof a=="string";if(l&&n?.isArrayOperationMethod(a))return n.createMethodInterceptor(s,a);const c=za(s);if(!Hp(c,a,s.type_))return Sw(s,c,a);const u=c[a];if(s.finalized_||!ia(u)||l&&s.operationMethod&&n?.isMutatingArrayMethod(s.operationMethod)&&xw(a))return u;if(u===cd(s.base_,a)){no(s);const h=s.type_===1?+a:a,p=Ld(s.scope_,u,s,h);return s.copy_[h]=p}return u},has(s,a){return a in za(s)},ownKeys(s){return Reflect.ownKeys(za(s))},set(s,a,n){const l=Kg(za(s),a);if(l?.set)return l.set.call(s.draft_,n),!0;if(!s.modified_){const c=cd(za(s),a),u=c?.[gt];if(u&&u.base_===n)return s.copy_[a]=n,s.assigned_.set(a,!1),!0;if(gw(n,c)&&(n!==void 0||Hp(s.base_,a,s.type_)))return!0;no(s),zd(s)}return s.copy_[a]===n&&(n!==void 0||a in s.copy_)||Number.isNaN(n)&&Number.isNaN(s.copy_[a])||(s.copy_[a]=n,s.assigned_.set(a,!0),kw(s,a,n)),!0},deleteProperty(s,a){return no(s),cd(s.base_,a)!==void 0||a in s.base_?(s.assigned_.set(a,!1),zd(s)):s.assigned_.delete(a),s.copy_&&delete s.copy_[a],!0},getOwnPropertyDescriptor(s,a){const n=za(s),l=Reflect.getOwnPropertyDescriptor(n,a);return l&&{[ro]:!0,[Cd]:s.type_!==1||a!=="length",[fo]:l[fo],[ul]:n[a]}},defineProperty(){la(11)},getPrototypeOf(s){return Fr(s.base_)},setPrototypeOf(){la(12)}},hl={};wl(lh,(s,a)=>{hl[s]=function(){const n=arguments;return n[0]=n[0][0],a.apply(this,n)}});hl.deleteProperty=function(s,a){return hl.set.call(this,s,a,void 0)};hl.set=function(s,a,n){return lh.set.call(this,s[0],a,n,s[0])};function cd(s,a){const n=s[gt];return(n?za(n):s)[a]}function Sw(s,a,n){const l=Kg(a,n);return l?ul in l?l[ul]:l.get?.call(s.draft_):void 0}function Kg(s,a){if(!(a in s))return;let n=Fr(s);for(;n;){const l=Object.getOwnPropertyDescriptor(n,a);if(l)return l;n=Fr(n)}}function zd(s){s.modified_||(s.modified_=!0,s.parent_&&zd(s.parent_))}function no(s){s.copy_||(s.assigned_=new Map,s.copy_=Od(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var Ew=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,n,l)=>{if(Vr(a)&&!Vr(n)){const u=n;n=a;const h=this;return function(m=u,...g){return h.produce(m,b=>n.call(this,b,...g))}}Vr(n)||la(6),l!==void 0&&!Vr(l)&&la(7);let c;if(ia(a)){const u=Kp(this),h=Ld(u,a,void 0);let p=!0;try{c=n(h),p=!1}finally{p?Md(u):Ud(u)}return Gp(u,l),Ip(c,u)}else if(!a||!ah(a)){if(c=n(a),c===void 0&&(c=a),c===Bg&&(c=void 0),this.autoFreeze_&&rh(c,!0),l){const u=[],h=[];Xs(Dd).generateReplacementPatches_(a,c,{patches_:u,inversePatches_:h}),l(u,h)}return c}else la(1,a)},this.produceWithPatches=(a,n)=>{if(Vr(a))return(h,...p)=>this.produceWithPatches(h,m=>a(m,...p));let l,c;return[this.produce(a,n,(h,p)=>{l=h,c=p}),l,c]},od(s?.autoFreeze)&&this.setAutoFreeze(s.autoFreeze),od(s?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(s.useStrictShallowCopy),od(s?.useStrictIteration)&&this.setUseStrictIteration(s.useStrictIteration)}createDraft(s){ia(s)||la(8),$a(s)&&(s=Tw(s));const a=Kp(this),n=Ld(a,s,void 0);return n[gt].isManual_=!0,Ud(a),n}finishDraft(s,a){const n=s&&s[gt];(!n||!n.isManual_)&&la(9);const{scope_:l}=n;return Gp(l,a),Ip(void 0,l)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}setUseStrictIteration(s){this.useStrictIteration_=s}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(s,a){let n;for(n=a.length-1;n>=0;n--){const c=a[n];if(c.path.length===0&&c.op==="replace"){s=c.value;break}}n>-1&&(a=a.slice(n+1));const l=Xs(Dd).applyPatches_;return $a(s)?l(s,a):this.produce(s,c=>l(c,a))}};function Ld(s,a,n,l){const[c,u]=ko(a)?Xs(po).proxyMap_(a,n):No(a)?Xs(po).proxySet_(a,n):Nw(a,n);return(n?.scope_??Hg()).drafts_.push(c),u.callbacks_=n?.callbacks_??[],u.key_=l,n&&l!==void 0?jw(n,u,l):u.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:g}=m;u.modified_&&g&&g.generatePatches_(u,[],m)}),c}function Tw(s){return $a(s)||la(10,s),Ig(s)}function Ig(s){if(!ia(s)||So(s))return s;const a=s[gt];let n,l=!0;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,n=Od(s,a.scope_.immer_.useStrictShallowCopy_),l=a.scope_.immer_.shouldUseStrictIteration()}else n=Od(s,!0);return wl(n,(c,u)=>{mo(n,c,Ig(u))},l),a&&(a.finalized_=!1),n}var Aw=new Ew,Yg=Aw.produce;function Jg(s){return({dispatch:n,getState:l})=>c=>u=>typeof u=="function"?u(n,l,s):c(u)}var Cw=Jg(),Rw=Jg,Ow=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uo:uo.apply(null,arguments)},Dw=s=>s&&typeof s.match=="function";function ll(s,a){function n(...l){if(a){let c=a(...l);if(!c)throw new Error(La(0));return{type:s,payload:c.payload,..."meta"in c&&{meta:c.meta},..."error"in c&&{error:c.error}}}return{type:s,payload:l[0]}}return n.toString=()=>`${s}`,n.type=s,n.match=l=>mw(l)&&l.type===s,n}var Qg=class rl extends Array{constructor(...a){super(...a),Object.setPrototypeOf(this,rl.prototype)}static get[Symbol.species](){return rl}concat(...a){return super.concat.apply(this,a)}prepend(...a){return a.length===1&&Array.isArray(a[0])?new rl(...a[0].concat(this)):new rl(...a.concat(this))}};function Jp(s){return ia(s)?Yg(s,()=>{}):s}function Yi(s,a,n){return s.has(a)?s.get(a):s.set(a,n(a)).get(a)}function Mw(s){return typeof s=="boolean"}var Uw=()=>function(a){const{thunk:n=!0,immutableCheck:l=!0,serializableCheck:c=!0,actionCreatorCheck:u=!0}=a??{};let h=new Qg;return n&&(Mw(n)?h.push(Cw):h.push(Rw(n.extraArgument))),h},zw="RTK_autoBatch",Qp=s=>a=>{setTimeout(a,s)},Lw=(s={type:"raf"})=>a=>(...n)=>{const l=a(...n);let c=!0,u=!1,h=!1;const p=new Set,m=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Qp(10):s.type==="callback"?s.queueNotification:Qp(s.timeout),g=()=>{h=!1,u&&(u=!1,p.forEach(b=>b()))};return Object.assign({},l,{subscribe(b){const y=()=>c&&b(),w=l.subscribe(y);return p.add(b),()=>{w(),p.delete(b)}},dispatch(b){try{return c=!b?.meta?.[zw],u=!c,u&&(h||(h=!0,m(g))),l.dispatch(b)}finally{c=!0}}})},Bw=s=>function(n){const{autoBatch:l=!0}=n??{};let c=new Qg(s);return l&&c.push(Lw(typeof l=="object"?l:void 0)),c};function $w(s){const a=Uw(),{reducer:n=void 0,middleware:l,devTools:c=!0,preloadedState:u=void 0,enhancers:h=void 0}=s||{};let p;if(typeof n=="function")p=n;else if(th(n))p=hw(n);else throw new Error(La(1));let m;typeof l=="function"?m=l(a):m=a();let g=uo;c&&(g=Ow({trace:!1,...typeof c=="object"&&c}));const b=fw(...m),y=Bw(b);let w=typeof h=="function"?h(y):y();const k=g(...w);return Lg(p,u,k)}function Xg(s){const a={},n=[];let l;const c={addCase(u,h){const p=typeof u=="string"?u:u.type;if(!p)throw new Error(La(28));if(p in a)throw new Error(La(29));return a[p]=h,c},addAsyncThunk(u,h){return h.pending&&(a[u.pending.type]=h.pending),h.rejected&&(a[u.rejected.type]=h.rejected),h.fulfilled&&(a[u.fulfilled.type]=h.fulfilled),h.settled&&n.push({matcher:u.settled,reducer:h.settled}),c},addMatcher(u,h){return n.push({matcher:u,reducer:h}),c},addDefaultCase(u){return l=u,c}};return s(c),[a,n,l]}function qw(s){return typeof s=="function"}function Hw(s,a){let[n,l,c]=Xg(a),u;if(qw(s))u=()=>Jp(s());else{const p=Jp(s);u=()=>p}function h(p=u(),m){let g=[n[m.type],...l.filter(({matcher:b})=>b(m)).map(({reducer:b})=>b)];return g.filter(b=>!!b).length===0&&(g=[c]),g.reduce((b,y)=>{if(y)if($a(b)){const k=y(b,m);return k===void 0?b:k}else{if(ia(b))return Yg(b,w=>y(w,m));{const w=y(b,m);if(w===void 0){if(b===null)return b;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return b},p)}return h.getInitialState=u,h}var Pw=(s,a)=>Dw(s)?s.match(a):s(a);function Vw(...s){return a=>s.some(n=>Pw(n,a))}var Gw="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Kw=(s=21)=>{let a="",n=s;for(;n--;)a+=Gw[Math.random()*64|0];return a},Iw=["name","message","stack","code"],ud=class{constructor(s,a){this.payload=s,this.meta=a}_type},Xp=class{constructor(s,a){this.payload=s,this.meta=a}_type},Yw=s=>{if(typeof s=="object"&&s!==null){const a={};for(const n of Iw)typeof s[n]=="string"&&(a[n]=s[n]);return a}return{message:String(s)}},Fp="External signal was aborted",ih=(()=>{function s(a,n,l){const c=ll(a+"/fulfilled",(m,g,b,y)=>({payload:m,meta:{...y||{},arg:b,requestId:g,requestStatus:"fulfilled"}})),u=ll(a+"/pending",(m,g,b)=>({payload:void 0,meta:{...b||{},arg:g,requestId:m,requestStatus:"pending"}})),h=ll(a+"/rejected",(m,g,b,y,w)=>({payload:y,error:(l&&l.serializeError||Yw)(m||"Rejected"),meta:{...w||{},arg:b,requestId:g,rejectedWithValue:!!y,requestStatus:"rejected",aborted:m?.name==="AbortError",condition:m?.name==="ConditionError"}}));function p(m,{signal:g}={}){return(b,y,w)=>{const k=l?.idGenerator?l.idGenerator(m):Kw(),S=new AbortController;let T,j;function _(D){j=D,S.abort()}g&&(g.aborted?_(Fp):g.addEventListener("abort",()=>_(Fp),{once:!0}));const O=(async function(){let D;try{let G=l?.condition?.(m,{getState:y,extra:w});if(Qw(G)&&(G=await G),G===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Q=new Promise((K,F)=>{T=()=>{F({name:"AbortError",message:j||"Aborted"})},S.signal.addEventListener("abort",T,{once:!0})});b(u(k,m,l?.getPendingMeta?.({requestId:k,arg:m},{getState:y,extra:w}))),D=await Promise.race([Q,Promise.resolve(n(m,{dispatch:b,getState:y,extra:w,requestId:k,signal:S.signal,abort:_,rejectWithValue:(K,F)=>new ud(K,F),fulfillWithValue:(K,F)=>new Xp(K,F)})).then(K=>{if(K instanceof ud)throw K;return K instanceof Xp?c(K.payload,k,m,K.meta):c(K,k,m)})])}catch(G){D=G instanceof ud?h(null,k,m,G.payload,G.meta):h(G,k,m)}finally{T&&S.signal.removeEventListener("abort",T)}return l&&!l.dispatchConditionRejection&&h.match(D)&&D.meta.condition||b(D),D})();return Object.assign(O,{abort:_,requestId:k,arg:m,unwrap(){return O.then(Jw)}})}}return Object.assign(p,{pending:u,rejected:h,fulfilled:c,settled:Vw(h,c),typePrefix:a})}return s.withTypes=()=>s,s})();function Jw(s){if(s.meta&&s.meta.rejectedWithValue)throw s.payload;if(s.error)throw s.error;return s.payload}function Qw(s){return s!==null&&typeof s=="object"&&typeof s.then=="function"}var Xw=Symbol.for("rtk-slice-createasyncthunk");function Fw(s,a){return`${s}/${a}`}function Zw({creators:s}={}){const a=s?.asyncThunk?.[Xw];return function(l){const{name:c,reducerPath:u=c}=l;if(!c)throw new Error(La(11));const h=(typeof l.reducers=="function"?l.reducers(e1()):l.reducers)||{},p=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(D,V){const G=typeof D=="string"?D:D.type;if(!G)throw new Error(La(12));if(G in m.sliceCaseReducersByType)throw new Error(La(13));return m.sliceCaseReducersByType[G]=V,g},addMatcher(D,V){return m.sliceMatchers.push({matcher:D,reducer:V}),g},exposeAction(D,V){return m.actionCreators[D]=V,g},exposeCaseReducer(D,V){return m.sliceCaseReducersByName[D]=V,g}};p.forEach(D=>{const V=h[D],G={reducerName:D,type:Fw(c,D),createNotation:typeof l.reducers=="function"};a1(V)?r1(G,V,g,a):t1(G,V,g)});function b(){const[D={},V=[],G=void 0]=typeof l.extraReducers=="function"?Xg(l.extraReducers):[l.extraReducers],Q={...D,...m.sliceCaseReducersByType};return Hw(l.initialState,K=>{for(let F in Q)K.addCase(F,Q[F]);for(let F of m.sliceMatchers)K.addMatcher(F.matcher,F.reducer);for(let F of V)K.addMatcher(F.matcher,F.reducer);G&&K.addDefaultCase(G)})}const y=D=>D,w=new Map,k=new WeakMap;let S;function T(D,V){return S||(S=b()),S(D,V)}function j(){return S||(S=b()),S.getInitialState()}function _(D,V=!1){function G(K){let F=K[D];return typeof F>"u"&&V&&(F=Yi(k,G,j)),F}function Q(K=y){const F=Yi(w,V,()=>new WeakMap);return Yi(F,K,()=>{const he={};for(const[me,et]of Object.entries(l.selectors??{}))he[me]=Ww(et,K,()=>Yi(k,K,j),V);return he})}return{reducerPath:D,getSelectors:Q,get selectors(){return Q(G)},selectSlice:G}}const O={name:c,reducer:T,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:j,..._(u),injectInto(D,{reducerPath:V,...G}={}){const Q=V??u;return D.inject({reducerPath:Q,reducer:T},G),{...O,..._(Q,!0)}}};return O}}function Ww(s,a,n,l){function c(u,...h){let p=a(u);return typeof p>"u"&&l&&(p=n()),s(p,...h)}return c.unwrapped=s,c}var To=Zw();function e1(){function s(a,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...n}}return s.withTypes=()=>s,{reducer(a){return Object.assign({[a.name](...n){return a(...n)}}[a.name],{_reducerDefinitionType:"reducer"})},preparedReducer(a,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:n}},asyncThunk:s}}function t1({type:s,reducerName:a,createNotation:n},l,c){let u,h;if("reducer"in l){if(n&&!s1(l))throw new Error(La(17));u=l.reducer,h=l.prepare}else u=l;c.addCase(s,u).exposeCaseReducer(a,u).exposeAction(a,h?ll(s,h):ll(s))}function a1(s){return s._reducerDefinitionType==="asyncThunk"}function s1(s){return s._reducerDefinitionType==="reducerWithPrepare"}function r1({type:s,reducerName:a},n,l,c){if(!c)throw new Error(La(18));const{payloadCreator:u,fulfilled:h,pending:p,rejected:m,settled:g,options:b}=n,y=c(s,u,b);l.exposeAction(a,y),h&&l.addCase(y.fulfilled,h),p&&l.addCase(y.pending,p),m&&l.addCase(y.rejected,m),g&&l.addMatcher(y.settled,g),l.exposeCaseReducer(a,{fulfilled:h||Ji,pending:p||Ji,rejected:m||Ji,settled:g||Ji})}function Ji(){}function La(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}function Ao(s,a){var n={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(n[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(n[l[c]]=s[l[c]]);return n}function n1(s,a,n,l){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(b){try{g(l.next(b))}catch(y){h(y)}}function m(b){try{g(l.throw(b))}catch(y){h(y)}}function g(b){b.done?u(b.value):c(b.value).then(p,m)}g((l=l.apply(s,a||[])).next())})}const l1=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class oh extends Error{constructor(a,n="FunctionsError",l){super(a),this.name=n,this.context=l}}class i1 extends oh{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Zp extends oh{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Wp extends oh{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Bd;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Bd||(Bd={}));class o1{constructor(a,{headers:n={},customFetch:l,region:c=Bd.Any}={}){this.url=a,this.headers=n,this.region=c,this.fetch=l1(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return n1(this,arguments,void 0,function*(n,l={}){var c;let u,h;try{const{headers:p,method:m,body:g,signal:b,timeout:y}=l;let w={},{region:k}=l;k||(k=this.region);const S=new URL(`${this.url}/${n}`);k&&k!=="any"&&(w["x-region"]=k,S.searchParams.set("forceFunctionRegion",k));let T;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(w["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(w["Content-Type"]="application/json",T=JSON.stringify(g)):T=g;let j=b;y&&(h=new AbortController,u=setTimeout(()=>h.abort(),y),b?(j=h.signal,b.addEventListener("abort",()=>h.abort())):j=h.signal);const _=yield this.fetch(S.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),p),body:T,signal:j}).catch(G=>{throw new i1(G)}),O=_.headers.get("x-relay-error");if(O&&O==="true")throw new Zp(_);if(!_.ok)throw new Wp(_);let D=((c=_.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return D==="application/json"?V=yield _.json():D==="application/octet-stream"||D==="application/pdf"?V=yield _.blob():D==="text/event-stream"?V=_:D==="multipart/form-data"?V=yield _.formData():V=yield _.text(),{data:V,error:null,response:_}}catch(p){return{data:null,error:p,response:p instanceof Wp||p instanceof Zp?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var c1=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},u1=class{constructor(s){var a,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,p=null,m=null,g=u.status,b=u.statusText;if(u.ok){var y,w;if(n.method!=="HEAD"){var k;const _=await u.text();_===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((k=n.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?p=_:p=JSON.parse(_))}const T=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),j=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&j&&j.length>1&&(m=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var S;const T=await u.text();try{h=JSON.parse(T),Array.isArray(h)&&u.status===404&&(p=[],h=null,g=200,b="OK")}catch{u.status===404&&T===""?(g=204,b="No Content"):h={message:T}}if(h&&n.isMaybeSingle&&(!(h==null||(S=h.details)===null||S===void 0)&&S.includes("0 rows"))&&(h=null,g=200,b="OK"),h&&n.shouldThrowOnError)throw new c1(h)}return{error:h,data:p,count:m,status:g,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var h;let p="";const m=u?.cause;if(m){var g,b,y,w;const S=(g=m?.message)!==null&&g!==void 0?g:"",T=(b=m?.code)!==null&&b!==void 0?b:"";p=`${(y=u?.name)!==null&&y!==void 0?y:"FetchError"}: ${u?.message}`,p+=`

Caused by: ${(w=m?.name)!==null&&w!==void 0?w:"Error"}: ${S}`,T&&(p+=` (${T})`),m?.stack&&(p+=`
${m.stack}`)}else{var k;p=(k=u?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},d1=class extends u1{select(s){let a=!1;const n=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:n,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${s}.${a?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:n=a}={}){const l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:n,referencedTable:l=n}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:n=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const p=[s?"analyze":null,a?"verbose":null,n?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const eg=new RegExp("[,()]");var Gr=class extends d1{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const n=Array.from(new Set(a)).map(l=>typeof l=="string"&&eg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,a){const n=Array.from(new Set(a)).map(l=>typeof l=="string"&&eg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:n,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${c}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,n])=>{this.url.searchParams.append(a,`eq.${n}`)}),this}not(s,a,n){return this.url.searchParams.append(s,`not.${a}.${n}`),this}or(s,{foreignTable:a,referencedTable:n=a}={}){const l=n?`${n}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,n){return this.url.searchParams.append(s,`${a}.${n}`),this}},h1=class{constructor(s,{headers:a={},schema:n,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=n,this.fetch=l}select(s,a){const{head:n=!1,count:l}=a??{},c=n?"HEAD":"GET";let u=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new Gr({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:n=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Gr({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:n=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new Gr({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var n;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Gr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var a;const n="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new Gr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},f1=class Fg{constructor(a,{headers:n={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(n),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new h1(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Fg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,n={},{head:l=!1,get:c=!1,count:u}={}){var h;let p;const m=new URL(`${this.url}/rpc/${a}`);let g;l||c?(p=l?"HEAD":"GET",Object.entries(n).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{m.searchParams.append(y,w)})):(p="POST",g=n);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new Gr({method:p,url:m,headers:b,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class m1{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const l=n.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let n=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(n+=`

Suggested solution: ${a.workaround}`),new Error(n)}static createWebSocket(a,n){const l=this.getWebSocketConstructor();return new l(a,n)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const p1="2.89.0",g1=`realtime-js/${p1}`,Zg="1.0.0",x1="2.0.0",tg=Zg,$d=1e4,b1=1e3,v1=100;var ps;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(ps||(ps={}));var Fe;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Fe||(Fe={}));var na;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(na||(na={}));var qd;(function(s){s.websocket="websocket"})(qd||(qd={}));var Is;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Is||(Is={}));class y1{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,n){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return n(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var n;return this._isArrayBuffer((n=a.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var n,l;const c=(l=(n=a.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var n,l;const c=(l=(n=a.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,n,l){var c,u;const h=a.topic,p=(c=a.ref)!==null&&c!==void 0?c:"",m=(u=a.join_ref)!==null&&u!==void 0?u:"",g=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},y=Object.keys(b).length===0?"":JSON.stringify(b);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+h.length+g.length+y.length,k=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(k),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,m.length),S.setUint8(T++,p.length),S.setUint8(T++,h.length),S.setUint8(T++,g.length),S.setUint8(T++,y.length),S.setUint8(T++,n),Array.from(m,_=>S.setUint8(T++,_.charCodeAt(0))),Array.from(p,_=>S.setUint8(T++,_.charCodeAt(0))),Array.from(h,_=>S.setUint8(T++,_.charCodeAt(0))),Array.from(g,_=>S.setUint8(T++,_.charCodeAt(0))),Array.from(y,_=>S.setUint8(T++,_.charCodeAt(0)));var j=new Uint8Array(k.byteLength+l.byteLength);return j.set(new Uint8Array(k),0),j.set(new Uint8Array(l),k.byteLength),j.buffer}decode(a,n){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return n(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,u,h,p,m]=l;return n({join_ref:c,ref:u,topic:h,event:p,payload:m})}return n({})}_binaryDecode(a){const n=new DataView(a),l=n.getUint8(0),c=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,n,c)}_decodeUserBroadcast(a,n,l){const c=n.getUint8(1),u=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(a.slice(m,m+c));m=m+c;const b=l.decode(a.slice(m,m+u));m=m+u;const y=l.decode(a.slice(m,m+h));m=m+h;const w=a.slice(m,a.byteLength),k=p===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,S={type:this.BROADCAST_EVENT,event:b,payload:k};return h>0&&(S.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(a){var n;return a instanceof ArrayBuffer||((n=a?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(a,n){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>n.includes(l)))}}let Wg=class{constructor(a,n){this.callback=a,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Re;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Re||(Re={}));const ag=(s,a,n={})=>{var l;const c=(l=n.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((u,h)=>(u[h]=w1(h,s,a,c),u),{}):{}},w1=(s,a,n,l)=>{const c=a.find(p=>p.name===s),u=c?.type,h=n[s];return u&&!l.includes(u)?ex(u,h):Hd(h)},ex=(s,a)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return N1(a,n)}switch(s){case Re.bool:return _1(a);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return j1(a);case Re.json:case Re.jsonb:return k1(a);case Re.timestamp:return S1(a);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Hd(a);default:return Hd(a)}},Hd=s=>s,_1=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},j1=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},k1=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},N1=(s,a)=>{if(typeof s!="string")return s;const n=s.length-1,l=s[n];if(s[0]==="{"&&l==="}"){let u;const h=s.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(p=>ex(a,p))}return s},S1=s=>typeof s=="string"?s.replace(" ","T"):s,tx=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class dd{constructor(a,n,l={},c=$d){this.channel=a,this.event=n,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,n){var l;return this._hasReceived(a)&&n((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:n}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(n))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var sg;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(sg||(sg={}));class il{constructor(a,n){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=il.syncState(this.state,c,u,h),this.pendingDiffs.forEach(m=>{this.state=il.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=il.syncDiff(this.state,c,u,h),p())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,n,l,c){const u=this.cloneDeep(a),h=this.transformState(n),p={},m={};return this.map(u,(g,b)=>{h[g]||(m[g]=b)}),this.map(h,(g,b)=>{const y=u[g];if(y){const w=b.map(j=>j.presence_ref),k=y.map(j=>j.presence_ref),S=b.filter(j=>k.indexOf(j.presence_ref)<0),T=y.filter(j=>w.indexOf(j.presence_ref)<0);S.length>0&&(p[g]=S),T.length>0&&(m[g]=T)}else p[g]=b}),this.syncDiff(u,{joins:p,leaves:m},l,c)}static syncDiff(a,n,l,c){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(p,m)=>{var g;const b=(g=a[p])!==null&&g!==void 0?g:[];if(a[p]=this.cloneDeep(m),b.length>0){const y=a[p].map(k=>k.presence_ref),w=b.filter(k=>y.indexOf(k.presence_ref)<0);a[p].unshift(...w)}l(p,b,m)}),this.map(h,(p,m)=>{let g=a[p];if(!g)return;const b=m.map(y=>y.presence_ref);g=g.filter(y=>b.indexOf(y.presence_ref)<0),a[p]=g,c(p,g,m),g.length===0&&delete a[p]}),a}static map(a,n){return Object.getOwnPropertyNames(a).map(l=>n(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((n,l)=>{const c=a[l];return"metas"in c?n[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[l]=c,n},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rg;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(rg||(rg={}));var ol;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ol||(ol={}));var Ua;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ua||(Ua={}));class Yr{constructor(a,n={config:{}},l){var c,u;if(this.topic=a,this.params=n,this.socket=l,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dd(this,na.join,this.params,this.timeout),this.rejoinTimer=new Wg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new il(this),this.broadcastEndpointURL=tx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,n=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,g=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(k=>k.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[ol.PRESENCE]&&this.bindings[ol.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},w={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:b}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(k=>a?.(Ua.CHANNEL_ERROR,k)),this._onClose(()=>a?.(Ua.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:k})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){a?.(Ua.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,j=(S=T?.length)!==null&&S!==void 0?S:0,_=[];for(let O=0;O<j;O++){const D=T[O],{filter:{event:V,schema:G,table:Q,filter:K}}=D,F=k&&k[O];if(F&&F.event===V&&Yr.isFilterValueEqual(F.schema,G)&&Yr.isFilterValueEqual(F.table,Q)&&Yr.isFilterValueEqual(F.filter,K))_.push(Object.assign(Object.assign({},D),{id:F.id}));else{this.unsubscribe(),this.state=Fe.errored,a?.(Ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,a&&a(Ua.SUBSCRIBED);return}}).receive("error",k=>{this.state=Fe.errored,a?.(Ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{a?.(Ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,n={}){return await this.send({type:"presence",event:"track",payload:a},n.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,n,l){return this.state===Fe.joined&&a===ol.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,n,l)}async httpSend(a,n,l={}){var c;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(a,n={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=a,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,p,m;const g=this._push(a.type,a,n.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new dd(this,na.leave,{},a),l.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(a,n,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(u),h}_push(a,n,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new dd(this,a,n,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>v1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(a,n,l){return n}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,n,l){var c,u;const h=a.toLocaleLowerCase(),{close:p,error:m,leave:g,join:b}=na;if(l&&[p,m,g,b].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,n,l);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(k=>{var S,T,j;return((S=k.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(T=k.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(k=>k.callback(w,l)):(u=this.bindings[h])===null||u===void 0||u.filter(k=>{var S,T,j,_,O,D;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const V=k.id,G=(S=k.filter)===null||S===void 0?void 0:S.event;return V&&((T=n.ids)===null||T===void 0?void 0:T.includes(V))&&(G==="*"||G?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const V=(O=(_=k?.filter)===null||_===void 0?void 0:_.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return V==="*"||V===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:T,table:j,commit_timestamp:_,type:O,errors:D}=S;w=Object.assign(Object.assign({},{schema:T,table:j,commit_timestamp:_,eventType:O,new:{},old:{},errors:D}),this._getPayloadRecords(S))}k.callback(w,l)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,n,l){const c=a.toLocaleLowerCase(),u={type:c,filter:n,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(a,n){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Yr.isEqual(c.filter,n))})),this}static isEqual(a,n){if(Object.keys(a).length!==Object.keys(n).length)return!1;for(const l in a)if(a[l]!==n[l])return!1;return!0}static isFilterValueEqual(a,n){return(a??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(na.close,{},a)}_onError(a){this._on(na.error,{},n=>a(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const n={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(n.new=ag(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(n.old=ag(a.columns,a.old_record)),n}}const hd=()=>{},Qi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},E1=[1e3,2e3,5e3,1e4],T1=1e4,A1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C1{constructor(a,n){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$d,this.transport=null,this.heartbeatIntervalMs=Qi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hd,this.ref=0,this.reconnectTimer=null,this.vsn=tg,this.logger=hd,this.conn=null,this.sendBuffer=[],this.serializer=new y1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=n?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${a}/${qd.websocket}`,this.httpEndpoint=tx(a),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m1.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const n=a.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const n=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const a=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,n,l){this.logger(a,n,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ps.connecting:return Is.Connecting;case ps.open:return Is.Open;case ps.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,n={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new Yr(`realtime:${a}`,n,this);return this.channels.push(u),u}}push(a){const{topic:n,event:l,payload:c,ref:u}=a,h=()=>{this.encode(a,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(b1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Qi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let n=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${a}"`),n.unsubscribe())}_remove(a){this.channels=this.channels.filter(n=>n.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:u,ref:h}=n,p=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${l} ${c} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(c,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(a){var n;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===ps.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ps.open||this.conn.readyState===ps.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var n;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(na.error))}_appendParams(a,n){if(Object.keys(n).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${a}${l}${c}`}_workerObjectUrl(a){let n;if(a)n=a;else{const l=new Blob([A1],{type:"application/javascript"});n=URL.createObjectURL(l)}return n}_setConnectionState(a,n=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(a=null){let n,l=!1;if(a)n=a,l=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),n=this.accessTokenValue}else n=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(c=>{const u={access_token:n,version:g1};n&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(na.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${a}`,n)})}_triggerStateCallbacks(a,n){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(n)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Wg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var n,l,c,u,h,p,m,g,b,y,w,k;switch(this.transport=(n=a?.transport)!==null&&n!==void 0?n:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:$d,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Qi.HEARTBEAT_INTERVAL,this.worker=(u=a?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=a?.heartbeatCallback)!==null&&p!==void 0?p:hd,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:tg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>E1[S-1]||T1),this.vsn){case Zg:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((S,T)=>T(JSON.stringify(S))),this.decode=(y=a?.decode)!==null&&y!==void 0?y:((S,T)=>T(JSON.parse(S)));break;case x1:this.encode=(w=a?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(k=a?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var fl=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function R1(s,a,n){const l=new URL(a,s);if(n)for(const[c,u]of Object.entries(n))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function O1(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function D1(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:l,query:c,body:u,headers:h}){const p=R1(s.baseUrl,l,c),m=await O1(s.auth),g=await a(p,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...m,...h},body:u?JSON.stringify(u):void 0}),b=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),w=y&&b?JSON.parse(b):b;if(!g.ok){const k=y?w:void 0,S=k?.error;throw new fl(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:k})}return{status:g.status,headers:g.headers,data:w}}}}function Xi(s){return s.join("")}var M1=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:Xi(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,a){const n={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xi(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xi(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xi(s.namespace)}`}),!0}catch(a){if(a instanceof fl&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(n){if(n instanceof fl&&n.status===409)return;throw n}}};function Lr(s){return s.join("")}var U1=class{constructor(s,a="",n){this.client=s,this.prefix=a,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(s.namespace)}/tables`,body:a,headers:n})).data.metadata}async updateTable(s,a){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lr(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lr(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(n){if(n instanceof fl&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(n){if(n instanceof fl&&n.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw n}}},z1=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=D1({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new M1(this.client,a),this.tableOps=new U1(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},Co=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function ze(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var L1=class extends Co{constructor(s,a,n){super(s),this.name="StorageApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pd=class extends Co{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}};const ch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),B1=()=>Response,Vd=s=>{if(Array.isArray(s))return s.map(n=>Vd(n));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([n,l])=>{const c=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));a[c]=Vd(l)}),a},$1=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},q1=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ml(s){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ml(s)}function H1(s,a){if(ml(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var l=n.call(s,a);if(ml(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function P1(s){var a=H1(s,"string");return ml(a)=="symbol"?a:a+""}function V1(s,a,n){return(a=P1(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n,s}function ng(s,a){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),n.push.apply(n,l)}return n}function le(s){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?ng(Object(n),!0).forEach(function(l){V1(s,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(n,l))})}return s}const fd=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},G1=async(s,a,n)=>{s instanceof await B1()&&!n?.noResolveJson?s.json().then(l=>{const c=s.status||500,u=l?.statusCode||c+"";a(new L1(fd(l),c,u))}).catch(l=>{a(new Pd(fd(l),l))}):a(new Pd(fd(s),s))},K1=(s,a,n,l)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"||!l?c:($1(l)?(c.headers=le({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,a?.duplex&&(c.duplex=a.duplex),le(le({},c),n))};async function jl(s,a,n,l,c,u){return new Promise((h,p)=>{s(n,K1(a,l,c,u)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>G1(m,p,l))})}async function pl(s,a,n,l){return jl(s,"GET",a,n,l)}async function ra(s,a,n,l,c){return jl(s,"POST",a,l,c,n)}async function Gd(s,a,n,l,c){return jl(s,"PUT",a,l,c,n)}async function I1(s,a,n,l){return jl(s,"HEAD",a,le(le({},n),{},{noResolveJson:!0}),l)}async function uh(s,a,n,l,c){return jl(s,"DELETE",a,l,c,n)}var Y1=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}}};let ax;ax=Symbol.toStringTag;var J1=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[ax]="BlobDownloadBuilder",this.promise=null}asStream(){return new Y1(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}}};const Q1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var X1=class{constructor(s,a={},n,l){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.bucketId=n,this.fetch=ch(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,a,n,l){var c=this;try{let u;const h=le(le({},lg),l);let p=le(le({},c.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",c.encodeMetadata(m)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),m&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(m))):(u=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),l?.headers&&(p=le(le({},p),l.headers));const g=c._removeEmptyFolders(a),b=c._getFinalPath(g),y=await(s=="PUT"?Gd:ra)(c.fetch,`${c.url}/object/${b}`,u,le({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(ze(u))return{data:null,error:u};throw u}}async upload(s,a,n){return this.uploadOrUpdate("POST",s,a,n)}async uploadToSignedUrl(s,a,n,l){var c=this;const u=c._removeEmptyFolders(s),h=c._getFinalPath(u),p=new URL(c.url+`/object/upload/sign/${h}`);p.searchParams.set("token",a);try{let m;const g=le({upsert:lg.upsert},l),b=le(le({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",g.cacheControl)):(m=n,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType),{data:{path:u,fullPath:(await Gd(c.fetch,p.toString(),m,{headers:b})).Key},error:null}}catch(m){if(c.shouldThrowOnError)throw m;if(ze(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,a){var n=this;try{let l=n._getFinalPath(s);const c=le({},n.headers);a?.upsert&&(c["x-upsert"]="true");const u=await ra(n.fetch,`${n.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(n.url+u.url),p=h.searchParams.get("token");if(!p)throw new Co("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:p},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}}async update(s,a,n){return this.uploadOrUpdate("PUT",s,a,n)}async move(s,a,n){var l=this;try{return{data:await ra(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:n?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}}async copy(s,a,n){var l=this;try{return{data:{path:(await ra(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:n?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}}async createSignedUrl(s,a,n){var l=this;try{let c=l._getFinalPath(s),u=await ra(l.fetch,`${l.url}/object/sign/${c}`,le({expiresIn:a},n?.transform?{transform:n.transform}:{}),{headers:l.headers});const h=n?.download?`&download=${n.download===!0?"":n.download}`:"";return u={signedUrl:encodeURI(`${l.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}}async createSignedUrls(s,a,n){var l=this;try{const c=await ra(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:s},{headers:l.headers}),u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:c.map(h=>le(le({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}}download(s,a){const n=typeof a?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(a?.transform||{}),c=l?`?${l}`:"",u=this._getFinalPath(s),h=()=>pl(this.fetch,`${this.url}/${n}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new J1(h,this.shouldThrowOnError)}async info(s){var a=this;const n=a._getFinalPath(s);try{return{data:Vd(await pl(a.fetch,`${a.url}/object/info/${n}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}}async exists(s){var a=this;const n=a._getFinalPath(s);try{return await I1(a.fetch,`${a.url}/object/${n}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ze(l)&&l instanceof Pd){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,a){const n=this._getFinalPath(s),l=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const u=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&l.push(h);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${p}`)}}}async remove(s){var a=this;try{return{data:await uh(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async list(s,a,n){var l=this;try{const c=le(le(le({},Q1),a),{},{prefix:s||""});return{data:await ra(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},n),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}}async listV2(s,a){var n=this;try{const l=le({},s);return{data:await ra(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,l,{headers:n.headers},a),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const sx="2.89.0",rx={"X-Client-Info":`storage-js/${sx}`};var F1=class{constructor(s,a={},n,l){this.shouldThrowOnError=!1;const c=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=le(le({},rx),a),this.fetch=ch(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var a=this;try{const n=a.listBucketOptionsToQueryString(s);return{data:await pl(a.fetch,`${a.url}/bucket${n}`,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async getBucket(s){var a=this;try{return{data:await pl(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async createBucket(s,a={public:!1}){var n=this;try{return{data:await ra(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}}async updateBucket(s,a){var n=this;try{return{data:await Gd(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}}async emptyBucket(s){var a=this;try{return{data:await ra(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async deleteBucket(s){var a=this;try{return{data:await uh(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Z1=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},rx),a),this.fetch=ch(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await ra(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async listBuckets(s){var a=this;try{const n=new URLSearchParams;s?.limit!==void 0&&n.set("limit",s.limit.toString()),s?.offset!==void 0&&n.set("offset",s.offset.toString()),s?.sortColumn&&n.set("sortColumn",s.sortColumn),s?.sortOrder&&n.set("sortOrder",s.sortOrder),s?.search&&n.set("search",s.search);const l=n.toString(),c=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await pl(a.fetch,c,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async deleteBucket(s){var a=this;try{return{data:await uh(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}from(s){var a=this;if(!q1(s))throw new Co("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new z1({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(n,{get(c,u){const h=c[u];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(c,p),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const dh={"X-Client-Info":`storage-js/${sx}`,"Content-Type":"application/json"};var nx=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Lt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var md=class extends nx{constructor(s,a,n){super(s),this.name="StorageVectorsApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},W1=class extends nx{constructor(s,a){super(s),this.name="StorageVectorsUnknownError",this.originalError=a}};const hh=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),e_=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},ig=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),t_=async(s,a,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!n?.noResolveJson){const l=s.status||500,c=s;if(typeof c.json=="function")c.json().then(u=>{const h=u?.statusCode||u?.code||l+"";a(new md(ig(u),l,h))}).catch(()=>{const u=l+"";a(new md(c.statusText||`HTTP ${l} error`,l,u))});else{const u=l+"";a(new md(c.statusText||`HTTP ${l} error`,l,u))}}else a(new W1(ig(s),s))},a_=(s,a,n,l)=>{const c={method:s,headers:a?.headers||{}};return l?(e_(l)?(c.headers=le({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,le(le({},c),n)):c};async function s_(s,a,n,l,c,u){return new Promise((h,p)=>{s(n,a_(a,l,c,u)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>t_(m,p,l))})}async function Bt(s,a,n,l,c){return s_(s,"POST",a,l,c,n)}var r_=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},dh),a),this.fetch=hh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async getIndex(s,a){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async listIndexes(s){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async deleteIndex(s,a){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}},n_=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},dh),a),this.fetch=hh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var a=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Bt(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async getVectors(s){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async listVectors(s){var a=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Bt(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async queryVectors(s){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async deleteVectors(s){var a=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Bt(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}},l_=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},dh),a),this.fetch=hh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async getBucket(s){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}async deleteBucket(s){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}}},i_=class extends l_{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new o_(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,n=this;return a().call(n,s)}async getBucket(s){var a=()=>super.getBucket,n=this;return a().call(n,s)}async listBuckets(s={}){var a=()=>super.listBuckets,n=this;return a().call(n,s)}async deleteBucket(s){var a=()=>super.deleteBucket,n=this;return a().call(n,s)}},o_=class extends r_{constructor(s,a,n,l){super(s,a,l),this.vectorBucketName=n}async createIndex(s){var a=()=>super.createIndex,n=this;return a().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,n=this;return a().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,n=this;return a().call(n,n.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,n=this;return a().call(n,n.vectorBucketName,s)}index(s){return new c_(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},c_=class extends n_{constructor(s,a,n,l,c){super(s,a,c),this.vectorBucketName=n,this.indexName=l}async putVectors(s){var a=()=>super.putVectors,n=this;return a().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var a=()=>super.getVectors,n=this;return a().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,n=this;return a().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,n=this;return a().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,n=this;return a().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},u_=class extends F1{constructor(s,a={},n,l){super(s,a,n,l)}from(s){return new X1(this.url,this.headers,s,this.fetch)}get vectors(){return new i_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Z1(this.url+"/iceberg",this.headers,this.fetch)}};const lx="2.89.0",Kr=30*1e3,Kd=3,pd=Kd*Kr,d_="http://localhost:9999",h_="supabase.auth.token",f_={"X-Client-Info":`gotrue-js/${lx}`},Id="X-Supabase-Api-Version",ix={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p_=600*1e3;class gl extends Error{constructor(a,n,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=l}}function ee(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class g_ extends gl{constructor(a,n,l){super(a,n,l),this.name="AuthApiError",this.status=n,this.code=l}}function x_(s){return ee(s)&&s.name==="AuthApiError"}class Ys extends gl{constructor(a,n){super(a),this.name="AuthUnknownError",this.originalError=n}}class Ha extends gl{constructor(a,n,l,c){super(a,l,c),this.name=n,this.status=l}}class zt extends Ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function b_(s){return ee(s)&&s.name==="AuthSessionMissingError"}class Br extends Ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fi extends Ha{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Zi extends Ha{constructor(a,n=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v_(s){return ee(s)&&s.name==="AuthImplicitGrantRedirectError"}class og extends Ha{constructor(a,n=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y_ extends Ha{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yd extends Ha{constructor(a,n){super(a,"AuthRetryableFetchError",n,void 0)}}function gd(s){return ee(s)&&s.name==="AuthRetryableFetchError"}class cg extends Ha{constructor(a,n,l){super(a,"AuthWeakPasswordError",n,"weak_password"),this.reasons=l}}class Jd extends Ha{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ug=` 	
\r=`.split(""),w_=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<ug.length;a+=1)s[ug[a].charCodeAt(0)]=-2;for(let a=0;a<go.length;a+=1)s[go[a].charCodeAt(0)]=a;return s})();function dg(s,a,n){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;n(go[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;n(go[l]),a.queuedBits-=6}}function ox(s,a,n){const l=w_[s];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)n(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function hg(s){const a=[],n=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{k_(h,l,n)};for(let h=0;h<s.length;h+=1)ox(s.charCodeAt(h),c,u);return a.join("")}function __(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function j_(s,a){for(let n=0;n<s.length;n+=1){let l=s.charCodeAt(n);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}__(l,a)}}function k_(s,a,n){if(a.utf8seq===0){if(s<=127){n(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&n(a.codepoint)}}function Jr(s){const a=[],n={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)ox(s.charCodeAt(c),n,l);return new Uint8Array(a)}function N_(s){const a=[];return j_(s,n=>a.push(n)),new Uint8Array(a)}function Js(s){const a=[],n={queue:0,queuedBits:0},l=c=>{a.push(c)};return s.forEach(c=>dg(c,n,l)),dg(null,n,l),a.join("")}function S_(s){return Math.round(Date.now()/1e3)+s}function E_(){return Symbol("auth-callback")}const ct=()=>typeof window<"u"&&typeof document<"u",Vs={tested:!1,writable:!1},cx=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vs.tested)return Vs.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Vs.tested=!0,Vs.writable=!0}catch{Vs.tested=!0,Vs.writable=!1}return Vs.writable};function T_(s){const a={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,u)=>{a[u]=c})}catch{}return n.searchParams.forEach((l,c)=>{a[c]=l}),a}const ux=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),A_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ir=async(s,a,n)=>{await s.setItem(a,JSON.stringify(n))},Gs=async(s,a)=>{const n=await s.getItem(a);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ot=async(s,a)=>{await s.removeItem(a)};class Ro{constructor(){this.promise=new Ro.promiseConstructor((a,n)=>{this.resolve=a,this.reject=n})}}Ro.promiseConstructor=Promise;function xd(s){const a=s.split(".");if(a.length!==3)throw new Jd("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!m_.test(a[l]))throw new Jd("JWT not in base64url format");return{header:JSON.parse(hg(a[0])),payload:JSON.parse(hg(a[1])),signature:Jr(a[2]),raw:{header:a[0],payload:a[1]}}}async function C_(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function R_(s,a){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!a(u,null,h)){l(h);return}}catch(h){if(!a(u,h)){c(h);return}}})()})}function O_(s){return("0"+s.toString(16)).substr(-2)}function D_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=n.length;let c="";for(let u=0;u<56;u++)c+=n.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,O_).join("")}async function M_(s){const n=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function U_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await M_(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(s,a,n=!1){const l=D_();let c=l;n&&(c+="/PASSWORD_RECOVERY"),await Ir(s,`${a}-code-verifier`,c);const u=await U_(l);return[u,l===u?"plain":"s256"]}const z_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L_(s){const a=s.headers.get(Id);if(!a||!a.match(z_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function B_(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function $_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qr(s){if(!q_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bd(){const s={};return new Proxy(s,{get:(a,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function H_(s,a){return new Proxy(s,{get:(n,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(n,l,c)}})}function fg(s){return JSON.parse(JSON.stringify(s))}const Ks=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),P_=[502,503,504];async function mg(s){var a;if(!A_(s))throw new Yd(Ks(s),0);if(P_.includes(s.status))throw new Yd(Ks(s),s.status);let n;try{n=await s.json()}catch(u){throw new Ys(Ks(u),u)}let l;const c=L_(s);if(c&&c.getTime()>=ix["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?l=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(l=n.error_code),l){if(l==="weak_password")throw new cg(Ks(n),s.status,((a=n.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new cg(Ks(n),s.status,n.weak_password.reasons);throw new g_(Ks(n),s.status||500,l)}const V_=(s,a,n,l)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),n))};async function ne(s,a,n,l){var c;const u=Object.assign({},l?.headers);u[Id]||(u[Id]=ix["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await G_(s,a,n+p,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function G_(s,a,n,l,c,u){const h=V_(a,l,c,u);let p;try{p=await s(n,Object.assign({},h))}catch(m){throw console.error(m),new Yd(Ks(m),0)}if(p.ok||await mg(p),l?.noResolveJson)return p;try{return await p.json()}catch(m){await mg(m)}}function sa(s){var a;let n=null;Y_(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=S_(s.expires_in)));const l=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:n,user:l},error:null}}function pg(s){const a=sa(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0)&&(a.data.weak_password=s.weak_password),a}function gs(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function K_(s){return{data:s,error:null}}function I_(s){const{action_link:a,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u}=s,h=Ao(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:a,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function gg(s){return s}function Y_(s){return s.access_token&&s.refresh_token&&s.expires_in}const vd=["global","local","others"];class J_{constructor({url:a="",headers:n={},fetch:l}){this.url=a,this.headers=n,this.fetch=ux(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,n=vd[0]){if(vd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vd.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gs})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:n}=a,l=Ao(a,["options"]),c=Object.assign(Object.assign({},l),n);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:I_,redirectTo:n?.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:gs})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(a){var n,l,c,u,h,p,m;try{const g={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:gg});if(b.error)throw b.error;const y=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(m=(p=b.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return k.length>0&&(k.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);g[`${j}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ee(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){qr(a);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:gs})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(a,n){qr(a);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:n,headers:this.headers,xform:gs})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,n=!1){qr(a);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:n},xform:gs})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){qr(a.userId);try{const{data:n,error:l}=await ne(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:l}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(a){qr(a.userId),qr(a.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(a){var n,l,c,u,h,p,m;try{const g={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:gg});if(b.error)throw b.error;const y=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(m=(p=b.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return k.length>0&&(k.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);g[`${j}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ee(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(a){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(a,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function xg(s={}){return{getItem:a=>s[a]||null,setItem:(a,n)=>{s[a]=n},removeItem:a=>{delete s[a]}}}const Hr={debug:!!(globalThis&&cx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dx extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Q_ extends dx{}async function X_(s,a,n){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await n()}finally{Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Q_(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Hr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function F_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hx(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Z_(s){return parseInt(s,16)}function W_(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function e2(s){var a;const{chainId:n,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:p,requestId:m,resources:g,scheme:b,uri:y,version:w}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const k=hx(s.address),S=b?`${b}://${l}`:l,T=s.statement?`${s.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${k}

${T}`;let _=`URI: ${y}
Version: ${w}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(_+=`
Expiration Time: ${c.toISOString()}`),p&&(_+=`
Not Before: ${p.toISOString()}`),m&&(_+=`
Request ID: ${m}`),g){let O=`
Resources:`;for(const D of g){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);O+=`
- ${D}`}_+=O}return`${j}
${_}`}class Je extends Error{constructor({message:a,code:n,cause:l,name:c}){var u;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class xo extends Je{constructor(a,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:a}),this.name="WebAuthnUnknownError",this.originalError=n}}function t2({error:s,options:a}){var n,l,c;const{publicKey:u}=a;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(fx(h)){if(u.rp.id!==h)return new Je({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function a2({error:s,options:a}){const{publicKey:n}=a;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(fx(l)){if(n.rpId!==l)return new Je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class s2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const r2=new s2;function n2(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:n,excludeCredentials:l}=s,c=Ao(s,["challenge","user","excludeCredentials"]),u=Jr(a).buffer,h=Object.assign(Object.assign({},n),{id:Jr(n.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:u,user:h});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Jr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function l2(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:n}=s,l=Ao(s,["challenge","allowCredentials"]),c=Jr(a).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];u.allowCredentials[h]=Object.assign(Object.assign({},p),{id:Jr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function i2(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Js(new Uint8Array(s.response.attestationObject)),clientDataJSON:Js(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=n.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function o2(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Js(new Uint8Array(c.authenticatorData)),clientDataJSON:Js(new Uint8Array(c.clientDataJSON)),signature:Js(new Uint8Array(c.signature)),userHandle:c.userHandle?Js(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=n.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function fx(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function bg(){var s,a;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function c2(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",a)}:{data:null,error:new xo("Empty credential response",a)}}catch(a){return{data:null,error:t2({error:a,options:s})}}}async function u2(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",a)}:{data:null,error:new xo("Empty credential response",a)}}catch(a){return{data:null,error:a2({error:a,options:s})}}}const d2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bo(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))l[u]=h;else if(n(h))l[u]=h;else if(a(h)){const p=l[u];a(p)?l[u]=bo(p,h):l[u]=bo(h)}else l[u]=h}return l}function f2(s,a){return bo(d2,s,a||{})}function m2(s,a){return bo(h2,s,a||{})}class p2{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:n,friendlyName:l,signal:c},u){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:a,webauthn:n});if(!h)return{data:null,error:p};const m=c??r2.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${l}`),g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=f2(h.webauthn.credential_options.publicKey,u?.create),{data:b,error:y}=await c2({publicKey:g,signal:m});return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}case"request":{const g=m2(h.webauthn.credential_options.publicKey,u?.request),{data:b,error:y}=await u2(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:m}));return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ys("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:n,webauthn:l}){return this.client.mfa.verify({factorId:n,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new gl("rpId is required for WebAuthn authentication")};try{if(!bg())return{data:null,error:new Ys("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:a,webauthn:{rpId:n,rpOrigins:l},signal:c},{request:u});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:l,credential_response:m.credential_response}})}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ys("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new gl("rpId is required for WebAuthn registration")};try{if(!bg())return{data:null,error:new Ys("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var y;return(y=b.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:l},signal:c},{create:u});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ys("Unexpected error in register",h)}}}}F_();const g2={url:d_,storageKey:h_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vg(s,a,n){return await n()}const Pr={};class xl{get jwks(){var a,n;return(n=(a=Pr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(a){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,n;return(n=(a=Pr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:a})}constructor(a){var n,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},g2),a);if(this.storageKey=u.storageKey,this.instanceID=(n=xl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,xl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ct()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new J_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=ux(u.fetch),this.lock=u.lock||vg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&ct()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=X_:this.lock=vg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new p2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:cx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=xg(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lx}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let n={},l="none";if(ct()&&(n=T_(window.location.href),this._isImplicitGrantCallback(n)?l="implicit":await this._isPKCECallback(n)&&(l="pkce")),ct()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(n,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),v_(u)){const m=(a=u.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?this._returnResult({error:n}):this._returnResult({error:new Ys("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var n,l,c;try{const u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(n=a?.options)===null||n===void 0?void 0:n.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:sa}),{data:h,error:p}=u;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(a){var n,l,c;try{let u;if("email"in a){const{email:b,password:y,options:w}=a;let k=null,S=null;this.flowType==="pkce"&&([k,S]=await $r(this.storage,this.storageKey)),u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:b,password:y,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:k,code_challenge_method:S},xform:sa})}else if("phone"in a){const{phone:b,password:y,options:w}=a;u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:y,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(c=w?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:sa})}else throw new Fi("You must provide either an email or phone number and a password");const{data:h,error:p}=u;if(p||!h)return await ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(a){try{let n;if("email"in a){const{email:u,password:h,options:p}=a;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:pg})}else if("phone"in a){const{phone:u,password:h,options:p}=a;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:pg})}else throw new Fi("You must provide either an email or phone number and a password");const{data:l,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Br;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(a){var n,l,c,u;return await this._handleProviderSignIn(a.provider,{redirectTo:(n=a.options)===null||n===void 0?void 0:n.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=a.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:n}=a;switch(n){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(a){var n,l,c,u,h,p,m,g,b,y,w;let k,S;if("message"in a)k=a.message,S=a.signature;else{const{chain:T,wallet:j,statement:_,options:O}=a;let D;if(ct())if(typeof j=="object")D=j;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")D=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=j}const V=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),G=await D.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=hx(G[0]);let K=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const he=await D.request({method:"eth_chainId"});K=Z_(he)}const F={domain:V.host,address:Q,statement:_,uri:V.href,version:"1",chainId:K,nonce:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(b=O?.signInWithEthereum)===null||b===void 0?void 0:b.resources};k=e2(F),S=await D.request({method:"personal_sign",params:[W_(k),Q]})}try{const{data:T,error:j}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:S},!((y=a.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sa});if(j)throw j;if(!T||!T.session||!T.user){const _=new Br;return this._returnResult({data:{user:null,session:null},error:_})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:j})}catch(T){if(ee(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var n,l,c,u,h,p,m,g,b,y,w,k;let S,T;if("message"in a)S=a.message,T=a.signature;else{const{chain:j,wallet:_,statement:O,options:D}=a;let V;if(ct())if(typeof _=="object")V=_;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))V=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=_}const G=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const Q=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),O?{statement:O}:null));let K;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")K=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)K=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)S=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),T=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${G.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(c=(l=D?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=D?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((y=(b=D?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||y===void 0)&&y.length?["Resources",...D.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Q=await V.signMessage(new TextEncoder().encode(S),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Q}}try{const{data:j,error:_}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Js(T)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=a.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:sa});if(_)throw _;if(!j||!j.session||!j.user){const O=new Br;return this._returnResult({data:{user:null,session:null},error:O})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:_})}catch(j){if(ee(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(a){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(n??"").split("/");try{if(!l&&this.flowType==="pkce")throw new y_;const{data:u,error:h}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:sa});if(await ot(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const p=new Br;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(a){try{const{options:n,provider:l,token:c,access_token:u,nonce:h}=a,p=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:sa}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const b=new Br;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(a){var n,l,c,u,h;try{if("email"in a){const{email:p,options:m}=a;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await $r(this.storage,this.storageKey));const{error:y}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:b},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in a){const{phone:p,options:m}=a,{data:g,error:b}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:b})}throw new Fi("You must provide either an email or phone number.")}catch(p){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(a){var n,l;try{let c,u;"options"in a&&(c=(n=a.options)===null||n===void 0?void 0:n.redirectTo,u=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:p}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:sa});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,g=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var n,l,c,u,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await $r(this.storage,this.storageKey));const g=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(n=a.options)===null||n===void 0?void 0:n.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:K_});return!((u=g.data)===null||u===void 0)&&u.url&&ct()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:n},error:l}=a;if(l)throw l;if(!n)throw new zt;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const n=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:u}=a,{error:h}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:c,options:u}=a,{data:h,error:p}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Fi("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(a,n){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=n();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await a(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const n=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?a=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<pd:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await Gs(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=bd()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=H_(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(a){try{return a?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:gs}):await this._useSession(async n=>{var l,c,u;const{data:h,error:p}=n;if(p)throw p;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:gs})})}catch(n){if(ee(n))return b_(n)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(a,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,n))}async _updateUser(a,n={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new zt;const h=c.session;let p=null,m=null;this.flowType==="pkce"&&a.email!=null&&([p,m]=await $r(this.storage,this.storageKey));const{data:g,error:b}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:gs});if(b)throw b;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new zt;const n=Date.now()/1e3;let l=n,c=!0,u=null;const{payload:h}=xd(a.access_token);if(h.exp&&(l=h.exp,c=l<=n),c){const{data:p,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(a.access_token);if(m)throw m;u={access_token:a.access_token,refresh_token:a.refresh_token,user:p.user,token_type:"bearer",expires_in:l-n,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async n=>{var l;if(!a){const{data:h,error:p}=n;if(p)throw p;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new zt;const{data:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(a,n){try{if(!ct())throw new Zi("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Zi(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new og("No code detected.");const{data:O,error:D}=await this._exchangeCodeForSession(a.code);if(D)throw D;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:p,expires_at:m,token_type:g}=a;if(!u||!p||!h||!g)throw new Zi("No session defined in URL");const b=Math.round(Date.now()/1e3),y=parseInt(p);let w=b+y;m&&(w=parseInt(m));const k=w-b;k*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${y}s`);const S=w-y;b-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,b):b-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,b);const{data:T,error:j}=await this._getUser(u);if(j)throw j;const _={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:y,expires_at:w,refresh_token:h,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:a.type},error:null})}catch(l){if(ee(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&n)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({error:u});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:p}=await this.admin.signOut(h,a);if(p&&!(x_(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return a!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const n=E_(),l={id:n,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async n=>{var l,c;try{const{data:{session:u},error:h}=n;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",a,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",u),console.error(u)}})}async resetPasswordForEmail(a,n={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await $r(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var a;try{const{data:n,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=n.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var n;try{const{data:l,error:c}=await this._useSession(async u=>{var h,p,m,g,b;const{data:y,error:w}=u;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=a.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",k,{headers:this.headers,jwt:(b=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ct()&&!(!((n=a.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(ee(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async n=>{var l;try{const{error:c,data:{session:u}}=n;if(c)throw c;const{options:h,provider:p,token:m,access_token:g,nonce:b}=a,y=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:m,access_token:g,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:sa}),{data:w,error:k}=y;return k?this._returnResult({data:{user:null,session:null},error:k}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Br}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:k}))}catch(c){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async n=>{var l,c;const{data:u,error:h}=n;if(h)throw h;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(a){const n=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(n,"begin");try{const l=Date.now();return await R_(async c=>(c>0&&await C_(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:sa})),(c,u)=>{const h=200*Math.pow(2,c);return u&&gd(u)&&Date.now()+h-l<Kr})}catch(l){if(this._debug(n,"error",l),ee(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(n,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,n){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",n,"url",l),ct()&&!n.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,n;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Gs(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Ir(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:bd()}else if(c&&!c.user&&!c.user){const h=await Gs(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await ot(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,c)):c.user=bd()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<pd;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${pd}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),gd(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(c.access_token);!p&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var n,l;if(!a)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ro;const{data:u,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!u.session)throw new zt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(c,"error",u),ee(u)){const h={data:null,error:u};return gd(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,n,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",n,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(a,n)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ot(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},a),l=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&n.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const u=fg(c);await Ir(this.storage,this.storageKey,u)}else{const c=fg(n);await Ir(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ot(this.storage,this.storageKey),await ot(this.storage,this.storageKey+"-code-verifier"),await ot(this.storage,this.storageKey+"-user"),this.userStorage&&await ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async n=>{const{data:{session:l}}=n;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Kr}ms, refresh threshold is ${Kd} ticks`),c<=Kd&&await this._callRefreshToken(l.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof dx)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const n=`#_onVisibilityChanged(${a})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,n,l){const c=[`provider=${encodeURIComponent(n)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await $r(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(p.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;return u?this._returnResult({data:null,error:u}):await ne(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(a){try{return await this._useSession(async n=>{var l,c;const{data:u,error:h}=n;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:g}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&m.type==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?i2(a.webauthn.credential_response):o2(a.webauthn.credential_response)})}:{code:a.code}),{data:p,error:m}=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:n2(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:l2(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(a){const{data:n,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:n.id,code:a.code})}async _listFactors(){var a;const{data:{user:n},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(a=n?.factors)!==null&&a!==void 0?a:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,n;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=xd(l.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((n=(a=l.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new zt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(a,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new zt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&ct()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new zt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&ct()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:n},error:l}=a;return l?this._returnResult({data:null,error:l}):n?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new zt})})}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(a,n={keys:[]}){let l=n.keys.find(p=>p.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(p=>p.kid===a),l&&this.jwks_cached_at+p_>c)return l;const{data:u,error:h}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(p=>p.kid===a),!l)?null:l}async getClaims(a,n={}){try{let l=a;if(!l){const{data:k,error:S}=await this.getSession();if(S||!k.session)return this._returnResult({data:null,error:S});l=k.session.access_token}const{header:c,payload:u,signature:h,raw:{header:p,payload:m}}=xd(l);n?.allowExpired||B_(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:k}=await this.getUser(l);if(k)throw k;return{data:{claims:u,header:c,signature:h},error:null}}const b=$_(c.alg),y=await crypto.subtle.importKey("jwk",g,b,!0,["verify"]);if(!await crypto.subtle.verify(b,y,h,N_(`${p}.${m}`)))throw new Jd("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}}xl.nextInstanceID={};const x2=xl,b2="2.89.0";let nl="";typeof Deno<"u"?nl="deno":typeof document<"u"?nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nl="react-native":nl="node";const v2={"X-Client-Info":`supabase-js-${nl}/${b2}`},y2={headers:v2},w2={schema:"public"},_2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j2={};function bl(s){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},bl(s)}function k2(s,a){if(bl(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var l=n.call(s,a);if(bl(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function N2(s){var a=k2(s,"string");return bl(a)=="symbol"?a:a+""}function S2(s,a,n){return(a=N2(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n,s}function yg(s,a){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),n.push.apply(n,l)}return n}function qe(s){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?yg(Object(n),!0).forEach(function(l){S2(s,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(n,l))})}return s}const E2=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),T2=()=>Headers,A2=(s,a,n)=>{const l=E2(n),c=T2();return async(u,h)=>{var p;const m=(p=await a())!==null&&p!==void 0?p:s;let g=new c(h?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(u,qe(qe({},h),{},{headers:g}))}};function C2(s){return s.endsWith("/")?s:s+"/"}function R2(s,a){var n,l;const{db:c,auth:u,realtime:h,global:p}=s,{db:m,auth:g,realtime:b,global:y}=a,w={db:qe(qe({},m),c),auth:qe(qe({},g),u),realtime:qe(qe({},b),h),storage:{},global:qe(qe(qe({},y),p),{},{headers:qe(qe({},(n=y?.headers)!==null&&n!==void 0?n:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function O2(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C2(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var D2=class extends x2{constructor(s){super(s)}},M2=class{constructor(s,a,n){var l,c;this.supabaseUrl=s,this.supabaseKey=a;const u=O2(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:w2,realtime:j2,auth:qe(qe({},_2),{},{storageKey:h}),global:y2},m=R2(n??{},p);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=A2(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new f1(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new u_(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new o1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,n)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,n;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(a=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:n,storage:l,userStorage:c,storageKey:u,flowType:h,lock:p,debug:m,throwOnError:g},b,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D2({url:this.authUrl.href,headers:qe(qe({},w),b),storageKey:u,autoRefreshToken:s,persistSession:a,detectSessionInUrl:n,storage:l,userStorage:c,flowType:h,lock:p,debug:m,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new C1(this.realtimeUrl.href,qe(qe({},s),{},{params:qe(qe({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const U2=(s,a,n)=>new M2(s,a,n);function z2(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const a=s.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}z2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const L2="https://kljgzjzidatvgfdveooq.supabase.co",B2="sb_publishable_fpi9aTeBMMDozmeTE5J9_Q_vs0CzBeX",oe=U2(L2,B2),xt={async getMyProfile(){const{data:{user:s}}=await oe.auth.getUser();if(!s)return null;const{data:a,error:n}=await oe.from("people").select("*").eq("user_id",s.id).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching profile:",n),n;return a},async createPerson(s){const{data:a,error:n}=await oe.from("people").insert([s]).select().single();if(n)throw n;return a},async updateProfile(s,a){const{data:n,error:l}=await oe.from("people").update(a).eq("id",s).select().single();if(l)throw l;return n},async getPersonById(s){const{data:a,error:n}=await oe.from("people").select("*, admins(role)").eq("id",s).single();if(n)throw n;const{data:l}=await oe.from("event_participants").select(`
                status,
                event:events (
                    id,
                    title,
                    start_time,
                    end_time
                )
            `).eq("person_id",s).order("created_at",{foreignTable:"events",ascending:!1});return{...a,participation:l?.map(c=>({event:c.event,status:c.status}))}},async getVolunteers(){const{data:s,error:a}=await oe.from("people").select("*, admins!inner(role)").or("is_volunteer.eq.true").or("role.eq.volunteer",{foreignTable:"admins"}).order("full_name",{ascending:!0});if(a)throw a;return s},async getAllPeople(s){let a=oe.from("people").select("*, admins(role)");s&&Object.entries(s).forEach(([c,u])=>{if(u.length>0){if(c==="blood_group")a=a.in("blood_group",u);else if(c==="is_blood_donor"){const h=u.map(p=>p==="Donor");a=a.in("is_blood_donor",h)}else if(c==="is_volunteer"){const h=u.map(p=>p==="Volunteer");a=a.in("is_volunteer",h)}}});const{data:n,error:l}=await a.order("created_at",{ascending:!1});if(l)throw l;return n},async searchPeople(s){if(!s)return[];const{data:a,error:n}=await oe.from("people").select("*, admins(role)").or(`full_name.ilike.%${s}%,email.ilike.%${s}%,phone.ilike.%${s}%`).limit(10);if(n)throw n;return a},async getDeletedPeople(){const{data:s,error:a}=await oe.from("deleted_people").select("*").order("deleted_at",{ascending:!1});if(a)throw a;return s},async restorePerson(s){const{deleted_at:a,deleted_by:n,...l}=s,{data:c,error:u}=await oe.from("people").insert([l]).select().single();if(u)throw u;const{error:h}=await oe.from("deleted_people").delete().eq("id",s.id);if(h)throw h;return c},async deletePerson(s){const{error:a}=await oe.from("people").delete().eq("id",s);if(a)throw a},async getCurrentUserRole(){console.log("[Model] getCurrentUserRole: Fetching role via direct query...");try{console.log("CALLED");const{data:{user:s}}=await oe.auth.getUser();if(console.log("[Model] getCurrentUserRole: User:",s),!s)return console.log("[Model] getCurrentUserRole: No authenticated user"),null;console.log("[Model] getCurrentUserRole: User ID:",s.id);const{data:a,error:n}=await oe.from("admins").select("role").eq("user_id",s.id).maybeSingle();if(n)return console.error("[Model] getCurrentUserRole: Query error:",n),null;const l=a?.role||null;return console.log("[Model] getCurrentUserRole: Result:",l||"No role found"),l}catch(s){return console.error("[Model] getCurrentUserRole: Exception:",s),null}},async getCurrentUserRoleByID(s){console.log("[Model] getCurrentUserRoleByID: Fetching role via direct query...");try{const{data:a,error:n}=await oe.from("admins").select("role").eq("user_id",s).maybeSingle();if(n)return console.error("[Model] getCurrentUserRoleByID: Query error:",n),null;const l=a?.role||null;return console.log("[Model] getCurrentUserRoleByID: Result:",l||"No role found"),l}catch(a){return console.error("[Model] getCurrentUserRoleByID: Exception:",a),null}},async promoteToAdmin(s,a){const{error:n}=await oe.rpc("promote_to_admin",{target_person_id:s,target_role:a});if(n)throw n}},$2={user:null,role:null,loading:!1,error:null,initialized:!1},lo=ih("auth/initAuthUser",async s=>{const a=await xt.getCurrentUserRoleByID(s.id);return{user:s,role:a}}),mx=To({name:"auth",initialState:$2,reducers:{setAuth:(s,a)=>{s.user=a.payload.user,s.role=a.payload.role,s.error=null,s.initialized=!0},clearAuth:s=>{s.user=null,s.role=null,s.error=null,s.initialized=!0},setLoading:(s,a)=>{s.loading=a.payload},setError:(s,a)=>{s.error=a.payload}},extraReducers:s=>{s.addCase(lo.pending,a=>{a.loading=!0}).addCase(lo.fulfilled,(a,n)=>{a.user=n.payload.user,a.role=n.payload.role,a.loading=!1,a.error=null,a.initialized=!0}).addCase(lo.rejected,(a,n)=>{a.loading=!1,a.error=n.error.message??"Auth initialization failed",a.initialized=!0})}}),{setAuth:q2,clearAuth:H2,setLoading:wg,setError:P2}=mx.actions,V2=mx.reducer,G2={persons:[],deletedPersons:[],editingPerson:null,personLastFetched:null,loading:!1,openEditModal:!1,error:null,initialized:!1},K2=300*1e3,xs=ih("people/fetchPeople",async(s,{getState:a,rejectWithValue:n})=>{const l=a(),c=l.people,u=l.filters.activeFilters,h=Date.now(),p=Object.values(u).some(m=>m.length>0);if(!s?.force&&!p&&c.personLastFetched&&h-c.personLastFetched<K2)return n("CACHE_VALID");try{const[m,g]=await Promise.all([xt.getAllPeople(u),xt.getDeletedPeople()]);return{persons:m,deletedPersons:g}}catch(m){return n(m.message||"Failed to fetch people")}}),px=To({name:"people",initialState:G2,reducers:{setPersons:(s,a)=>{s.persons=a.payload.persons,s.error=null,s.initialized=!0},clearPersons:s=>{s.persons=[],s.error=null,s.initialized=!0},setDeletedPersons:(s,a)=>{s.deletedPersons=a.payload.deletedPersons,s.error=null,s.initialized=!0},clearDeletedPersons:s=>{s.deletedPersons=[],s.error=null,s.initialized=!0},setLoading:(s,a)=>{s.loading=a.payload},setError:(s,a)=>{s.error=a.payload},setOpenEditModal:(s,a)=>{s.openEditModal=a.payload},setEditingPerson:(s,a)=>{s.editingPerson=a.payload}},extraReducers:s=>{s.addCase(xs.pending,a=>{a.loading=!0,a.error=null}).addCase(xs.fulfilled,(a,n)=>{a.persons=n.payload.persons,a.deletedPersons=n.payload.deletedPersons,a.loading=!1,a.error=null,a.initialized=!0,a.personLastFetched=Date.now()}).addCase(xs.rejected,(a,n)=>{a.loading=!1,n.payload!=="CACHE_VALID"&&(a.error=n.payload||n.error.message||"People fetch failed"),a.initialized=!0})}}),{setPersons:E5,clearPersons:T5,setLoading:A5,setError:C5,setOpenEditModal:gx,setDeletedPersons:R5,clearDeletedPersons:O5,setEditingPerson:I2}=px.actions,Y2=px.reducer,fa={async getAllEvents(s){let a=oe.from("events").select("*");if(s?.type){const c=Array.isArray(s.type)?s.type:[s.type];if(c.length>0){const u=c.map(h=>h.toLowerCase().replace(" ","_"));a=a.in("type",u)}}if(s?.status){const c=Array.isArray(s.status)?s.status:[s.status];c.length>0&&(a=a.in("status",c.map(u=>u.toLowerCase())))}s?.dateRange==="upcoming"?a=a.gte("start_time",new Date().toISOString()):s?.dateRange==="past"&&(a=a.lt("start_time",new Date().toISOString())),s?.search&&(a=a.ilike("title",`%${s.search}%`));const{data:n,error:l}=await a.order("start_time",{ascending:!1});if(l)throw l;return n},async getUpcomingEvents(){const{data:s,error:a}=await oe.from("events").select("*").neq("status","cancelled").neq("status","draft").gte("start_time",new Date().toISOString()).order("start_time",{ascending:!0});if(a)throw a;return s},async getEventById(s){const{data:a,error:n}=await oe.from("events").select("*").eq("id",s).single();if(n)throw n;return a},async createEvent(s){const{data:a,error:n}=await oe.from("events").insert([s]).select().single();if(n)throw n;return a},async updateEvent(s,a){const{data:n,error:l}=await oe.from("events").update(a).eq("id",s).select().single();if(l)throw l;return n},async deleteEvent(s){const{error:a}=await oe.from("events").delete().eq("id",s);if(a)throw a},async getEventParticipants(s){const{data:a,error:n}=await oe.from("event_participants").select(`
                event_id,
                person_id,
                role,
                status,
                person:people(id, full_name, phone, email)
            `).eq("event_id",s);if(n)throw n;return a},async registerForEvent(s,a,n="attendee"){const{data:l,error:c}=await oe.from("event_participants").insert([{event_id:s,person_id:a,role:n,status:"registered"}]).select();if(c)throw c;return l},async updateParticipantStatus(s,a,n){const{data:l,error:c}=await oe.from("event_participants").update({status:n}).eq("event_id",s).eq("person_id",a).select();if(c)throw c;return l}},_g={events:[],filters:{dateRange:"upcoming"},loading:!1,error:null,eventsLastFetched:null,editingEvent:null,openEditModal:!1,initialized:!1},J2=300*1e3,Qr=ih("events/fetchEvents",async(s,{getState:a,rejectWithValue:n})=>{const l=a(),c=l.events,u=l.filters.activeFilters,h=Date.now(),p=Object.values(u).some(m=>m.length>0);if(!s?.force&&!p&&c.eventsLastFetched&&h-c.eventsLastFetched<J2)return n("CACHE_VALID");try{const m={...c.filters,...u};return await fa.getAllEvents(m)}catch(m){return n(m.message||"Failed to fetch events")}}),xx=To({name:"events",initialState:_g,reducers:{setFilters:(s,a)=>{s.filters=a.payload,s.eventsLastFetched=null},clearFilters:s=>{s.filters=_g.filters,s.eventsLastFetched=null},setLoading:(s,a)=>{s.loading=a.payload},setError:(s,a)=>{s.error=a.payload},setEditingEvent:(s,a)=>{s.editingEvent=a.payload},setOpenEditModal:(s,a)=>{s.openEditModal=a.payload}},extraReducers:s=>{s.addCase(Qr.pending,a=>{a.loading=!0,a.error=null}).addCase(Qr.fulfilled,(a,n)=>{a.events=n.payload,a.loading=!1,a.error=null,a.initialized=!0,a.eventsLastFetched=Date.now()}).addCase(Qr.rejected,(a,n)=>{a.loading=!1,n.payload!=="CACHE_VALID"&&(a.error=n.payload||n.error.message||"Events fetch failed"),a.initialized=!0})}}),{setFilters:Q2,clearFilters:X2,setLoading:D5,setError:M5,setEditingEvent:jg,setOpenEditModal:Qd}=xx.actions,F2=xx.reducer,Z2={activeFilters:{}},bx=To({name:"filters",initialState:Z2,reducers:{setFilter:(s,a)=>{const{category:n,value:l}=a.payload,c=s.activeFilters[n]||[],u=c.includes(l)?c.filter(h=>h!==l):[...c,l];s.activeFilters={...s.activeFilters,[n]:u}},clearFilters:s=>{s.activeFilters={}},resetFiltersForPage:s=>{s.activeFilters={}}}}),{setFilter:W2,clearFilters:ej,resetFiltersForPage:U5}=bx.actions,tj=bx.reducer,aj=$w({reducer:{auth:V2,people:Y2,events:F2,filters:tj}}),tn=()=>lw(),Qe=zg;var kg="popstate";function sj(s={}){function a(c,u){let{pathname:h="/",search:p="",hash:m=""}=Zs(c.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Xd("",{pathname:h,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(c,u){let h=c.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let m=c.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof u=="string"?u:vl(u))}function l(c,u){Ht(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return nj(a,n,l,s)}function Ue(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Ht(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function rj(){return Math.random().toString(36).substring(2,10)}function Ng(s,a){return{usr:s.state,key:s.key,idx:a}}function Xd(s,a,n=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Zs(a):a,state:n,key:a&&a.key||l||rj()}}function vl({pathname:s="/",search:a="",hash:n=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Zs(s){let a={};if(s){let n=s.indexOf("#");n>=0&&(a.hash=s.substring(n),s=s.substring(0,n));let l=s.indexOf("?");l>=0&&(a.search=s.substring(l),s=s.substring(0,l)),s&&(a.pathname=s)}return a}function nj(s,a,n,l={}){let{window:c=document.defaultView,v5Compat:u=!1}=l,h=c.history,p="POP",m=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function y(){p="POP";let j=b(),_=j==null?null:j-g;g=j,m&&m({action:p,location:T.location,delta:_})}function w(j,_){p="PUSH";let O=Xd(T.location,j,_);n&&n(O,j),g=b()+1;let D=Ng(O,g),V=T.createHref(O);try{h.pushState(D,"",V)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;c.location.assign(V)}u&&m&&m({action:p,location:T.location,delta:1})}function k(j,_){p="REPLACE";let O=Xd(T.location,j,_);n&&n(O,j),g=b();let D=Ng(O,g),V=T.createHref(O);h.replaceState(D,"",V),u&&m&&m({action:p,location:T.location,delta:0})}function S(j){return lj(j)}let T={get action(){return p},get location(){return s(c,h)},listen(j){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(kg,y),m=j,()=>{c.removeEventListener(kg,y),m=null}},createHref(j){return a(c,j)},createURL:S,encodeLocation(j){let _=S(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:k,go(j){return h.go(j)}};return T}function lj(s,a=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:vl(s);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=n+l),new URL(l,n)}function vx(s,a,n="/"){return ij(s,a,n,!1)}function ij(s,a,n,l){let c=typeof a=="string"?Zs(a):a,u=qa(c.pathname||"/",n);if(u==null)return null;let h=yx(s);oj(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=vj(u);p=xj(h[m],g,l)}return p}function yx(s,a=[],n=[],l="",c=!1){let u=(h,p,m=c,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(l)&&m)return;Ue(b.relativePath.startsWith(l),`Absolute route path "${b.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(l.length)}let y=Ba([l,b.relativePath]),w=n.concat(b);h.children&&h.children.length>0&&(Ue(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yx(h.children,a,w,y,m)),!(h.path==null&&!h.index)&&a.push({path:y,score:pj(y,h.index),routesMeta:w})};return s.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let m of wx(h.path))u(h,p,!0,m)}),a}function wx(s){let a=s.split("/");if(a.length===0)return[];let[n,...l]=a,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let h=wx(l.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),c&&p.push(...h),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function oj(s){s.sort((a,n)=>a.score!==n.score?n.score-a.score:gj(a.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}var cj=/^:[\w-]+$/,uj=3,dj=2,hj=1,fj=10,mj=-2,Sg=s=>s==="*";function pj(s,a){let n=s.split("/"),l=n.length;return n.some(Sg)&&(l+=mj),a&&(l+=dj),n.filter(c=>!Sg(c)).reduce((c,u)=>c+(cj.test(u)?uj:u===""?hj:fj),l)}function gj(s,a){return s.length===a.length&&s.slice(0,-1).every((l,c)=>l===a[c])?s[s.length-1]-a[a.length-1]:0}function xj(s,a,n=!1){let{routesMeta:l}=s,c={},u="/",h=[];for(let p=0;p<l.length;++p){let m=l[p],g=p===l.length-1,b=u==="/"?a:a.slice(u.length)||"/",y=vo({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},b),w=m.route;if(!y&&g&&n&&!l[l.length-1].route.index&&(y=vo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!y)return null;Object.assign(c,y.params),h.push({params:c,pathname:Ba([u,y.pathname]),pathnameBase:jj(Ba([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=Ba([u,y.pathnameBase]))}return h}function vo(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,l]=bj(s.path,s.caseSensitive,s.end),c=a.match(n);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:l.reduce((g,{paramName:b,isOptional:y},w)=>{if(b==="*"){let S=p[w]||"";h=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const k=p[w];return y&&!k?g[b]=void 0:g[b]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:s}}function bj(s,a=!1,n=!0){Ht(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(l.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function vj(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ht(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function qa(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,l=s.charAt(n);return l&&l!=="/"?null:s.slice(n)||"/"}var _x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yj=s=>_x.test(s);function wj(s,a="/"){let{pathname:n,search:l="",hash:c=""}=typeof s=="string"?Zs(s):s,u;if(n)if(yj(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Ht(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Eg(n.substring(1),"/"):u=Eg(n,a)}else u=a;return{pathname:u,search:kj(l),hash:Nj(c)}}function Eg(s,a){let n=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function yd(s,a,n,l){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _j(s){return s.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function fh(s){let a=_j(s);return a.map((n,l)=>l===a.length-1?n.pathname:n.pathnameBase)}function mh(s,a,n,l=!1){let c;typeof s=="string"?c=Zs(s):(c={...s},Ue(!c.pathname||!c.pathname.includes("?"),yd("?","pathname","search",c)),Ue(!c.pathname||!c.pathname.includes("#"),yd("#","pathname","hash",c)),Ue(!c.search||!c.search.includes("#"),yd("#","search","hash",c)));let u=s===""||c.pathname==="",h=u?"/":c.pathname,p;if(h==null)p=n;else{let y=a.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),y-=1;c.pathname=w.join("/")}p=y>=0?a[y]:"/"}let m=wj(c,p),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||b)&&(m.pathname+="/"),m}var Ba=s=>s.join("/").replace(/\/\/+/g,"/"),jj=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),kj=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Nj=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Sj=class{constructor(s,a,n,l=!1){this.status=s,this.statusText=a||"",this.internal=l,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ej(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Tj(s){return s.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kx(s,a){let n=s;if(typeof n!="string"||!_x.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let l=n,c=!1;if(jx)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=qa(h.pathname,a);h.origin===u.origin&&p!=null?n=p+h.search+h.hash:c=!0}catch{Ht(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nx=["POST","PUT","PATCH","DELETE"];new Set(Nx);var Aj=["GET",...Nx];new Set(Aj);var an=N.createContext(null);an.displayName="DataRouter";var Oo=N.createContext(null);Oo.displayName="DataRouterState";var Cj=N.createContext(!1),Sx=N.createContext({isTransitioning:!1});Sx.displayName="ViewTransition";var Rj=N.createContext(new Map);Rj.displayName="Fetchers";var Oj=N.createContext(null);Oj.displayName="Await";var Pt=N.createContext(null);Pt.displayName="Navigation";var kl=N.createContext(null);kl.displayName="Location";var Wt=N.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var ph=N.createContext(null);ph.displayName="RouteError";var Ex="REACT_ROUTER_ERROR",Dj="REDIRECT",Mj="ROUTE_ERROR_RESPONSE";function Uj(s){if(s.startsWith(`${Ex}:${Dj}:{`))try{let a=JSON.parse(s.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function zj(s){if(s.startsWith(`${Ex}:${Mj}:{`))try{let a=JSON.parse(s.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Sj(a.status,a.statusText,a.data)}catch{}}function Lj(s,{relative:a}={}){Ue(sn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:l}=N.useContext(Pt),{hash:c,pathname:u,search:h}=Nl(s,{relative:a}),p=u;return n!=="/"&&(p=u==="/"?n:Ba([n,u])),l.createHref({pathname:p,search:h,hash:c})}function sn(){return N.useContext(kl)!=null}function ga(){return Ue(sn(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(kl).location}var Tx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ax(s){N.useContext(Pt).static||N.useLayoutEffect(s)}function Pa(){let{isDataRoute:s}=N.useContext(Wt);return s?Zj():Bj()}function Bj(){Ue(sn(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(an),{basename:a,navigator:n}=N.useContext(Pt),{matches:l}=N.useContext(Wt),{pathname:c}=ga(),u=JSON.stringify(fh(l)),h=N.useRef(!1);return Ax(()=>{h.current=!0}),N.useCallback((m,g={})=>{if(Ht(h.current,Tx),!h.current)return;if(typeof m=="number"){n.go(m);return}let b=mh(m,JSON.parse(u),c,g.relative==="path");s==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:Ba([a,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[a,n,u,c,s])}var $j=N.createContext(null);function qj(s){let a=N.useContext(Wt).outlet;return N.useMemo(()=>a&&N.createElement($j.Provider,{value:s},a),[a,s])}function Cx(){let{matches:s}=N.useContext(Wt),a=s[s.length-1];return a?a.params:{}}function Nl(s,{relative:a}={}){let{matches:n}=N.useContext(Wt),{pathname:l}=ga(),c=JSON.stringify(fh(n));return N.useMemo(()=>mh(s,JSON.parse(c),l,a==="path"),[s,c,l,a])}function Hj(s,a){return Rx(s,a)}function Rx(s,a,n,l,c){Ue(sn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(Pt),{matches:h}=N.useContext(Wt),p=h[h.length-1],m=p?p.params:{},g=p?p.pathname:"/",b=p?p.pathnameBase:"/",y=p&&p.route;{let O=y&&y.path||"";Dx(g,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let w=ga(),k;if(a){let O=typeof a=="string"?Zs(a):a;Ue(b==="/"||O.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${O.pathname}" was given in the \`location\` prop.`),k=O}else k=w;let S=k.pathname||"/",T=S;if(b!=="/"){let O=b.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let j=vx(s,{pathname:T});Ht(y||j!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ht(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Ij(j&&j.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Ba([b,u.encodeLocation?u.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?b:Ba([b,u.encodeLocation?u.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),h,n,l,c);return a&&_?N.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},_):_}function Pj(){let s=Fj(),a=Ej(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},a),n?N.createElement("pre",{style:c},n):null,h)}var Vj=N.createElement(Pj,null),Ox=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){this.props.onError?this.props.onError(s,a):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=zj(s.digest);n&&(s=n)}let a=s!==void 0?N.createElement(Wt.Provider,{value:this.props.routeContext},N.createElement(ph.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?N.createElement(Gj,{error:s},a):a}};Ox.contextType=Cj;var wd=new WeakMap;function Gj({children:s,error:a}){let{basename:n}=N.useContext(Pt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=Uj(a.digest);if(l){let c=wd.get(a);if(c)throw c;let u=kx(l.location,n);if(jx&&!wd.get(a))if(u.isExternal||l.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:l.replace}));throw wd.set(a,h),h}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Kj({routeContext:s,match:a,children:n}){let l=N.useContext(an);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),N.createElement(Wt.Provider,{value:s},n)}function Ij(s,a=[],n=null,l=null,c=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(a.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let b=u.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);Ue(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,m=-1;if(n)for(let b=0;b<u.length;b++){let y=u[b];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=b),y.route.id){let{loaderData:w,errors:k}=n,S=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!k||k[y.route.id]===void 0);if(y.route.lazy||S){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let g=n&&l?(b,y)=>{l(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Tj(n.matches),errorInfo:y})}:void 0;return u.reduceRight((b,y,w)=>{let k,S=!1,T=null,j=null;n&&(k=h&&y.route.id?h[y.route.id]:void 0,T=y.route.errorElement||Vj,p&&(m<0&&w===0?(Dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):m===w&&(S=!0,j=y.route.hydrateFallbackElement||null)));let _=a.concat(u.slice(0,w+1)),O=()=>{let D;return k?D=T:S?D=j:y.route.Component?D=N.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=b,N.createElement(Kj,{match:y,routeContext:{outlet:b,matches:_,isDataRoute:n!=null},children:D})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?N.createElement(Ox,{location:n.location,revalidation:n.revalidation,component:T,error:k,children:O(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:g}):O()},null)}function gh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yj(s){let a=N.useContext(an);return Ue(a,gh(s)),a}function Jj(s){let a=N.useContext(Oo);return Ue(a,gh(s)),a}function Qj(s){let a=N.useContext(Wt);return Ue(a,gh(s)),a}function xh(s){let a=Qj(s),n=a.matches[a.matches.length-1];return Ue(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Xj(){return xh("useRouteId")}function Fj(){let s=N.useContext(ph),a=Jj("useRouteError"),n=xh("useRouteError");return s!==void 0?s:a.errors?.[n]}function Zj(){let{router:s}=Yj("useNavigate"),a=xh("useNavigate"),n=N.useRef(!1);return Ax(()=>{n.current=!0}),N.useCallback(async(c,u={})=>{Ht(n.current,Tx),n.current&&(typeof c=="number"?await s.navigate(c):await s.navigate(c,{fromRouteId:a,...u}))},[s,a])}var Tg={};function Dx(s,a,n){!a&&!Tg[s]&&(Tg[s]=!0,Ht(!1,n))}N.memo(Wj);function Wj({routes:s,future:a,state:n,onError:l}){return Rx(s,void 0,n,l,a)}function ek({to:s,replace:a,state:n,relative:l}){Ue(sn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=N.useContext(Pt);Ht(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Wt),{pathname:h}=ga(),p=Pa(),m=mh(s,fh(u),h,l==="path"),g=JSON.stringify(m);return N.useEffect(()=>{p(JSON.parse(g),{replace:a,state:n,relative:l})},[p,g,l,a,n]),null}function Mx(s){return qj(s.context)}function ht(s){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tk({basename:s="/",children:a=null,location:n,navigationType:l="POP",navigator:c,static:u=!1,unstable_useTransitions:h}){Ue(!sn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:p,navigator:c,static:u,unstable_useTransitions:h,future:{}}),[p,c,u,h]);typeof n=="string"&&(n=Zs(n));let{pathname:g="/",search:b="",hash:y="",state:w=null,key:k="default"}=n,S=N.useMemo(()=>{let T=qa(g,p);return T==null?null:{location:{pathname:T,search:b,hash:y,state:w,key:k},navigationType:l}},[p,g,b,y,w,k,l]);return Ht(S!=null,`<Router basename="${p}"> is not able to match the URL "${g}${b}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(Pt.Provider,{value:m},N.createElement(kl.Provider,{children:a,value:S}))}function ak({children:s,location:a}){return Hj(Fd(s),a)}function Fd(s,a=[]){let n=[];return N.Children.forEach(s,(l,c)=>{if(!N.isValidElement(l))return;let u=[...a,c];if(l.type===N.Fragment){n.push.apply(n,Fd(l.props.children,u));return}Ue(l.type===ht,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Fd(l.props.children,u)),n.push(h)}),n}var io="get",oo="application/x-www-form-urlencoded";function Do(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function sk(s){return Do(s)&&s.tagName.toLowerCase()==="button"}function rk(s){return Do(s)&&s.tagName.toLowerCase()==="form"}function nk(s){return Do(s)&&s.tagName.toLowerCase()==="input"}function lk(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ik(s,a){return s.button===0&&(!a||a==="_self")&&!lk(s)}var Wi=null;function ok(){if(Wi===null)try{new FormData(document.createElement("form"),0),Wi=!1}catch{Wi=!0}return Wi}var ck=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _d(s){return s!=null&&!ck.has(s)?(Ht(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oo}"`),null):s}function uk(s,a){let n,l,c,u,h;if(rk(s)){let p=s.getAttribute("action");l=p?qa(p,a):null,n=s.getAttribute("method")||io,c=_d(s.getAttribute("enctype"))||oo,u=new FormData(s)}else if(sk(s)||nk(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(l=m?qa(m,a):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||io,c=_d(s.getAttribute("formenctype"))||_d(p.getAttribute("enctype"))||oo,u=new FormData(p,s),!ok()){let{name:g,type:b,value:y}=s;if(b==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,y)}}else{if(Do(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=io,l=null,c=oo,h=s}return u&&c==="text/plain"&&(h=u,u=void 0),{action:l,method:n.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bh(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function dk(s,a,n){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l.pathname==="/"?l.pathname=`_root.${n}`:a&&qa(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${n}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${n}`,l}async function hk(s,a){if(s.id in a)return a[s.id];try{let n=await import(s.module);return a[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fk(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function mk(s,a,n){let l=await Promise.all(s.map(async c=>{let u=a.routes[c.route.id];if(u){let h=await hk(u,n);return h.links?h.links():[]}return[]}));return bk(l.flat(1).filter(fk).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Ag(s,a,n,l,c,u){let h=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return u==="assets"?a.filter((m,g)=>h(m,g)||p(m,g)):u==="data"?a.filter((m,g)=>{let b=l.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(h(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let y=m.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function pk(s,a,{includeHydrateFallback:n}={}){return gk(s.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function gk(s){return[...new Set(s)]}function xk(s){let a={},n=Object.keys(s).sort();for(let l of n)a[l]=s[l];return a}function bk(s,a){let n=new Set;return new Set(a),s.reduce((l,c)=>{let u=JSON.stringify(xk(c));return n.has(u)||(n.add(u),l.push({key:u,link:c})),l},[])}function Ux(){let s=N.useContext(an);return bh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function vk(){let s=N.useContext(Oo);return bh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var vh=N.createContext(void 0);vh.displayName="FrameworkContext";function zx(){let s=N.useContext(vh);return bh(s,"You must render this element inside a <HydratedRouter> element"),s}function yk(s,a){let n=N.useContext(vh),[l,c]=N.useState(!1),[u,h]=N.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:b,onTouchStart:y}=a,w=N.useRef(null);N.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let T=_=>{_.forEach(O=>{h(O.isIntersecting)})},j=new IntersectionObserver(T,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[s]),N.useEffect(()=>{if(l){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[l]);let k=()=>{c(!0)},S=()=>{c(!1),h(!1)};return n?s!=="intent"?[u,w,{}]:[u,w,{onFocus:el(p,k),onBlur:el(m,S),onMouseEnter:el(g,k),onMouseLeave:el(b,S),onTouchStart:el(y,k)}]:[!1,w,{}]}function el(s,a){return n=>{s&&s(n),n.defaultPrevented||a(n)}}function wk({page:s,...a}){let{router:n}=Ux(),l=N.useMemo(()=>vx(n.routes,s,n.basename),[n.routes,s,n.basename]);return l?N.createElement(jk,{page:s,matches:l,...a}):null}function _k(s){let{manifest:a,routeModules:n}=zx(),[l,c]=N.useState([]);return N.useEffect(()=>{let u=!1;return mk(s,a,n).then(h=>{u||c(h)}),()=>{u=!0}},[s,a,n]),l}function jk({page:s,matches:a,...n}){let l=ga(),{manifest:c,routeModules:u}=zx(),{basename:h}=Ux(),{loaderData:p,matches:m}=vk(),g=N.useMemo(()=>Ag(s,a,m,c,l,"data"),[s,a,m,c,l]),b=N.useMemo(()=>Ag(s,a,m,c,l,"assets"),[s,a,m,c,l]),y=N.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let S=new Set,T=!1;if(a.forEach(_=>{let O=c.routes[_.route.id];!O||!O.hasLoader||(!g.some(D=>D.route.id===_.route.id)&&_.route.id in p&&u[_.route.id]?.shouldRevalidate||O.hasClientLoader?T=!0:S.add(_.route.id))}),S.size===0)return[];let j=dk(s,h,"data");return T&&S.size>0&&j.searchParams.set("_routes",a.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[j.pathname+j.search]},[h,p,l,c,g,a,s,u]),w=N.useMemo(()=>pk(b,c),[b,c]),k=_k(b);return N.createElement(N.Fragment,null,y.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),k.map(({key:S,link:T})=>N.createElement("link",{key:S,nonce:n.nonce,...T})))}function kk(...s){return a=>{s.forEach(n=>{typeof n=="function"?n(a):n!=null&&(n.current=a)})}}var Nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nk&&(window.__reactRouterVersion="7.11.0")}catch{}function Sk({basename:s,children:a,unstable_useTransitions:n,window:l}){let c=N.useRef();c.current==null&&(c.current=sj({window:l,v5Compat:!0}));let u=c.current,[h,p]=N.useState({action:u.action,location:u.location}),m=N.useCallback(g=>{n===!1?p(g):N.startTransition(()=>p(g))},[n]);return N.useLayoutEffect(()=>u.listen(m),[u,m]),N.createElement(tk,{basename:s,children:a,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sl=N.forwardRef(function({onClick:a,discover:n="render",prefetch:l="none",relative:c,reloadDocument:u,replace:h,state:p,target:m,to:g,preventScrollReset:b,viewTransition:y,unstable_defaultShouldRevalidate:w,...k},S){let{basename:T,unstable_useTransitions:j}=N.useContext(Pt),_=typeof g=="string"&&Lx.test(g),O=kx(g,T);g=O.to;let D=Lj(g,{relative:c}),[V,G,Q]=yk(l,k),K=Ck(g,{replace:h,state:p,target:m,preventScrollReset:b,relative:c,viewTransition:y,unstable_defaultShouldRevalidate:w,unstable_useTransitions:j});function F(me){a&&a(me),me.defaultPrevented||K(me)}let he=N.createElement("a",{...k,...Q,href:O.absoluteURL||D,onClick:O.isExternal||u?a:F,ref:kk(S,G),target:m,"data-discover":!_&&n==="render"?"true":void 0});return V&&!_?N.createElement(N.Fragment,null,he,N.createElement(wk,{page:D})):he});Sl.displayName="Link";var Ek=N.forwardRef(function({"aria-current":a="page",caseSensitive:n=!1,className:l="",end:c=!1,style:u,to:h,viewTransition:p,children:m,...g},b){let y=Nl(h,{relative:g.relative}),w=ga(),k=N.useContext(Oo),{navigator:S,basename:T}=N.useContext(Pt),j=k!=null&&Uk(y)&&p===!0,_=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=w.pathname,D=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(O=O.toLowerCase(),D=D?D.toLowerCase():null,_=_.toLowerCase()),D&&T&&(D=qa(D,T)||D);const V=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let G=O===_||!c&&O.startsWith(_)&&O.charAt(V)==="/",Q=D!=null&&(D===_||!c&&D.startsWith(_)&&D.charAt(_.length)==="/"),K={isActive:G,isPending:Q,isTransitioning:j},F=G?a:void 0,he;typeof l=="function"?he=l(K):he=[l,G?"active":null,Q?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let me=typeof u=="function"?u(K):u;return N.createElement(Sl,{...g,"aria-current":F,className:he,ref:b,style:me,to:h,viewTransition:p},typeof m=="function"?m(K):m)});Ek.displayName="NavLink";var Tk=N.forwardRef(({discover:s="render",fetcherKey:a,navigate:n,reloadDocument:l,replace:c,state:u,method:h=io,action:p,onSubmit:m,relative:g,preventScrollReset:b,viewTransition:y,unstable_defaultShouldRevalidate:w,...k},S)=>{let{unstable_useTransitions:T}=N.useContext(Pt),j=Dk(),_=Mk(p,{relative:g}),O=h.toLowerCase()==="get"?"get":"post",D=typeof p=="string"&&Lx.test(p),V=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let Q=G.nativeEvent.submitter,K=Q?.getAttribute("formmethod")||h,F=()=>j(Q||G.currentTarget,{fetcherKey:a,method:K,navigate:n,replace:c,state:u,relative:g,preventScrollReset:b,viewTransition:y,unstable_defaultShouldRevalidate:w});T&&n!==!1?N.startTransition(()=>F()):F()};return N.createElement("form",{ref:S,method:O,action:_,onSubmit:l?m:V,...k,"data-discover":!D&&s==="render"?"true":void 0})});Tk.displayName="Form";function Ak(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(s){let a=N.useContext(an);return Ue(a,Ak(s)),a}function Ck(s,{target:a,replace:n,state:l,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let g=Pa(),b=ga(),y=Nl(s,{relative:u});return N.useCallback(w=>{if(ik(w,a)){w.preventDefault();let k=n!==void 0?n:vl(b)===vl(y),S=()=>g(s,{replace:k,state:l,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p});m?N.startTransition(()=>S()):S()}},[b,g,y,n,l,a,s,c,u,h,p,m])}var Rk=0,Ok=()=>`__${String(++Rk)}__`;function Dk(){let{router:s}=Bx("useSubmit"),{basename:a}=N.useContext(Pt),n=Xj(),l=s.fetch,c=s.navigate;return N.useCallback(async(u,h={})=>{let{action:p,method:m,encType:g,formData:b,body:y}=uk(u,a);if(h.navigate===!1){let w=h.fetcherKey||Ok();await l(w,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:y,formMethod:h.method||m,formEncType:h.encType||g,flushSync:h.flushSync})}else await c(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:y,formMethod:h.method||m,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,c,a,n])}function Mk(s,{relative:a}={}){let{basename:n}=N.useContext(Pt),l=N.useContext(Wt);Ue(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),u={...Nl(s||".",{relative:a})},h=ga();if(s==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(y=>y).forEach(y=>p.append("index",y));let b=p.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ba([n,u.pathname])),vl(u)}function Uk(s,{relative:a}={}){let n=N.useContext(Sx);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Bx("useViewTransitionState"),c=Nl(s,{relative:a});if(!n.isTransitioning)return!1;let u=qa(n.currentLocation.pathname,l)||n.currentLocation.pathname,h=qa(n.nextLocation.pathname,l)||n.nextLocation.pathname;return vo(c.pathname,h)!=null||vo(c.pathname,u)!=null}function zk(){return o.jsx(Mx,{})}const Lk=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bk=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,n,l)=>l?l.toUpperCase():n.toLowerCase()),Cg=s=>{const a=Bk(s);return a.charAt(0).toUpperCase()+a.slice(1)},$x=(...s)=>s.filter((a,n,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===n).join(" ").trim(),$k=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var qk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hk=N.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:h,...p},m)=>N.createElement("svg",{ref:m,...qk,width:a,height:a,stroke:s,strokeWidth:l?Number(n)*24/Number(a):n,className:$x("lucide",c),...!u&&!$k(p)&&{"aria-hidden":"true"},...p},[...h.map(([g,b])=>N.createElement(g,b)),...Array.isArray(u)?u:[u]]));const Y=(s,a)=>{const n=N.forwardRef(({className:l,...c},u)=>N.createElement(Hk,{ref:u,iconNode:a,className:$x(`lucide-${Lk(Cg(s))}`,`lucide-${s}`,l),...c}));return n.displayName=Cg(s),n};const Pk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xr=Y("activity",Pk);const Vk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qx=Y("arrow-left",Vk);const Gk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fs=Y("arrow-right",Gk);const Kk=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Hx=Y("arrow-up-right",Kk);const Ik=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Px=Y("banknote",Ik);const Yk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jk=Y("bell",Yk);const Qk=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Vx=Y("box",Qk);const Xk=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fk=Y("briefcase",Xk);const Zk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qt=Y("calendar",Zk);const Wk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eN=Y("chart-column",Wk);const tN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yh=Y("check",tN);const aN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sN=Y("chevron-left",aN);const rN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yl=Y("chevron-right",rN);const nN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],lN=Y("chevron-up",nN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Va=Y("circle-alert",iN);const oN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zr=Y("circle-check",oN);const cN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],uN=Y("circle-user",cN);const dN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hN=Y("circle-x",dN);const fN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mo=Y("clock",fN);const mN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pN=Y("download",mN);const gN=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],xN=Y("droplet",gN);const bN=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Gx=Y("droplets",bN);const vN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Kx=Y("ellipsis",vN);const yN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ix=Y("external-link",yN);const wN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_N=Y("eye",wN);const jN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Yx=Y("facebook",jN);const kN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Jx=Y("file-spreadsheet",kN);const NN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qx=Y("funnel",NN);const SN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],EN=Y("globe",SN);const TN=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Zd=Y("heart-handshake",TN);const AN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vs=Y("heart",AN);const CN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],RN=Y("history",CN);const ON=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xx=Y("info",ON);const DN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Fx=Y("instagram",DN);const MN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],UN=Y("key",MN);const zN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LN=Y("layout-dashboard",zN);const BN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$N=Y("link",BN);const qN=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Zx=Y("linkedin",qN);const HN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nt=Y("loader-circle",HN);const PN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],VN=Y("log-in",PN);const GN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KN=Y("log-out",GN);const IN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],El=Y("mail",IN);const YN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_s=Y("map-pin",YN);const JN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],QN=Y("message-circle",JN);const XN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Wx=Y("message-square",XN);const FN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ZN=Y("moon",FN);const WN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wh=Y("package",WN);const eS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tS=Y("pen-line",eS);const aS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eb=Y("pen",aS);const sS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Wr=Y("phone",sS);const rS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qs=Y("plus",rS);const nS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lS=Y("refresh-cw",nS);const iS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Wd=Y("rotate-ccw",iS);const oS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cS=Y("save",oS);const uS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],js=Y("search",uS);const dS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hS=Y("settings",dS);const fS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],mS=Y("share-2",fS);const pS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],tb=Y("shield-alert",pS);const gS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ab=Y("shield-check",gS);const xS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ys=Y("shield",xS);const bS=[["path",{d:"M21.56 4.56a1.5 1.5 0 0 1 0 2.122l-.47.47a3 3 0 0 1-4.212-.03 3 3 0 0 1 0-4.243l.44-.44a1.5 1.5 0 0 1 2.121 0z",key:"1gcedi"}],["path",{d:"M3 22a1 1 0 0 1-1-1v-3.586a1 1 0 0 1 .293-.707l3.355-3.355a1.205 1.205 0 0 1 1.704 0l3.296 3.296a1.205 1.205 0 0 1 0 1.704l-3.355 3.355a1 1 0 0 1-.707.293z",key:"pg9kv3"}],["path",{d:"m9 15 7.879-7.878",key:"1o1zgh"}]],vS=Y("shovel",bS);const yS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wS=Y("star",yS);const _S=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jS=Y("sun",_S);const kS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],NS=Y("tag",kS);const SS=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],ES=Y("text-align-start",SS);const TS=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],AS=Y("thumbs-up",TS);const CS=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],RS=Y("timer",CS);const OS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DS=Y("trash-2",OS);const MS=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],US=Y("truck",MS);const zS=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],_h=Y("twitter",zS);const LS=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],BS=Y("type",LS);const $S=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qS=Y("upload",$S);const HS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],en=Y("user",HS);const PS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ma=Y("users",PS);const VS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],sb=Y("utensils",VS);const GS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pa=Y("x",GS),tl={dashboard:"/admin",people:"/admin/people",volunteers:"/admin/volunteers",events:"/admin/events",analytics:"/admin/analytics",profile:"/admin/profile",settings:"/admin/settings",bulk:"/admin/bulk"};function KS({onAction:s,activeFilterCount:a=0}){const[n,l]=N.useState(!1),[c,u]=N.useState(!1),h=Pa(),p=ga(),m=Qe(w=>w.auth.role),g=Object.keys(tl).find(w=>tl[w]===p.pathname),b=[{id:"dashboard",icon:LN,label:"Home"},{id:"people",icon:ma,label:"People"},{id:"events",icon:qt,label:"Events"}],y=[{id:"volunteers",icon:Zd,label:"Volunteers"},{id:"analytics",icon:eN,label:"Analytics"},{id:"profile",icon:uN,label:"Profile"},{id:"settings",icon:hS,label:"Settings"},...m==="super_admin"?[{id:"bulk",icon:Jx,label:"Bulk"}]:[]];return N.useEffect(()=>{l(!1),u(!1)},[p.pathname]),o.jsxs(o.Fragment,{children:[(n||c)&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/20 dark:bg-black/40 backdrop-blur-sm z-40 md:hidden animate-in fade-in duration-300",onClick:()=>{l(!1),u(!1)}}),o.jsxs("div",{className:"fixed bottom-4 left-0 right-0 md:bottom-6 md:left-1/2 md:-translate-x-1/2 md:w-max z-50 flex flex-col items-center px-4 md:px-0 pointer-events-none",children:[o.jsx("div",{className:`
            transition-all duration-300 mb-3 pointer-events-auto
            ${c?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-10 scale-90 pointer-events-none"}
          `,children:o.jsxs("div",{className:"flex items-center gap-1 p-1.5 bg-slate-900/90 dark:bg-neutral-800/90 backdrop-blur-2xl rounded-[1rem] shadow-2xl border border-white/10",children:[o.jsx(jd,{icon:js,label:"Search",onClick:()=>{s?.("search"),u(!1)}}),o.jsx(jd,{icon:Qx,label:"Filter",onClick:()=>{s?.("filter"),u(!1)},children:a>0&&o.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full shadow-[0_0_8px_rgba(244,63,94,0.6)]"})}),o.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),o.jsx(jd,{icon:Qs,label:"Add",onClick:()=>{s?.("add"),u(!1)},highlight:!0})]})}),o.jsx("div",{className:`
            md:hidden absolute bottom-24 left-4 right-4 bg-white/95 dark:bg-neutral-900/95 backdrop-blur-2xl rounded-3xl shadow-2xl border border-slate-200 dark:border-neutral-800 p-2 transition-all duration-300 pointer-events-auto
            ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}
          `,children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(w=>o.jsxs("button",{onClick:()=>h(tl[w.id]),className:"flex items-center gap-3 p-4 rounded-2xl hover:bg-slate-50 dark:hover:bg-neutral-800 transition-colors text-slate-600 dark:text-slate-400 font-semibold",children:[o.jsx("div",{className:"p-2.5 bg-slate-100 dark:bg-neutral-800 rounded-xl",children:o.jsx(w.icon,{className:"w-5 h-5"})}),o.jsx("span",{className:"text-sm",children:w.label})]},w.id))})}),o.jsxs("nav",{className:"w-full md:w-auto flex items-center p-1.5 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-2xl border border-slate-200/50 dark:border-neutral-800/50 rounded-[2rem] shadow-[0_20px_50px_rgba(0,0,0,0.1)] dark:shadow-[0_20px_50px_rgba(0,0,0,0.3)] pointer-events-auto transition-all",children:[o.jsxs("div",{className:"flex items-center w-full md:w-auto justify-between md:justify-start",children:[o.jsxs("div",{className:"flex items-center justify-around w-full md:w-auto md:gap-1",children:[b.map(w=>{const k=g===w.id;return o.jsxs("button",{onClick:()=>h(tl[w.id]),className:`
                        group relative flex flex-col md:flex-row items-center gap-1 px-3 md:px-5 py-2 rounded-2xl md:rounded-full transition-all duration-300
                        ${k?"text-rose-500 md:bg-rose-500 md:text-white shadow-rose-500/10 shadow-lg":"text-slate-400 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white"}
                    `,children:[o.jsx(w.icon,{className:"w-6 h-6 md:w-4 md:h-4"}),o.jsx("span",{className:"text-[9px] md:text-xs font-bold uppercase tracking-tight md:normal-case md:font-medium md:tracking-normal",children:w.label})]},w.id)}),y.map(w=>{const k=g===w.id;return o.jsxs("button",{onClick:()=>h(tl[w.id]),className:`
                        hidden md:flex flex-row items-center gap-2 px-5 py-2 rounded-full transition-all duration-300
                        ${k?"bg-rose-500 text-white shadow-lg":"text-slate-400 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white"}
                    `,children:[o.jsx(w.icon,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:w.label})]},w.id)})]}),o.jsxs("div",{className:"flex items-center md:hidden pr-1",children:[o.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-neutral-800 mx-1"}),o.jsxs("button",{onClick:()=>{u(!c),l(!1)},className:`
                    flex flex-col items-center gap-1 px-3 py-2 rounded-2xl transition-all
                    ${c?"text-rose-500":"text-slate-400"}
                `,children:[o.jsx("div",{className:`p-1.5 rounded-full transition-all duration-500 ${c?"bg-rose-500 text-white rotate-45 scale-110":"bg-slate-100 dark:bg-neutral-800"}`,children:o.jsx(Qs,{className:"w-6 h-6"})}),o.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tight",children:"Add"})]}),o.jsxs("button",{onClick:()=>{l(!n),u(!1)},className:`
                    flex flex-col items-center gap-1 px-3 py-2 rounded-2xl transition-all
                    ${n?"text-rose-500":"text-slate-400"}
                `,children:[o.jsx(Kx,{className:`w-6 h-6 transition-transform ${n?"rotate-90":""}`}),o.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tight",children:"More"})]})]})]}),o.jsxs("div",{className:"hidden md:flex items-center",children:[o.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-neutral-800 mx-2"}),o.jsxs("button",{onClick:()=>u(!c),className:`
                flex items-center gap-2 px-4 py-2.5 rounded-full transition-all duration-300 font-bold text-[10px] uppercase tracking-wider
                ${c?"bg-slate-900 text-white dark:bg-white dark:text-black shadow-lg shadow-black/10":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-neutral-800"}
              `,children:[c?o.jsx(pa,{className:"w-3.5 h-3.5"}):o.jsx(lN,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Actions"})]})]})]})]})]})}function jd({icon:s,label:a,onClick:n,highlight:l,children:c}){return o.jsxs("button",{onClick:n,className:`
        group relative flex flex-col items-center gap-1 p-3 rounded-xl transition-all duration-300
        ${l?"bg-rose-500 text-white hover:bg-rose-600 shadow-lg shadow-rose-500/20":"text-white/70 hover:text-white hover:bg-white/10"}
      `,children:[o.jsx(s,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),o.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-0 group-hover:opacity-100 absolute -top-8 bg-slate-900 dark:bg-white text-white dark:text-black px-2 py-1 rounded pointer-events-none transition-all",children:a}),c]})}function IS({isOpen:s,onClose:a}){const[n,l]=N.useState(""),[c,u]=N.useState([]),[h,p]=N.useState([]),[m,g]=N.useState(!1),b=Pa(),y=N.useRef(null),[w,k]=N.useState(0);if(N.useEffect(()=>{const j=setTimeout(async()=>{if(!n.trim()){u([]),p([]);return}g(!0);try{const[_,O]=await Promise.all([xt.searchPeople(n),fa.getAllEvents({search:n})]);u(_),p(O)}catch(_){console.error("Search failed:",_)}finally{g(!1)}},300);return()=>clearTimeout(j)},[n]),N.useEffect(()=>{s?setTimeout(()=>y.current?.focus(),100):l("")},[s]),N.useEffect(()=>{const j=_=>{_.key==="Escape"&&a(),(_.metaKey||_.ctrlKey)&&_.key==="k"&&(_.preventDefault(),s&&a())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[s,a]),!s)return null;const T=[...c.map(j=>({type:j.admins?j.admins.role==="super_admin"?"Super Admin":j.admins.role==="admin"?"Admin":"Volunteer":"Person",title:j.full_name,subtitle:`${j.phone||""}  ${j.blood_group||""}`,icon:en,link:`/admin/people/${j.id}`})),...h.map(j=>({type:"Event",title:j.title,subtitle:`${new Date(j.start_time).toLocaleDateString()}  ${j.location_name||""}`,icon:qt,link:`/admin/events/${j.id}`}))];return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-6",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/20 dark:bg-black/40 backdrop-blur-sm transition-opacity duration-300 animate-in fade-in",onClick:a}),o.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh] animate-in slide-in-from-bottom-8 duration-300 ease-out border border-slate-200 dark:border-neutral-800",children:[o.jsxs("div",{className:"flex items-center px-4 py-4 border-b border-slate-100 dark:border-neutral-800",children:[o.jsx(js,{className:"w-5 h-5 text-slate-400 ml-2"}),o.jsx("input",{ref:y,type:"text",value:n,onChange:j=>l(j.target.value),placeholder:"Search community registry & events...",className:"flex-1 px-4 py-2 bg-transparent border-none focus:outline-none text-lg text-slate-900 dark:text-white placeholder:text-slate-400 font-bold"}),m&&o.jsx(Nt,{className:"w-4 h-4 text-rose-500 animate-spin mr-2"}),o.jsx("div",{className:"hidden sm:flex items-center gap-2 mr-2",children:o.jsxs("kbd",{className:"hidden sm:inline-flex h-6 items-center gap-1 rounded border border-slate-200 dark:border-neutral-700 bg-slate-50 dark:bg-neutral-800 px-2 font-mono text-[10px] font-medium text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-xs",children:""}),"K"]})}),o.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:o.jsx(pa,{className:"w-5 h-5 text-slate-500"})})]}),o.jsx("div",{className:"overflow-y-auto p-2 min-h-[200px]",children:T.length>0?o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"px-3 py-2 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:n?"Intelligent Search Results":"Recent Directory Entries"}),T.map((j,_)=>o.jsxs("button",{className:`w-full flex items-center gap-4 px-3 py-3 rounded-xl text-left transition-colors group
                    ${_===w?"bg-slate-50 dark:bg-neutral-800":"hover:bg-slate-50 dark:hover:bg-neutral-800"}
                  `,onMouseEnter:()=>k(_),onClick:()=>{b(j.link),a()},children:[o.jsx("div",{className:`p-2.5 rounded-xl transition-all ${_===w?"bg-rose-500 text-white shadow-lg rotate-3":"bg-slate-100 dark:bg-neutral-800 text-slate-400"}`,children:o.jsx(j.icon,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"text-sm font-black text-slate-900 dark:text-white flex items-center gap-2 tracking-tight",children:[j.title,o.jsx("span",{className:`px-1.5 py-0.5 rounded text-[8px] font-black uppercase tracking-tighter ${j.type==="Event"?"bg-blue-500 text-white":"bg-rose-500 text-white"}`,children:j.type})]}),o.jsx("p",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 mt-0.5 uppercase tracking-tight",children:j.subtitle})]}),o.jsx(yl,{className:`w-4 h-4 text-rose-500 transition-transform ${_===w?"translate-x-0 opacity-100":"-translate-x-2 opacity-0"}`})]},_))]}):o.jsxs("div",{className:"py-20 text-center space-y-3",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-50 dark:bg-neutral-800 rounded-2xl flex items-center justify-center",children:o.jsx(js,{className:"w-6 h-6 text-slate-300"})}),o.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:n?`Zero matches for "${n}"`:"Global Registry Search"})]})}),o.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-neutral-900/50 border-t border-slate-100 dark:border-neutral-800 flex items-center justify-between text-xs text-slate-500",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{children:[o.jsx("strong",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Enter"})," ","to select"]}),o.jsxs("span",{children:[o.jsx("strong",{className:"font-medium text-slate-700 dark:text-slate-300",children:""})," ","to navigate"]}),o.jsxs("span",{children:[o.jsx("strong",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Esc"})," ","to close"]})]})})]})]})}const Rg={full_name:"",first_name:"",middle_name:"",last_name:"",email:"",phone:"",address_line:"",locality_area:"",blood_group:"",is_blood_donor:!1,last_donation_date:"",is_volunteer:!1,skills:[],marital_status:"",children_count:0},YS=["A+","A-","B+","B-","AB+","AB-","O+","O-"],JS=[{value:"single",label:"Single"},{value:"married",label:"Married"},{value:"divorced",label:"Divorced"},{value:"widowed",label:"Widowed"},{value:"separated",label:"Separated"}],QS=["First Aid","Driving","Cooking","Teaching","Medical","Administration","IT Support"];function rb({isOpen:s,onClose:a,editData:n,onSuccess:l}){const[c,u]=N.useState(Rg),[h,p]=N.useState(!1),[m,g]=N.useState(null),[b,y]=N.useState(""),w=!!n?.id;N.useEffect(()=>{u(n?{full_name:n.full_name||"",first_name:n.first_name||"",middle_name:n.middle_name||"",last_name:n.last_name||"",email:n.email||"",phone:n.phone||"",address_line:n.address_line||"",locality_area:n.locality_area||"",blood_group:n.blood_group||"",is_blood_donor:n.is_blood_donor||!1,last_donation_date:n.last_donation_date||"",is_volunteer:n.is_volunteer||!1,skills:n.skills||[],marital_status:n.marital_status||"",children_count:n.children_count||0}:Rg),g(null)},[n,s]),N.useEffect(()=>{const _=[c.first_name,c.middle_name,c.last_name].filter(Boolean);_.length>0&&u(O=>({...O,full_name:_.join(" ")}))},[c.first_name,c.middle_name,c.last_name]);const k=async _=>{_.preventDefault(),p(!0),g(null);try{if(!c.full_name.trim())throw new Error("Full name is required");const O={full_name:c.full_name.trim(),first_name:c.first_name.trim()||void 0,middle_name:c.middle_name.trim()||void 0,last_name:c.last_name.trim()||void 0,email:c.email.trim()||void 0,phone:c.phone.trim()||void 0,address_line:c.address_line.trim()||void 0,locality_area:c.locality_area.trim()||void 0,blood_group:c.blood_group||void 0,is_blood_donor:c.is_blood_donor,last_donation_date:c.last_donation_date||void 0,is_volunteer:c.is_volunteer,skills:c.skills.length>0?c.skills:void 0,marital_status:c.marital_status||void 0,children_count:c.children_count>0?c.children_count:void 0};w&&n?.id?await xt.updateProfile(n.id,O):await xt.createPerson(O),l?.(),a()}catch(O){g(O.message||"Something went wrong")}finally{p(!1)}},S=_=>{const O=_.trim();O&&!c.skills.includes(O)&&u(D=>({...D,skills:[...D.skills,O]})),y("")},T=_=>{u(O=>({...O,skills:O.skills.filter(D=>D!==_)}))},j=(_,O)=>{u(D=>({...D,[_]:O}))};return s?o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/40 dark:bg-black/60 backdrop-blur-sm transition-opacity duration-300 animate-in fade-in",onClick:a}),o.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300 ease-out border border-slate-200 dark:border-neutral-800",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-neutral-800 flex items-center justify-between bg-slate-50/50 dark:bg-neutral-900/50 shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:w?"Edit Person":"Add Person"}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[w?"Update person details":"Register a new community member",o.jsx("span",{className:"ml-2 text-rose-500",children:"*"}),o.jsx("span",{className:"text-slate-400",children:" = Required"})]})]}),o.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:o.jsx(pa,{className:"w-5 h-5 text-slate-500"})})]}),m&&o.jsxs("div",{className:"mx-6 mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[o.jsx(Va,{className:"w-4 h-4 text-red-500 shrink-0"}),o.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:m})]}),o.jsxs("form",{onSubmit:k,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(en,{className:"w-3.5 h-3.5"})," Personal Information"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(ha,{label:"First Name",icon:o.jsx(en,{className:"w-4 h-4"}),placeholder:"John",value:c.first_name,onChange:_=>j("first_name",_)}),o.jsx(ha,{label:"Middle Name",placeholder:"M.",value:c.middle_name,onChange:_=>j("middle_name",_)}),o.jsx(ha,{label:"Last Name",placeholder:"Doe",value:c.last_name,onChange:_=>j("last_name",_)})]}),o.jsx(ha,{label:"Full Name",required:!0,placeholder:"Full display name",value:c.full_name,onChange:_=>j("full_name",_),hint:"Auto-generated from name parts, but you can edit it"})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(Wr,{className:"w-3.5 h-3.5"})," Contact Information"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(ha,{label:"Email",type:"email",icon:o.jsx(El,{className:"w-4 h-4"}),placeholder:"john@example.com",value:c.email,onChange:_=>j("email",_)}),o.jsx(ha,{label:"Phone",type:"tel",icon:o.jsx(Wr,{className:"w-4 h-4"}),placeholder:"+91 98765 43210",value:c.phone,onChange:_=>j("phone",_)})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(_s,{className:"w-3.5 h-3.5"})," Address"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(ha,{label:"Address Line",icon:o.jsx(_s,{className:"w-4 h-4"}),placeholder:"123 Main Street",value:c.address_line,onChange:_=>j("address_line",_)}),o.jsx(ha,{label:"Locality / Area",placeholder:"Suburb, City",value:c.locality_area,onChange:_=>j("locality_area",_)})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(vs,{className:"w-3.5 h-3.5"})," Blood Donation"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300",children:"Blood Group"}),o.jsxs("select",{className:"w-full px-3 py-2 bg-slate-50 dark:bg-neutral-800 border border-slate-200 dark:border-neutral-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-rose-500 transition-all",value:c.blood_group,onChange:_=>j("blood_group",_.target.value),children:[o.jsx("option",{value:"",children:"Select"}),YS.map(_=>o.jsx("option",{value:_,children:_},_))]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300",children:"Blood Donor?"}),o.jsx(Og,{value:c.is_blood_donor,onChange:_=>j("is_blood_donor",_),labels:["No","Yes"]})]}),o.jsx(ha,{label:"Last Donation",type:"date",icon:o.jsx(qt,{className:"w-4 h-4"}),value:c.last_donation_date,onChange:_=>j("last_donation_date",_)})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(Fk,{className:"w-3.5 h-3.5"})," Volunteer Status"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300",children:"Available as Volunteer?"}),o.jsx(Og,{value:c.is_volunteer,onChange:_=>j("is_volunteer",_),labels:["No","Yes"]})]})}),c.is_volunteer&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300",children:"Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:QS.filter(_=>!c.skills.includes(_)).map(_=>o.jsxs("button",{type:"button",onClick:()=>S(_),className:"px-2 py-1 text-xs bg-slate-100 dark:bg-neutral-800 text-slate-600 dark:text-slate-300 rounded-md hover:bg-slate-200 dark:hover:bg-neutral-700 transition-colors",children:["+ ",_]},_))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-slate-50 dark:bg-neutral-800 border border-slate-200 dark:border-neutral-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"Add custom skill...",value:b,onChange:_=>y(_.target.value),onKeyDown:_=>_.key==="Enter"&&(_.preventDefault(),S(b))}),o.jsx("button",{type:"button",onClick:()=>S(b),className:"px-3 py-2 bg-slate-900 dark:bg-white text-white dark:text-black text-sm font-medium rounded-lg hover:opacity-90 transition-opacity",children:"Add"})]}),c.skills.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:c.skills.map(_=>o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300 text-xs font-medium rounded-full",children:[_,o.jsx("button",{type:"button",onClick:()=>T(_),className:"hover:text-rose-900 dark:hover:text-rose-100",children:o.jsx(pa,{className:"w-3 h-3"})})]},_))})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(ma,{className:"w-3.5 h-3.5"})," Family Information"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300",children:"Marital Status"}),o.jsxs("select",{className:"w-full px-3 py-2 bg-slate-50 dark:bg-neutral-800 border border-slate-200 dark:border-neutral-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-rose-500 transition-all",value:c.marital_status,onChange:_=>j("marital_status",_.target.value),children:[o.jsx("option",{value:"",children:"Select"}),JS.map(_=>o.jsx("option",{value:_.value,children:_.label},_.value))]})]}),o.jsx(ha,{label:"Number of Children",type:"number",placeholder:"0",value:c.children_count.toString(),onChange:_=>j("children_count",parseInt(_)||0)})]})]})]}),o.jsxs("div",{className:"px-6 py-4 bg-slate-50 dark:bg-neutral-900/50 border-t border-slate-100 dark:border-neutral-800 flex gap-3 shrink-0",children:[o.jsx("button",{type:"button",onClick:a,disabled:h,className:"flex-1 px-4 py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-neutral-800 border border-slate-200 dark:border-neutral-700 rounded-lg hover:bg-slate-50 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",onClick:k,disabled:h,className:"flex-[2] px-4 py-2.5 text-sm font-medium text-white bg-rose-600 rounded-lg hover:bg-rose-700 transition-colors shadow-lg shadow-rose-200/50 dark:shadow-rose-900/30 disabled:opacity-50 flex items-center justify-center gap-2",children:h?o.jsxs(o.Fragment,{children:[o.jsx(Nt,{className:"w-4 h-4 animate-spin"}),w?"Saving...":"Adding..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yh,{className:"w-4 h-4"}),w?"Save Changes":"Add Person"]})})]})]})]}):null}function ha({label:s,required:a,type:n="text",icon:l,placeholder:c,value:u,onChange:h,hint:p}){return o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300 flex items-center gap-1",children:[s,a&&o.jsx("span",{className:"text-rose-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[l&&o.jsx("div",{className:"absolute left-3 top-2.5 text-slate-400",children:l}),o.jsx("input",{type:n,required:a,className:`w-full ${l?"pl-9":"pl-3"} pr-3 py-2 bg-slate-50 dark:bg-neutral-800 border border-slate-200 dark:border-neutral-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-rose-500 dark:focus:ring-rose-400 transition-all placeholder:text-slate-400`,placeholder:c,value:u,onChange:m=>h(m.target.value)})]}),p&&o.jsx("p",{className:"text-xs text-slate-400",children:p})]})}function Og({value:s,onChange:a,labels:n}){return o.jsxs("div",{className:"grid grid-cols-2 gap-1 p-1 bg-slate-100 dark:bg-neutral-800 rounded-lg",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:`py-2 text-sm font-medium rounded-md transition-all ${s?"text-slate-500 dark:text-slate-400 hover:text-slate-700":"bg-white dark:bg-neutral-700 text-slate-900 dark:text-white shadow-sm"}`,children:n[0]}),o.jsx("button",{type:"button",onClick:()=>a(!0),className:`py-2 text-sm font-medium rounded-md transition-all ${s?"bg-white dark:bg-neutral-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:n[1]})]})}function XS({isOpen:s,onClose:a,currentPage:n}){const l=tn(),c=Qe(b=>b.filters.activeFilters),h=(b=>{switch(b){case"people":case"volunteers":return[{category:"blood_group",label:"Blood Type",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"]},{category:"is_blood_donor",label:"Donor Status",options:["Donor","Not Donor"]},{category:"is_volunteer",label:"Volunteer",options:["Volunteer","Non-Volunteer"]}];case"events":return[{category:"status",label:"Event Status",options:["Draft","Active","Completed","Cancelled"]},{category:"type",label:"Event Type",options:["Donation Drive","Cleanup","Emergency","Workshop","Other"]}];default:return[]}})(n),p=Object.values(c).some(b=>b.length>0),m=(b,y)=>{l(W2({category:b,value:y}))},g=()=>{l(ej())};return o.jsxs(o.Fragment,{children:[s&&o.jsx("div",{className:"fixed inset-0 bg-slate-900/20 dark:bg-black/40 backdrop-blur-sm z-[90] animate-in fade-in duration-300",onClick:a}),o.jsx("div",{className:`
        fixed inset-y-0 right-0 z-[95] w-full max-w-sm bg-white dark:bg-neutral-900 shadow-2xl border-l border-slate-200 dark:border-neutral-800 transform transition-transform duration-300 ease-out
        ${s?"translate-x-0":"translate-x-full"}
      `,children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-neutral-800 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:"Smart Filters"}),o.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest",children:["Optimizing ",n," view"]})]}),o.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:o.jsx(pa,{className:"w-5 h-5 text-slate-500"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:h.length>0?h.map(b=>o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:b.label}),o.jsx("div",{className:"flex flex-wrap gap-2",children:b.options.map(y=>{const w=c[b.category]?.includes(y);return o.jsx("button",{onClick:()=>m(b.category,y),className:`
                          px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-tight border transition-all
                          ${w?"bg-rose-500 text-white border-rose-500 shadow-lg shadow-rose-500/20":"bg-white text-slate-600 border-slate-200 hover:border-slate-400 dark:bg-neutral-900 dark:text-slate-400 dark:border-neutral-800 dark:hover:border-neutral-700"}
                        `,children:y},y)})})]},b.category)):o.jsxs("div",{className:"text-center py-20 space-y-3",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-50 dark:bg-neutral-800 rounded-2xl flex items-center justify-center",children:o.jsx(Wd,{className:"w-6 h-6 text-slate-300"})}),o.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"No filter context for this module"})]})}),o.jsx("div",{className:"p-6 border-t border-slate-100 dark:border-neutral-800 bg-slate-50 dark:bg-neutral-900/50",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:g,disabled:!p,className:"flex-1 px-4 py-3 flex items-center justify-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-600 dark:text-slate-300 bg-white dark:bg-neutral-800 border border-slate-200 dark:border-neutral-700 rounded-xl hover:bg-slate-50 dark:hover:bg-neutral-700 disabled:opacity-30 disabled:grayscale transition-all",children:[o.jsx(Wd,{className:"w-3.5 h-3.5"}),"Reset"]}),o.jsxs("button",{onClick:a,className:"flex-[1.5] px-4 py-3 flex items-center justify-center gap-2 text-[10px] font-black uppercase tracking-widest text-white bg-rose-500 rounded-xl hover:bg-rose-600 transition-all shadow-lg shadow-rose-500/20",children:[o.jsx(yh,{className:"w-3.5 h-3.5"}),"Apply Filters"]})]})})]})})]})}function FS({isOpen:s,onClose:a,onSuccess:n,editData:l}){const{user:c}=Qe(w=>w.auth),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,b]=N.useState({title:"",description:"",start_time:new Date().toISOString().slice(0,16),end_time:"",type:"other",status:"draft",location_name:"",organizer_id:c?.id});if(N.useEffect(()=>{b(l?{title:l.title||"",description:l.description||"",start_time:l.start_time?new Date(l.start_time).toISOString().slice(0,16):new Date().toISOString().slice(0,16),end_time:l.end_time?new Date(l.end_time).toISOString().slice(0,16):"",type:l.type||"other",status:l.status||"draft",location_name:l.location_name||"",organizer_id:l.organizer_id||c?.id}:{title:"",description:"",start_time:new Date().toISOString().slice(0,16),end_time:"",type:"other",status:"draft",location_name:"",organizer_id:c?.id})},[l,s,c?.id]),!s)return null;const y=async w=>{w.preventDefault(),h(!0),m(null);try{const k={...g,start_time:new Date(g.start_time).toISOString(),end_time:g.end_time?new Date(g.end_time).toISOString():void 0,organizer_id:g.organizer_id||c?.id};l?.id?await fa.updateEvent(l.id,k):await fa.createEvent(k),n(),a()}catch(k){console.error("Failed to save event:",k),m(k.message||"Failed to save event. Please try again.")}finally{h(!1)}};return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:a}),o.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-neutral-800 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-neutral-800 flex items-center justify-between bg-slate-50/50 dark:bg-neutral-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${l?"bg-blue-500/10 text-blue-500":"bg-rose-500/10 text-rose-500"}`,children:l?o.jsx(tS,{className:"w-5 h-5"}):o.jsx(qt,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l?"Edit Event":"Create New Event"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:l?"Update activity details":"Add a new community activity"})]})]}),o.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-200 dark:hover:bg-neutral-700 rounded-full transition-colors text-slate-400",children:o.jsx(pa,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[p&&o.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 dark:bg-rose-900/20 dark:text-rose-400 text-xs rounded-lg border border-rose-100 dark:border-rose-900/30",children:p}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(BS,{className:"w-3 h-3"})," Event Title"]}),o.jsx("input",{required:!0,type:"text",placeholder:"e.g., Annual Spring Cleanup Drive",value:g.title,onChange:w=>b({...g,title:w.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-neutral-800 rounded-xl border-none text-sm focus:ring-2 focus:ring-rose-500/20 outline-none transition-all"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(ES,{className:"w-3 h-3"})," Description"]}),o.jsx("textarea",{rows:3,placeholder:"Describe the event purpose and goals...",value:g.description,onChange:w=>b({...g,description:w.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-neutral-800 rounded-xl border-none text-sm focus:ring-2 focus:ring-rose-500/20 outline-none transition-all resize-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),o.jsxs("select",{value:g.type,onChange:w=>b({...g,type:w.target.value}),className:"w-full px-3 py-2.5 bg-slate-50 dark:bg-neutral-800 rounded-xl border-none text-sm focus:ring-2 focus:ring-rose-500/20 outline-none transition-all cursor-pointer",children:[o.jsx("option",{value:"donation_drive",children:"Donation Drive"}),o.jsx("option",{value:"cleanup",children:"Cleanup"}),o.jsx("option",{value:"emergency",children:"Emergency"}),o.jsx("option",{value:"workshop",children:"Workshop"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsxs("select",{value:g.status,onChange:w=>b({...g,status:w.target.value}),className:"w-full px-3 py-2.5 bg-slate-50 dark:bg-neutral-800 rounded-xl border-none text-sm focus:ring-2 focus:ring-rose-500/20 outline-none transition-all cursor-pointer",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(qt,{className:"w-3 h-3"})," Start Date & Time"]}),o.jsx("input",{required:!0,type:"datetime-local",value:g.start_time,onChange:w=>b({...g,start_time:w.target.value}),className:"w-full px-3 py-2.5 bg-slate-50 dark:bg-neutral-800 rounded-xl border-none text-sm focus:ring-2 focus:ring-rose-500/20 outline-none transition-all"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(qt,{className:"w-3 h-3"})," End Date & Time (Optional)"]}),o.jsx("input",{type:"datetime-local",value:g.end_time,onChange:w=>b({...g,end_time:w.target.value}),className:"w-full px-3 py-2.5 bg-slate-50 dark:bg-neutral-800 rounded-xl border-none text-sm focus:ring-2 focus:ring-rose-500/20 outline-none transition-all"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(_s,{className:"w-3 h-3"})," Location Name"]}),o.jsx("input",{type:"text",placeholder:"Venue name or address...",value:g.location_name,onChange:w=>b({...g,location_name:w.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-neutral-800 rounded-xl border-none text-sm focus:ring-2 focus:ring-rose-500/20 outline-none transition-all"})]})]}),o.jsxs("div",{className:"pt-4 flex gap-3",children:[o.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-3 text-sm font-semibold text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-neutral-800 rounded-xl transition-colors border border-slate-200 dark:border-neutral-800",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:u,className:"flex-[2] bg-rose-500 hover:bg-rose-600 text-white px-4 py-3 rounded-xl text-sm font-semibold transition-all shadow-lg shadow-rose-500/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[u?o.jsx(Nt,{className:"w-4 h-4 animate-spin"}):o.jsx(cS,{className:"w-4 h-4"}),u?l?"Saving...":"Creating...":l?"Save Changes":"Create Event"]})]})]})]})]})}function ZS(){const[s]=N.useState("dashboard"),a=tn(),[n,l]=N.useState(!1),[c,u]=N.useState(!1),[h,p]=N.useState(!1),m=Qe(j=>j.people.openEditModal),g=Qe(j=>j.people.editingPerson),[b,y]=N.useState(!1),w=Qe(j=>j.events.openEditModal),k=Qe(j=>j.events.editingEvent),S=Qe(j=>j.filters.activeFilters);N.useEffect(()=>{const j=_=>{(_.metaKey||_.ctrlKey)&&_.key==="k"&&(_.preventDefault(),l(O=>!O))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[]);const T=j=>{switch(j){case"search":l(!0);break;case"filter":u(!0);break;case"add":p(!0);break;default:console.log("Unknown action:",j)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-black text-slate-900 dark:text-slate-100 transition-colors duration-300 pb-20 md:pb-24",children:[o.jsx("div",{className:"fixed top-6 right-6 opacity-5 pointer-events-none z-0",children:o.jsx("h1",{className:"text-6xl font-black tracking-tighter",children:"CommunityDB"})}),o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-neutral-950 flex transition-all duration-300",children:[o.jsx("main",{className:"flex-1 flex flex-col relative min-h-screen overflow-hidden",children:o.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar",children:o.jsx(Mx,{})})}),o.jsx(KS,{onAction:T,activeFilterCount:Object.values(S).reduce((j,_)=>j+_.length,0)}),o.jsx(IS,{isOpen:n,onClose:()=>l(!1)}),o.jsx(XS,{isOpen:c,onClose:()=>u(!1),currentPage:s}),o.jsx(rb,{isOpen:h||m,onClose:()=>{p(!1),a(gx(!1))},editData:g,onSuccess:()=>a(xs({force:!0}))}),o.jsx(FS,{isOpen:b||w,onClose:()=>{y(!1),a(Qd(!1))},editData:k,onSuccess:()=>a(Qr({force:!0}))})]})]})}function bs({label:s,value:a,trend:n,trendValue:l,urgent:c,icon:u,description:h,variant:p="default"}){const m={rose:"border-rose-100 dark:border-rose-900/30 text-rose-600",blue:"border-blue-100 dark:border-blue-900/30 text-blue-600",emerald:"border-emerald-100 dark:border-emerald-900/30 text-emerald-600",amber:"border-amber-100 dark:border-amber-900/30 text-amber-600",default:"border-slate-200 dark:border-neutral-800 text-slate-900 dark:text-white"},g={rose:"bg-rose-500/10 text-rose-500",blue:"bg-blue-500/10 text-blue-500",emerald:"bg-emerald-500/10 text-emerald-500",amber:"bg-amber-500/10 text-amber-500",default:"bg-slate-100 dark:bg-neutral-800 text-slate-500"};return o.jsxs("div",{className:`
      group flex flex-col p-5 rounded-[2rem] border transition-all duration-300 hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-black/20
      ${c?"bg-rose-50 border-rose-200 dark:bg-rose-950/20 dark:border-rose-900/50":"bg-white dark:bg-neutral-900"}
      ${m[p]}
    `,children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:`p-3 rounded-2xl transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3 ${g[p]}`,children:u&&o.jsx(u,{className:"w-5 h-5"})}),n&&o.jsxs("div",{className:`flex items-center px-2 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${n==="up"?"bg-emerald-500/10 text-emerald-600":n==="down"?"bg-rose-500/10 text-rose-600":"bg-slate-100 text-slate-500"}`,children:[n==="up"&&o.jsx(Hx,{className:"w-3 h-3 mr-0.5"}),l]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-3xl font-black tabular-nums tracking-tighter",children:a}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em]",children:s}),h&&o.jsx("span",{className:"text-[10px] font-bold text-slate-400/60 lowercase italic",children:h})]})]})]})}const cl={async getDashboardStats(){try{const[{count:s},{count:a},{count:n},{count:l}]=await Promise.all([oe.from("people").select("*",{count:"exact",head:!0}),oe.from("people").select("*",{count:"exact",head:!0}).eq("is_volunteer",!0),oe.from("assistance_requests").select("*",{count:"exact",head:!0}).in("urgency",["critical","high"]).eq("status","open"),oe.from("people").select("*",{count:"exact",head:!0}).eq("is_blood_donor",!0)]);return{totalPeople:s||0,activeVolunteers:a||0,urgentRequests:n||0,activeDonors:l||0}}catch(s){throw console.error("Error fetching dashboard stats:",s),s}},async getBloodTypeDistribution(){const{data:s,error:a}=await oe.from("people").select("blood_group").is("is_blocked",!1);if(a)throw a;const n={};s.forEach(c=>{c.blood_group&&(n[c.blood_group]=(n[c.blood_group]||0)+1)});const l=Object.values(n).reduce((c,u)=>c+u,0);return Object.entries(n).map(([c,u])=>({group:c,count:u,percentage:Math.round(u/l*100)})).sort((c,u)=>u.count-c.count)},async getMonthlyTrends(){const s=new Date;s.setMonth(s.getMonth()-5),s.setDate(1);const{data:a,error:n}=await oe.from("people").select("created_at").gte("created_at",s.toISOString());if(n)throw n;const l=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],c={};for(let u=0;u<6;u++){const h=new Date;h.setMonth(h.getMonth()-u),c[l[h.getMonth()]]=0}return a.forEach(u=>{const h=l[new Date(u.created_at).getMonth()];c[h]!==void 0&&c[h]++}),Object.entries(c).map(([u,h])=>({label:u,value:h})).reverse()},async getRecentActivity(s=5){const{data:a,error:n}=await oe.from("people").select("id, full_name, created_at, is_volunteer, is_blood_donor").order("created_at",{ascending:!1}).limit(s);if(n)throw n;return a}};function WS(){const s=Pa(),[a,n]=N.useState(null),[l,c]=N.useState([]),[u,h]=N.useState(!0);return N.useEffect(()=>{async function p(){try{const[m,g]=await Promise.all([cl.getDashboardStats(),cl.getRecentActivity()]);n(m),c(g)}catch(m){console.error("Dashboard load failed:",m)}finally{h(!1)}}p()},[]),u?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[o.jsx(Nt,{className:"w-8 h-8 text-rose-500 animate-spin"}),o.jsx("p",{className:"text-sm text-slate-500 animate-pulse font-medium",children:"Aggregating system intelligence..."})]}):o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"flex items-end justify-between pb-4 border-b border-slate-200 dark:border-neutral-800",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black tracking-tighter text-slate-900 dark:text-white uppercase italic",children:"Command Center"}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-1 font-black uppercase tracking-[0.2em]",children:"Real-time Operational Intelligence"})]}),o.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 bg-emerald-500/10 border border-emerald-500/20 rounded-full",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.6)]"}),o.jsx("span",{className:"text-[10px] font-black text-emerald-600 dark:text-emerald-400 uppercase tracking-widest",children:"Neural Link Active"})]})]}),o.jsxs("div",{className:"relative overflow-hidden bg-slate-900 rounded-3xl p-8 text-white shadow-2xl border border-white/5",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-rose-500/20 blur-[100px] -mr-32 -mt-32"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-500/20 blur-[100px] -ml-32 -mb-32"}),o.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"text-2xl font-black tracking-tight",children:"Welcome to the Registry Dashboard"}),o.jsxs("p",{className:"text-slate-400 text-sm max-w-md font-medium",children:["You're currently viewing the live state of the Community Health & Emergency database.",a?.urgentRequests?` There are ${a.urgentRequests} urgent requests requiring intervention.`:" System status is nominal."]})]}),o.jsxs("button",{onClick:()=>s("/admin/people"),className:"group flex items-center gap-3 bg-white text-slate-900 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-rose-500 hover:text-white transition-all shadow-xl shadow-white/5",children:["Access Directory",o.jsx(Fs,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]}),o.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(bs,{label:"Registry Capacity",value:a?.totalPeople||0,icon:ma,description:"Total records in database"}),o.jsx(bs,{label:"Field Force",value:a?.activeVolunteers||0,icon:vs,variant:"blue",description:"Active volunteer accounts"}),o.jsx(bs,{label:"Urgent Alerts",value:a?.urgentRequests||0,icon:Va,variant:"rose",urgent:!!a?.urgentRequests&&a.urgentRequests>0,description:"Pending critical assistance"}),o.jsx(bs,{label:"Donor Network",value:a?.activeDonors||0,icon:Xr,variant:"emerald",description:"Verified blood donors"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("section",{className:"lg:col-span-2 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-1",children:[o.jsxs("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] flex items-center gap-2",children:[o.jsx(Xr,{className:"w-3.5 h-3.5"}),"Real-time Registry Pulse"]}),o.jsx("button",{onClick:()=>s("/admin/people"),className:"text-[10px] font-black text-rose-500 uppercase tracking-widest hover:underline",children:"View Logs"})]}),o.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-3xl overflow-hidden shadow-sm",children:o.jsx("div",{className:"divide-y divide-slate-100 dark:divide-neutral-800",children:l.length>0?l.map(p=>o.jsxs("div",{className:"p-4 flex items-center justify-between group hover:bg-slate-50 dark:hover:bg-neutral-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-sm shadow-sm transition-transform group-hover:scale-110 group-hover:rotate-3
                        ${p.is_volunteer?"bg-blue-500/10 text-blue-500":"bg-rose-500/10 text-rose-500"}
                      `,children:p.full_name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white tracking-tight",children:p.full_name}),o.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:[p.is_volunteer?"Registered as Volunteer":"Added to Registry","  ",new Date(p.created_at).toLocaleDateString()]})]})]}),o.jsx("button",{onClick:()=>s(`/admin/people/${p.id}`),className:"p-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-100 dark:bg-neutral-800 rounded-lg",children:o.jsx(Fs,{className:"w-4 h-4 text-slate-500"})})]},p.id)):o.jsx("div",{className:"p-12 text-center text-slate-400 italic text-sm",children:"No recent activity detected."})})})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] px-1",children:"Security & Sync"}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-3xl p-6 space-y-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-tighter",children:"Database Status"}),o.jsx("span",{className:"text-[10px] font-black bg-emerald-500 text-white px-2 py-0.5 rounded uppercase tracking-tighter",children:"Healthy"})]}),o.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-neutral-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-emerald-500 w-[95%]"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>s("/admin/bulk"),className:"w-full p-4 flex items-center gap-4 bg-slate-50 dark:bg-neutral-800 rounded-2xl border border-slate-100 dark:border-neutral-700 hover:border-rose-500 transition-colors group",children:[o.jsx("div",{className:"p-2 bg-white dark:bg-neutral-900 rounded-xl shadow-sm text-rose-500",children:o.jsx(Xr,{className:"w-4 h-4"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-xs font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Bulk Sync"}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Process Datasets"})]})]}),o.jsxs("button",{onClick:()=>s("/admin/analytics"),className:"w-full p-4 flex items-center gap-4 bg-slate-50 dark:bg-neutral-800 rounded-2xl border border-slate-100 dark:border-neutral-700 hover:border-blue-500 transition-colors group",children:[o.jsx("div",{className:"p-2 bg-white dark:bg-neutral-900 rounded-xl shadow-sm text-blue-500",children:o.jsx(ma,{className:"w-4 h-4"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-xs font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Analytics"}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"View Trends"})]})]})]})]})]})]})]})}function yo({data:s,columns:a,loading:n}){const[l,c]=N.useState(1),u=10,h=Math.ceil(s?.length/u),p=(l-1)*u,m=p+u,g=s?.slice(p,m),b=y=>{y>=1&&y<=h&&c(y)};return n?o.jsx("div",{className:"w-full h-64 border rounded-lg border-slate-200 dark:border-neutral-800 bg-white dark:bg-black flex items-center justify-center",children:o.jsx(Nt,{className:"w-8 h-8 animate-spin text-slate-400"})}):s?.length===0?o.jsxs("div",{className:"w-full h-64 border rounded-lg border-slate-200 dark:border-neutral-800 bg-white dark:bg-black flex flex-col items-center justify-center text-slate-500",children:[o.jsx(Va,{className:"w-8 h-8 mb-2 opacity-50"}),o.jsx("p",{children:"No records found."})]}):o.jsxs("div",{className:"w-full border rounded-lg border-slate-200 dark:border-neutral-800 bg-white dark:bg-black flex flex-col",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-xs border-collapse",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-neutral-900 sticky top-0 z-10",children:o.jsx("tr",{children:a?.map(y=>o.jsx("th",{className:"px-3 py-3 font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-200 dark:border-neutral-800 first:pl-4 last:pr-4",children:y.header},y.key))})}),o.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-neutral-900",children:g?.map((y,w)=>o.jsx("tr",{className:"group hover:bg-slate-50 dark:hover:bg-neutral-900/50 transition-colors",children:a.map(k=>o.jsx("td",{className:`${k.nowrap?"whitespace-nowrap":""} px-3 py-3 text-slate-900 dark:text-slate-100 first:pl-4 last:pr-4`,children:k.render?k.render(y):y[k.key]||"-"},k.key))},y.id||w))})]})}),h>1&&o.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 dark:border-neutral-800 flex items-center justify-between bg-slate-50/50 dark:bg-neutral-900/30",children:[o.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:["Showing"," ",o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:p+1})," ","to"," ",o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:Math.min(m,s.length)})," ","of"," ",o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:s.length})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>b(l-1),disabled:l===1,className:"p-1 rounded hover:bg-slate-200 dark:hover:bg-neutral-800 disabled:opacity-30 disabled:hover:bg-transparent transition-colors","aria-label":"Previous page",children:o.jsx(sN,{className:"w-4 h-4 text-slate-600 dark:text-slate-300"})}),o.jsx("div",{className:"flex items-center space-x-1 px-1",children:Array.from({length:h}).map((y,w)=>{const k=w+1;return k===1||k===h||k>=l-1&&k<=l+1?o.jsx("button",{onClick:()=>b(k),className:`
                      w-6 h-6 flex items-center justify-center rounded text-[10px] font-medium transition-colors
                      ${l===k?"bg-slate-900 text-white dark:bg-white dark:text-black":"text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-neutral-800"}
                    `,children:k},k):k===l-2&&k>1||k===l+2&&k<h?o.jsx("span",{className:"text-[10px] text-slate-400 px-0.5",children:"..."},k):null})}),o.jsx("button",{onClick:()=>b(l+1),disabled:l===h,className:"p-1 rounded hover:bg-slate-200 dark:hover:bg-neutral-800 disabled:opacity-30 disabled:hover:bg-transparent transition-colors","aria-label":"Next page",children:o.jsx(yl,{className:"w-4 h-4 text-slate-600 dark:text-slate-300"})})]})]})]})}const e5=[{id:"volunteer",title:"Verified Volunteer",description:"Grants access to field operations, attendance tracking, and resource collection.",icon:o.jsx(ys,{className:"w-6 h-6"}),accent:"rose"},{id:"admin",title:"Registry Admin",description:"Full control over people records, event management, and assistance requests.",icon:o.jsx(ab,{className:"w-6 h-6"}),accent:"blue"},{id:"super_admin",title:"Super Executive",description:"Unrestricted terminal access, including bulk operations and user permission management.",icon:o.jsx(tb,{className:"w-6 h-6"}),accent:"slate"}];function nb({isOpen:s,onClose:a,personId:n,personName:l,onSuccess:c}){const[u,h]=N.useState(null),[p,m]=N.useState(!1),[g,b]=N.useState(null),[y,w]=N.useState(!1);if(!s)return null;const k=async()=>{if(!(!n||!u)){m(!0),b(null);try{await xt.promoteToAdmin(n,u),w(!0),setTimeout(()=>{c(),S()},1500)}catch(T){console.error("Promotion failed:",T),b(T.message||"Transmission failed. Ensure the user has a registered digital identity.")}finally{m(!1)}}},S=()=>{w(!1),b(null),h(null),a()};return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/60 dark:bg-black/80 backdrop-blur-md animate-in fade-in duration-300",onClick:S}),o.jsxs("div",{className:"relative w-full max-w-xl bg-white dark:bg-neutral-900 rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-100 dark:border-neutral-800 animate-in zoom-in-95 duration-300 ease-out",children:[o.jsxs("div",{className:"px-8 py-6 flex items-center justify-between border-b border-slate-50 dark:border-neutral-800",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Clearance Elevation"}),o.jsxs("p",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest mt-1",children:["Target Identity: ",l]})]}),o.jsx("button",{onClick:S,className:"p-3 hover:bg-slate-50 dark:hover:bg-neutral-800 rounded-2xl transition-colors",children:o.jsx(pa,{className:"w-5 h-5 text-slate-400"})})]}),o.jsx("div",{className:"p-8",children:y?o.jsxs("div",{className:"py-12 flex flex-col items-center text-center animate-in zoom-in duration-500",children:[o.jsx("div",{className:"w-20 h-20 bg-emerald-500/10 text-emerald-500 rounded-full flex items-center justify-center mb-6",children:o.jsx(Zr,{className:"w-10 h-10"})}),o.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Access Granted"}),o.jsx("p",{className:"text-slate-500 font-medium text-sm mt-2",children:"New clearance levels have been synchronized."})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Select Clearance Tier"}),o.jsx("div",{className:"grid gap-3",children:e5.map(T=>o.jsxs("button",{onClick:()=>h(T.id),className:`group relative flex items-center gap-5 p-5 rounded-3xl border-2 transition-all text-left ${u===T.id?"bg-slate-900 dark:bg-white border-slate-900 dark:border-white":"bg-white dark:bg-neutral-800 border-slate-100 dark:border-neutral-800 hover:border-slate-200 dark:hover:border-neutral-700"}`,children:[o.jsx("div",{className:`p-3 rounded-2xl transition-colors ${u===T.id?"bg-white/10 text-white dark:bg-slate-900/10 dark:text-slate-900":"bg-slate-50 dark:bg-neutral-900 text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`,children:T.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`text-sm font-black uppercase tracking-tight ${u===T.id?"text-white dark:text-slate-900":"text-slate-900 dark:text-white"}`,children:T.title}),o.jsx("p",{className:`text-[10px] font-medium leading-relaxed mt-1 line-clamp-2 ${u===T.id?"text-white/60 dark:text-slate-900/60":"text-slate-500"}`,children:T.description})]})]},T.id))}),g&&o.jsxs("div",{className:"p-4 bg-rose-50 dark:bg-rose-950/20 border border-rose-100 dark:border-rose-900/20 rounded-2xl flex items-center gap-3 animate-in shake duration-500",children:[o.jsx(tb,{className:"w-5 h-5 text-rose-500 shrink-0"}),o.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-wide",children:g})]}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{onClick:k,disabled:!u||p,className:"w-full py-5 bg-rose-500 hover:bg-rose-600 disabled:opacity-50 disabled:hover:bg-rose-500 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-xl shadow-rose-500/20 transition-all hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-3",children:p?o.jsxs(o.Fragment,{children:[o.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Synchronizing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ys,{className:"w-5 h-5"}),"Authorize Elevation"]})})})]})})]})]})}function t5(){const s=tn(),[a,n]=N.useState("active"),[l,c]=N.useState({isOpen:!1,personId:null,personName:""}),{role:u}=Qe(_=>_.auth),h=Qe(_=>_.people.loading),p=Qe(_=>_.people.error),m=Qe(_=>_.people.persons),g=Qe(_=>_.people.deletedPersons),b=_=>{window.open(`#/admin/people/${_}`,"_blank")},y=Qe(_=>_.filters.activeFilters);N.useEffect(()=>{s(xs())},[s,y]);async function w(_){if(window.confirm("Are you sure you want to delete this person? They will be archived in the deleted people section."))try{await xt.deletePerson(_),s(xs({force:!0}))}catch(O){console.error("Error in handleDelete:",O),alert("Failed to delete person. Please try again.")}}async function k(_){try{await xt.restorePerson(_),s(xs({force:!0}))}catch(O){console.error("Failed to restore person:",O),alert("Failed to restore person. Please try again.")}}async function S(_,O){c({isOpen:!0,personId:_,personName:O})}const T=[{key:"full_name",header:"Name"},{key:"phone",header:"Phone",nowrap:!0},{key:"locality_area",header:"Area"},{key:"blood_group",header:"Blood Group"},{key:"is_volunteer",header:"Role",render:_=>_.is_volunteer?"Volunteer":"Resident"},{key:"actions",header:"Actions",render:_=>{const O=!!_.admins?.role&&["super_admin","admin"].includes(_.admins.role),D=u==="super_admin"||u==="admin"&&!O,V=u==="super_admin"||u==="admin"&&!O;return o.jsxs("div",{className:"flex items-center justify-start space-x-1",children:[o.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded hover:bg-slate-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"View",onClick:()=>_.id&&b(_.id),children:o.jsx(_N,{className:"w-3.5 h-3.5"})}),D&&o.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded hover:bg-slate-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Edit",onClick:()=>{s(I2(_)),s(gx(!0))},children:o.jsx(eb,{className:"w-3.5 h-3.5"})}),V&&o.jsx("button",{className:"p-1 text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 rounded hover:bg-slate-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Delete",onClick:()=>_.id&&w(_.id),children:o.jsx(DS,{className:"w-3.5 h-3.5"})}),u==="super_admin"&&!O&&o.jsx("button",{className:"p-1 text-slate-400 hover:text-rose-500 dark:hover:text-rose-400 rounded hover:bg-slate-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Promote",onClick:()=>_.id&&S(_.id,_.full_name),children:o.jsx(ys,{className:"w-3.5 h-3.5"})})]})}}],j=[{key:"full_name",header:"Name"},{key:"phone",header:"Phone"},{key:"locality_area",header:"Area"},{key:"deleted_at",header:"Deleted At",render:_=>new Date(_.deleted_at).toLocaleDateString()},{key:"actions",header:"Actions",render:_=>{const O=u==="super_admin"||u==="admin";return o.jsx("div",{className:"flex items-center justify-start space-x-1",children:O&&o.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded hover:bg-slate-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Restore",onClick:()=>k(_),children:o.jsx(RN,{className:"w-3.5 h-3.5"})})})}}];return o.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[o.jsxs("div",{className:"flex items-end justify-between pb-3 border-b border-slate-200 dark:border-neutral-800",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(ma,{className:"w-5 h-5 text-slate-500"}),"People"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Manage donors and recipients database."})]}),o.jsx("div",{className:"text-[10px] font-mono text-slate-400",children:h?"Loading...":`${a==="active"?m.length:g.length} Records`})]}),o.jsxs("div",{className:"flex items-center gap-4 border-b border-slate-200 dark:border-neutral-800",children:[o.jsxs("button",{className:`pb-2 px-1 text-xs font-semibold transition-colors relative ${a==="active"?"text-blue-600 dark:text-blue-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,onClick:()=>n("active"),children:["Active People",a==="active"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]}),o.jsxs("button",{className:`pb-2 px-1 text-xs font-semibold transition-colors relative ${a==="deleted"?"text-blue-600 dark:text-blue-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,onClick:()=>n("deleted"),children:["Deleted People",a==="deleted"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]})]}),p?o.jsxs("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg flex items-center gap-2 text-xs",children:[o.jsx(Va,{className:"w-4 h-4"}),p]}):a==="active"?o.jsx(yo,{data:m,columns:T,loading:h}):o.jsx(yo,{data:g,columns:j,loading:h}),o.jsx(nb,{isOpen:l.isOpen,onClose:()=>c({...l,isOpen:!1}),personId:l.personId,personName:l.personName,onSuccess:()=>s(xs({force:!0}))})]})}function a5(){const[s,a]=N.useState([]),[n,l]=N.useState(!0),[c,u]=N.useState(null);return N.useEffect(()=>{async function h(){try{l(!0);const p=await xt.getVolunteers();a(p)}catch(p){console.error("Failed to fetch volunteers",p),u("Could not load volunteer roster.")}finally{l(!1)}}h()},[]),n?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[o.jsx(Nt,{className:"w-10 h-10 animate-spin text-rose-500 mb-4"}),o.jsx("p",{className:"text-slate-500 text-sm italic font-medium",children:"Loading volunteer roster..."})]}):o.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[o.jsxs("div",{className:"flex items-end justify-between pb-3 border-b border-slate-200 dark:border-neutral-800",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(ma,{className:"w-5 h-5 text-rose-500"}),"Volunteers"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Active volunteer roster and records."})]}),o.jsxs("div",{className:"text-[10px] font-mono text-slate-400",children:[s.length," Active Agents"]})]}),c?o.jsx("div",{className:"p-12 text-center bg-slate-50 dark:bg-neutral-800/20 rounded-3xl border border-dashed border-slate-200 dark:border-neutral-800",children:o.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:c})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(h=>o.jsxs(Sl,{to:`/admin/people/${h.id}`,className:"group p-5 bg-white dark:bg-neutral-900 border border-slate-100 dark:border-neutral-800 rounded-[2rem] hover:border-rose-200 dark:hover:border-rose-900/50 transition-all hover:shadow-xl hover:-translate-y-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 dark:bg-neutral-800 flex items-center justify-center text-lg font-black text-slate-900 dark:text-white border border-slate-100 dark:border-neutral-800",children:h.full_name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-slate-900 dark:text-white text-sm uppercase tracking-tight",children:h.full_name}),o.jsx("p",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-widest",children:h.admins?.role||"Volunteer"})]})]}),o.jsx("button",{className:"text-slate-300 hover:text-rose-500 transition-colors",children:o.jsx(Kx,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsxs("div",{className:"flex items-center text-xs font-bold text-slate-500",children:[o.jsx(Wr,{className:"w-3.5 h-3.5 mr-2 text-rose-500/50"}),h.phone]}),h.email&&o.jsxs("div",{className:"flex items-center text-xs font-bold text-slate-500",children:[o.jsx(El,{className:"w-3.5 h-3.5 mr-2 text-rose-500/50"}),o.jsx("span",{className:"truncate",children:h.email})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50 dark:border-neutral-800",children:[o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-lg text-[8px] font-black uppercase tracking-[0.15em]
                  ${h.is_blocked?"bg-red-50 text-red-600 dark:bg-red-950/30":"bg-emerald-50 text-emerald-700 dark:bg-emerald-950/30"}
                `,children:h.is_blocked?"Restricted":"Operational"}),o.jsxs("div",{className:"flex items-center text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[o.jsx(wS,{className:"w-3 h-3 text-amber-400 mr-1 fill-amber-400"}),"Profile Details"]})]})]},h.id))})]})}function lb({title:s,text:a,url:n,className:l=""}){const[c,u]=N.useState(!1),[h,p]=N.useState(!1),m=`${a}

Check it out here: ${n}`,g=async()=>{if(navigator.share)try{await navigator.share({title:s,text:a,url:n})}catch(w){console.error("Error sharing:",w),u(!0)}else u(!0)},b=()=>{navigator.clipboard.writeText(n),p(!0),setTimeout(()=>p(!1),2e3)},y=[{name:"WhatsApp",icon:Wx,color:"text-emerald-500",href:`https://wa.me/?text=${encodeURIComponent(m)}`},{name:"Twitter",icon:_h,color:"text-sky-500",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(a)}&url=${encodeURIComponent(n)}`},{name:"Facebook",icon:Yx,color:"text-blue-600",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(n)}`},{name:"LinkedIn",icon:Zx,color:"text-blue-700",href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(n)}`}];return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:g,className:`p-2 rounded-full bg-slate-100 hover:bg-slate-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-slate-600 dark:text-slate-400 transition-colors ${l}`,"aria-label":"Share",children:o.jsx(mS,{className:"w-4 h-4"})}),c&&o.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-200",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>u(!1)}),o.jsxs("div",{className:"relative w-full max-w-xs bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-neutral-800 overflow-hidden animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 dark:border-neutral-800 flex items-center justify-between bg-slate-50/50 dark:bg-neutral-800/50",children:[o.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Share Event"}),o.jsx("button",{onClick:()=>u(!1),className:"p-1 hover:bg-slate-200 dark:hover:bg-neutral-700 rounded-full transition-colors text-slate-400",children:o.jsx(pa,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-3 space-y-1",children:[o.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:[o.jsx($N,{className:"w-4 h-4 text-rose-500"}),h?"Copied!":"Copy Link"]}),o.jsx("div",{className:"h-px bg-slate-100 dark:bg-neutral-800 my-1 mx-2"}),y.map(w=>o.jsxs("a",{href:w.href,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:[o.jsx(w.icon,{className:`w-4 h-4 ${w.color}`}),w.name]},w.name))]})]})]})]})}function s5({event:s,onClick:a,onEdit:n}){const l=new Date(s.start_time),c=l>new Date,u={donation_drive:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",cleanup:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",emergency:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400",workshop:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",other:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"},h=(s.type||"other").replace("_"," "),p=`${window.location.origin}${window.location.pathname}#/admin/events?id=${s.id}`,m=`Join us for "${s.title}" at ${s.location_name||"TBD"} on ${l.toLocaleDateString()}!`;return o.jsxs("div",{className:"group relative bg-white dark:bg-neutral-900 rounded-2xl border border-slate-200 dark:border-neutral-800 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"px-5 pt-5 pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${u[s.type||"other"]}`,children:h}),o.jsx(lb,{title:s.title,text:m,url:p})]}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white group-hover:text-rose-500 transition-colors line-clamp-1",children:s.title})]}),o.jsxs("div",{className:"px-5 pb-5 flex-1 space-y-3",children:[o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 line-clamp-2 min-h-[2.5rem]",children:s.description||"No description provided."}),o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-400",children:[o.jsx(qt,{className:"w-3.5 h-3.5 text-rose-500"}),o.jsx("span",{children:l.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-400",children:[o.jsx(Mo,{className:"w-3.5 h-3.5 text-rose-500"}),o.jsx("span",{children:l.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]}),s.location_name&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-400",children:[o.jsx(_s,{className:"w-3.5 h-3.5 text-rose-500"}),o.jsx("span",{className:"truncate",children:s.location_name})]})]})]}),o.jsxs("div",{className:"px-2 py-2 border-t border-slate-50 dark:border-neutral-800 bg-slate-50/50 dark:bg-neutral-800/30 mt-auto flex gap-2",children:[o.jsx("button",{onClick:()=>s.id&&n(s),className:"flex-1 flex items-center justify-center gap-2 py-2 text-xs font-bold text-slate-600 dark:text-slate-400 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-white dark:hover:bg-neutral-800 rounded-lg transition-all",children:"Modify"}),o.jsxs("button",{onClick:()=>s.id&&a(s.id),className:"flex-[1.5] flex items-center justify-center gap-2 py-2 text-xs font-bold bg-slate-900 dark:bg-white text-white dark:text-black rounded-lg hover:shadow-lg transition-all active:scale-95",children:["View Details",o.jsx(Fs,{className:"w-3 h-3"})]})]}),!c&&s.status!=="active"&&o.jsx("div",{className:"absolute top-0 right-12"})]})}function r5({filters:s,onFilterChange:a,onClear:n}){const l=[{value:"donation_drive",label:"Donation Drive"},{value:"cleanup",label:"Cleanup"},{value:"emergency",label:"Emergency"},{value:"workshop",label:"Workshop"},{value:"other",label:"Other"}],c=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],u=[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"},{value:"all",label:"All"}];return o.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl border border-slate-200 dark:border-neutral-800 p-4 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search events by title...",value:s.search||"",onChange:h=>a({...s,search:h.target.value}),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-neutral-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-rose-500/20 transition-all outline-none"})]}),o.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 md:pb-0 no-scrollbar",children:[u.map(h=>o.jsx("button",{onClick:()=>a({...s,dateRange:h.value}),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all whitespace-nowrap ${s.dateRange===h.value?"bg-slate-900 text-white dark:bg-white dark:text-black":"bg-slate-50 text-slate-600 hover:bg-slate-200 dark:bg-neutral-800 dark:text-slate-400 dark:hover:bg-neutral-700"}`,children:h.label},h.value)),o.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-neutral-800 mx-1"}),o.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-rose-500 transition-colors",title:"Clear Filters",children:o.jsx(Wd,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-slate-400 uppercase tracking-wider mr-2",children:[o.jsx(Qx,{className:"w-3.5 h-3.5"}),"Quick Filters:"]}),o.jsxs("select",{value:s.type||"",onChange:h=>a({...s,type:h.target.value}),className:"px-3 py-1.5 bg-slate-50 dark:bg-neutral-800 text-slate-700 dark:text-slate-300 rounded-lg text-xs border-none focus:ring-2 focus:ring-rose-500/20 outline-none cursor-pointer",children:[o.jsx("option",{value:"",children:"All Types"}),l.map(h=>o.jsx("option",{value:h.value,children:h.label},h.value))]}),o.jsxs("select",{value:s.status||"",onChange:h=>a({...s,status:h.target.value}),className:"px-3 py-1.5 bg-slate-50 dark:bg-neutral-800 text-slate-700 dark:text-slate-300 rounded-lg text-xs border-none focus:ring-2 focus:ring-rose-500/20 outline-none cursor-pointer",children:[o.jsx("option",{value:"",children:"All Statuses"}),c.map(h=>o.jsx("option",{value:h.value,children:h.label},h.value))]})]})]})}function n5(){const s=tn(),{events:a,loading:n,error:l,filters:c}=Qe(m=>m.events);N.useEffect(()=>{const g=new URLSearchParams(window.location.hash.split("?")[1]).get("id");g&&window.open(`#/admin/events/${g}`,"_blank")},[]);const u=Qe(m=>m.filters.activeFilters);N.useEffect(()=>{s(Qr())},[s,c,u]);const h=()=>{s(X2())},p=()=>{s(jg(null)),s(Qd(!0))};return o.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4 pb-3 border-b border-slate-200 dark:border-neutral-800",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(qt,{className:"w-5 h-5 text-rose-500"}),"Events"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Organize and track community activities and meetings."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"hidden sm:block text-[10px] font-mono text-slate-400",children:n?"Refreshing...":`${a.length} Events Found`}),o.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-slate-900 dark:bg-white text-white dark:text-black px-3 py-1.5 rounded-lg text-xs font-semibold hover:shadow-lg transition-all active:scale-95",children:[o.jsx(Qs,{className:"w-3.5 h-3.5"}),"New Event"]})]})]}),o.jsx(r5,{filters:c,onFilterChange:m=>s(Q2(m)),onClear:h}),l?o.jsxs("div",{className:"p-6 bg-rose-50 dark:bg-rose-900/10 text-rose-600 rounded-xl border border-rose-100 dark:border-rose-900/30 flex flex-col items-center text-center",children:[o.jsx(Va,{className:"w-8 h-8 mb-2 opacity-50"}),o.jsx("p",{className:"font-bold text-sm",children:"Error"}),o.jsx("p",{className:"text-xs opacity-80",children:l}),o.jsx("button",{onClick:()=>s(Qr({force:!0})),className:"mt-3 px-3 py-1.5 bg-white dark:bg-neutral-800 rounded-lg text-[10px] font-bold shadow-sm",children:"Try Again"})]}):n&&a.length===0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>o.jsx("div",{className:"h-64 rounded-2xl bg-white dark:bg-neutral-900 border border-slate-100 dark:border-neutral-800 animate-pulse"},m))}):a.length===0?o.jsxs("div",{className:"py-16 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-neutral-800 flex items-center justify-center mb-3",children:o.jsx(qt,{className:"w-6 h-6 text-slate-300"})}),o.jsx("h3",{className:"text-md font-bold text-slate-900 dark:text-white",children:"No events found"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs max-w-xs mt-1",children:"Try adjusting your filters or create a new event."}),o.jsx("button",{onClick:h,className:"mt-4 text-xs font-bold text-rose-500 hover:underline",children:"Clear all filters"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(m=>o.jsx(s5,{event:m,onClick:g=>window.open(`#/admin/events/${g}`,"_blank"),onEdit:g=>{s(jg(g)),s(Qd(!0))}},m.id))})]})}const al={async getResourcesByEvent(s){const{data:a,error:n}=await oe.from("resources").select(`
                *,
                donor:people(full_name, phone, email)
            `).eq("event_id",s).order("collected_at",{ascending:!1});if(n)throw n;return a},async addResource(s){const{data:a,error:n}=await oe.from("resources").insert([s]).select().single();if(n)throw n;return a},async updateResourceStatus(s,a){const{data:n,error:l}=await oe.from("resources").update({status:a}).eq("id",s).select().single();if(l)throw l;return n}};function l5({participants:s,loading:a,eventStatus:n,onStatusUpdate:l}){const u=[{key:"name",header:"Participant",render:h=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 dark:bg-neutral-800 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-neutral-700",children:h.person?.full_name?.charAt(0)||o.jsx(en,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:h.person?.full_name||"Unknown"}),o.jsx("div",{className:"text-[10px] text-slate-400",children:h.person?.email||"No email"})]})]})},{key:"role",header:"Role",render:h=>o.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${h.role==="organizer"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":h.role==="volunteer"?"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:h.role})},{key:"status",header:"Status",render:h=>o.jsx("span",{className:`text-[10px] font-medium ${h.status==="attended"||h.status==="confirmed"?"text-emerald-600 dark:text-emerald-400":h.status==="noshow"?"text-rose-600 dark:text-rose-400":"text-slate-500"}`,children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})},{key:"attendance",header:"Record Attendance",hidden:!(n==="active"||n==="completed"),render:h=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>l?.(h.person_id,"attended"),disabled:h.status==="attended",className:`p-1.5 rounded-lg transition-all ${h.status==="attended"?"text-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20"}`,title:"Mark Attended",children:o.jsx(Zr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>l?.(h.person_id,"noshow"),disabled:h.status==="noshow",className:`p-1.5 rounded-lg transition-all ${h.status==="noshow"?"text-rose-500 bg-rose-50 dark:bg-rose-900/20":"text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20"}`,title:"Mark No-show",children:o.jsx(hN,{className:"w-4 h-4"})})]})},{key:"contact",header:"Contact",render:h=>o.jsxs("div",{className:"flex items-center gap-2",children:[h.person?.phone&&o.jsx("a",{href:`tel:${h.person.phone}`,className:"p-1.5 text-slate-400 hover:text-blue-500 transition-colors",children:o.jsx(Wr,{className:"w-3.5 h-3.5"})}),h.person?.email&&o.jsx("a",{href:`mailto:${h.person.email}`,className:"p-1.5 text-slate-400 hover:text-blue-500 transition-colors",children:o.jsx(El,{className:"w-3.5 h-3.5"})})]})}];return o.jsxs("div",{className:"space-y-2 mt-2 px-2 py-1",children:[o.jsxs("div",{className:"flex px-1 items-center justify-between",children:[o.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] flex items-center gap-3",children:"Expected Participants"}),o.jsxs("span",{className:"text-[10px] font-mono text-slate-400",children:[s.length," Total ",o.jsx("span",{className:"hidden @md:inline",children:"Registered"})]})]}),o.jsx(yo,{data:s.map(h=>({...h,id:`${h.event_id}-${h.person_id}`})),columns:u.filter(h=>!h.hidden),loading:a})]})}const Dg={money:{icon:Px,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20"},blood:{icon:Gx,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-900/20"},food:{icon:sb,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20"},kits:{icon:wh,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20"},other:{icon:Vx,color:"text-slate-500",bg:"bg-slate-50 dark:bg-neutral-800"}},i5={pledged:{color:"text-amber-600 dark:text-amber-400",icon:RS,label:"Pledged"},collected:{color:"text-blue-600 dark:text-blue-400",icon:Zr,label:"Collected"},distributed:{color:"text-emerald-600 dark:text-emerald-400",icon:US,label:"Distributed"}};function o5({resources:s,loading:a,onStatusUpdate:n}){const l=[{key:"donor",header:"Contributor",render:c=>o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-bold text-slate-900 dark:text-white uppercase tracking-tight text-xs",children:c.donor?.full_name||"Anonymous"}),o.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:c.donor?.phone||c.donor?.email||"No contact"})]})},{key:"type",header:"Resource",render:c=>{const u=Dg[c.type]||Dg.other;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`p-1.5 rounded-lg ${u.bg} ${u.color}`,children:o.jsx(u.icon,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-600 dark:text-slate-400",children:c.type})]})}},{key:"quantity",header:"Amount",render:c=>o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white tracking-tighter",children:c.quantity}),o.jsx("span",{className:"text-[10px] ml-1 text-slate-400 font-bold uppercase",children:c.unit})]})},{key:"status",header:"Status",render:c=>{const u=i5[c.status];return o.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest ${u.color}`,children:[o.jsx(u.icon,{className:"w-3.5 h-3.5"}),u.label]})}},{key:"actions",header:"Manage",render:c=>o.jsxs("div",{className:"flex items-center gap-1",children:[c.status==="pledged"&&o.jsx("button",{onClick:()=>n?.(c.id,"collected"),className:"px-2 py-1 bg-slate-100 dark:bg-neutral-800 text-slate-600 dark:text-slate-400 rounded-lg text-[8px] font-black uppercase tracking-widest hover:bg-slate-900 dark:hover:bg-white hover:text-white dark:hover:text-black transition-all",children:"Collect"}),c.status==="collected"&&o.jsx("button",{onClick:()=>n?.(c.id,"distributed"),className:"px-2 py-1 bg-rose-500 text-white rounded-lg text-[8px] font-black uppercase tracking-widest hover:bg-rose-600 transition-all",children:"Distribute"})]})}];return o.jsx(yo,{data:s,columns:l,loading:a})}const c5=[{id:"money",label:"Financial",icon:Px},{id:"blood",label:"Blood Donation",icon:Gx},{id:"food",label:"Food/Supplies",icon:sb},{id:"kits",label:"Medical/Utility Kits",icon:wh},{id:"other",label:"Other",icon:Vx}];function u5({isOpen:s,onClose:a,onAdd:n,people:l,eventId:c}){const[u,h]=N.useState("donor"),[p,m]=N.useState(null),[g,b]=N.useState(""),[y,w]=N.useState({type:"money",quantity:0,unit:"",status:"collected"});if(!s)return null;const k=l.filter(j=>j.full_name.toLowerCase().includes(g.toLowerCase())||j.phone.includes(g)).slice(0,5),S=j=>{j.preventDefault(),p?.id&&(n({event_id:c,donor_id:p.id,type:y.type,quantity:Number(y.quantity),unit:y.unit||(y.type==="money"?"Currency":"Units"),status:y.status}),T())},T=()=>{h("donor"),m(null),b(""),w({type:"money",quantity:0,unit:"",status:"collected"})};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-950/20 backdrop-blur-sm animate-in fade-in duration-300",children:o.jsxs("div",{className:"bg-white dark:bg-neutral-900 w-full max-w-lg rounded-[2.5rem] shadow-2xl border border-slate-200 dark:border-neutral-800 overflow-hidden animate-in zoom-in-95 duration-300",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-neutral-800 flex items-center justify-between bg-slate-50 dark:bg-neutral-800/50",children:[o.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:u==="donor"?"1. Select Contributor":"2. Contribution Details"}),o.jsx("button",{onClick:a,className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:o.jsx(pa,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-8",children:u==="donor"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(js,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{autoFocus:!0,type:"text",placeholder:"Find person by name or phone...",value:g,onChange:j=>b(j.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 dark:bg-neutral-800 border-none rounded-2xl text-sm focus:ring-2 focus:ring-rose-500/20"})]}),o.jsxs("div",{className:"space-y-2",children:[k.map(j=>o.jsxs("button",{onClick:()=>{m(j),h("details")},className:"w-full flex items-center justify-between p-4 bg-white dark:bg-neutral-900 border border-slate-100 dark:border-neutral-800 rounded-2xl hover:border-rose-500 transition-all text-left group",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-neutral-800 flex items-center justify-center font-bold text-slate-500",children:j.full_name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-tight",children:j.full_name}),o.jsx("p",{className:"text-xs text-slate-400 font-medium",children:j.phone})]})]}),o.jsx(yh,{className:"w-5 h-5 text-emerald-500 opacity-0 group-hover:opacity-100 transition-opacity"})]},j.id)),g&&k.length===0&&o.jsx("div",{className:"text-center py-10",children:o.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs italic",children:"No matching records"})})]})]}):o.jsxs("form",{onSubmit:S,className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-neutral-800 rounded-2xl animate-in fade-in",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-500 flex items-center justify-center text-white font-black text-xl",children:p?.full_name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Selected Donor"}),o.jsx("p",{className:"text-lg font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:p?.full_name})]}),o.jsx("button",{type:"button",onClick:()=>h("donor"),className:"ml-auto text-[10px] font-black text-rose-500 uppercase tracking-widest hover:underline",children:"Change"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:c5.map(j=>{const _=j.icon,O=y.type===j.id;return o.jsxs("button",{type:"button",onClick:()=>w({...y,type:j.id}),className:`flex flex-col items-center gap-2 p-4 rounded-3xl border-2 transition-all ${O?"bg-slate-900 dark:bg-white text-white dark:text-black border-slate-900 dark:border-white shadow-xl scale-105":"bg-white dark:bg-neutral-800 text-slate-400 border-slate-100 dark:border-neutral-800 hover:border-slate-200"}`,children:[o.jsx(_,{className:"w-6 h-6"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:j.label})]},j.id)})}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"Quantity"}),o.jsx("input",{required:!0,type:"number",value:y.quantity,onChange:j=>w({...y,quantity:Number(j.target.value)}),className:"w-full p-4 bg-slate-50 dark:bg-neutral-800 border-none rounded-2xl text-xl font-black focus:ring-2 focus:ring-rose-500/20"})]}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"Unit (e.g. units, liters)"}),o.jsx("input",{required:!0,type:"text",placeholder:"Currency / Kg / Unit",value:y.unit,onChange:j=>w({...y,unit:j.target.value}),className:"w-full p-4 bg-slate-50 dark:bg-neutral-800 border-none rounded-2xl text-sm font-bold focus:ring-2 focus:ring-rose-500/20 uppercase"})]})]}),o.jsxs("button",{type:"submit",className:"w-full py-5 bg-rose-500 text-white rounded-3xl font-black uppercase tracking-[0.2em] shadow-xl shadow-rose-500/20 hover:bg-rose-600 transition-all hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-3",children:[o.jsx(Qs,{className:"w-5 h-5"}),"Record Donation"]})]})})]})})}function d5(){const{id:s}=Cx(),a=Pa(),[n,l]=N.useState(null),[c,u]=N.useState([]),[h,p]=N.useState(!0),[m,g]=N.useState(null),[b,y]=N.useState([]),[w,k]=N.useState(!1),[S,T]=N.useState(!1),[j,_]=N.useState([]),[O,D]=N.useState(""),[V,G]=N.useState(!1),Q=async()=>{if(s){p(!0),g(null);try{const[te,ie,A,P]=await Promise.all([fa.getEventById(s),fa.getEventParticipants(s),al.getResourcesByEvent(s),xt.getAllPeople()]);l(te),u(ie),y(A),_(P)}catch(te){console.error("Failed to fetch event details",te),g("Could not load event details. It may have been deleted.")}finally{p(!1)}}};N.useEffect(()=>{Q()},[s]);const K=async(te,ie)=>{if(s){G(!0);try{await fa.updateParticipantStatus(s,te,ie);const A=await fa.getEventParticipants(s);u(A)}catch(A){console.error("Failed to update status",A)}finally{G(!1)}}},F=async te=>{if(s){if(c.some(ie=>ie.person_id===te)){alert("Already registered for this event");return}G(!0);try{await fa.registerForEvent(s,te);const ie=await fa.getEventParticipants(s);u(ie),T(!1)}catch(ie){console.error("Failed to register participant",ie)}finally{G(!1)}}},he=async te=>{G(!0);try{if(await al.addResource(te),s){const ie=await al.getResourcesByEvent(s);y(ie)}k(!1)}catch(ie){console.error("Failed to add resource",ie)}finally{G(!1)}},me=async(te,ie)=>{G(!0);try{if(await al.updateResourceStatus(te,ie),s){const A=await al.getResourcesByEvent(s);y(A)}}catch(A){console.error("Failed to update resource status",A)}finally{G(!1)}},et=j.filter(te=>te.full_name.toLowerCase().includes(O.toLowerCase())||te.phone.includes(O)||te.email?.toLowerCase().includes(O.toLowerCase())).slice(0,5),Le=n?new Date(n.start_time):null,tt=n?.end_time?new Date(n.end_time):null,ft=Le?Le<new Date:!1,at=n?.status==="draft"||n?.status==="active",$={donation_drive:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800",cleanup:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-800",emergency:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400 border border-rose-200 dark:border-rose-800",workshop:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 border border-purple-200 dark:border-purple-800",other:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400 border border-slate-200 dark:border-slate-700"},I=window.location.href,re=n?`Join us for "${n.title}" on ${Le?.toLocaleDateString()}!`:"";return h?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[o.jsx(Nt,{className:"w-10 h-10 animate-spin text-rose-500 mb-4"}),o.jsx("p",{className:"text-slate-500 text-sm italic font-medium",children:"Loading event details..."})]}):m||!n?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-6 bg-white dark:bg-neutral-900 rounded-3xl border border-dashed border-slate-200 dark:border-neutral-800",children:[o.jsx(Va,{className:"w-16 h-16 text-rose-500 mb-6 opacity-20"}),o.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Event Not Found"}),o.jsx("p",{className:"text-slate-500 text-base max-w-xs",children:m||"This event may have been removed or does not exist."}),o.jsxs("button",{onClick:()=>a("/admin/events"),className:"mt-8 px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-black rounded-2xl font-bold hover:shadow-xl transition-all active:scale-95 flex items-center gap-3",children:[o.jsx(qx,{className:"w-5 h-5"}),"Back to Events"]})]}):o.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-6 duration-700 ease-out pb-32",children:[o.jsxs("nav",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-slate-400 mb-8 px-1",children:[o.jsx(Sl,{to:"/admin/events",className:"hover:text-rose-500 transition-colors",children:"Events"}),o.jsx(yl,{className:"w-3 h-3"}),o.jsx("span",{className:"text-slate-900 dark:text-white truncate max-w-[200px]",children:n.title})]}),o.jsxs("div",{className:"relative mb-8 group",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-rose-500 to-purple-600 rounded-[2.5rem] blur opacity-15 dark:opacity-25 transition-opacity duration-1000 group-hover:opacity-30"}),o.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-[2rem] shadow-sm border border-slate-100 dark:border-neutral-800 overflow-hidden",children:[o.jsxs("div",{className:"h-40 bg-slate-900 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-500/30 to-slate-900/0"}),o.jsx("div",{className:"absolute top-8 right-8 flex gap-3 z-20",children:o.jsx(lb,{title:n.title,text:re,url:I,className:"bg-white/10 hover:bg-white/20 text-white border-white/20 backdrop-blur-md px-5"})}),o.jsx("div",{className:"absolute bottom-10 left-10",children:o.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] shadow-lg ${$[n.type||"other"]}`,children:n?.type?.replace("_"," ")||"Event"})})]}),o.jsx("div",{className:"px-8 py-8",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-8",children:[o.jsxs("div",{className:"space-y-4 max-w-2xl",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white tracking-tighter leading-none",children:n.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm font-bold",children:[o.jsxs("div",{className:"flex items-center gap-2.5 text-emerald-600 dark:text-emerald-400",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-600 shadow-[0_0_8px_rgba(5,150,105,0.6)] animate-pulse"}),n.status==="active"?"LIVE NOW":n.status?.toUpperCase()]}),ft&&o.jsx("div",{className:"px-3 py-1 bg-slate-100 dark:bg-neutral-800 text-slate-500 rounded-lg text-[10px] tracking-widest uppercase",children:"Archived Event"})]})]}),o.jsx("div",{className:"flex flex-col gap-2 min-w-[200px]",children:o.jsx("div",{className:"p-4 bg-slate-50 dark:bg-neutral-800/30 rounded-2xl border border-slate-100 dark:border-neutral-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-rose-500/10 text-rose-500",children:o.jsx(ma,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Attendance"}),o.jsxs("p",{className:"text-xl font-black text-slate-900 dark:text-white",children:[c.length," Registered"]})]})]})})})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[o.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[o.jsxs("section",{className:"bg-white dark:bg-neutral-900 p-6 md:p-8 rounded-[2rem] border border-slate-100 dark:border-neutral-800 shadow-sm transition-all hover:shadow-md",children:[o.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-8 flex items-center gap-3",children:[o.jsx(Xx,{className:"w-5 h-5 text-rose-500"})," Executive Summary"]}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-lg leading-relaxed font-medium",children:n.description||"No detailed briefing available for this activity."})]}),o.jsxs("section",{className:"bg-white dark:bg-neutral-900 rounded-[2.5rem] border border-slate-100 dark:border-neutral-800 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-8 border-b border-slate-50 dark:border-neutral-800/50 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] flex items-center gap-3",children:[o.jsx(wh,{className:"w-5 h-5 text-rose-500"})," Contributions & Logistics"]}),o.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 dark:bg-white text-white dark:text-black rounded-xl text-[10px] font-black uppercase tracking-widest hover:shadow-xl transition-all active:scale-95",children:[o.jsx(Qs,{className:"w-3.5 h-3.5"}),"Record Donation"]})]}),o.jsxs("div",{className:"px-2 py-4",children:[o.jsx(o5,{resources:b,loading:V,onStatusUpdate:me}),b.length===0&&o.jsx("div",{className:"py-12 text-center",children:o.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs italic",children:"No contributions recorded yet"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white dark:bg-neutral-900 p-6 rounded-[2rem] border border-slate-100 dark:border-neutral-800 shadow-sm group hover:border-rose-200 dark:hover:border-rose-900/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"p-4 rounded-2xl bg-rose-50 text-rose-500 dark:bg-rose-900/20 group-hover:scale-110 transition-transform",children:o.jsx(qt,{className:"w-6 h-6"})}),o.jsx("h4",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Timeline"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Date"}),o.jsx("p",{className:"text-lg font-black text-slate-900 dark:text-white",children:Le?.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Duration"}),o.jsxs("div",{className:"flex items-center gap-2 text-base font-bold text-slate-600 dark:text-slate-400",children:[o.jsx(Mo,{className:"w-4 h-4"}),o.jsxs("span",{children:[Le?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),tt&&`  ${tt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`]})]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 p-6 rounded-[2rem] border border-slate-100 dark:border-neutral-800 shadow-sm group hover:border-blue-200 dark:hover:border-blue-900/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"p-4 rounded-2xl bg-blue-50 text-blue-500 dark:bg-blue-900/20 group-hover:scale-110 transition-transform",children:o.jsx(_s,{className:"w-6 h-6"})}),o.jsx("h4",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Deployment"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Venue"}),o.jsx("p",{className:"text-lg font-black text-slate-900 dark:text-white truncate",children:n.location_name||"TBD"})]}),n.location_name&&o.jsxs("a",{href:`https://maps.google.com/?q=${encodeURIComponent(n.location_name)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-xl text-xs font-black uppercase tracking-tighter hover:bg-blue-100 transition-colors",children:["Navigation Link ",o.jsx(Ix,{className:"w-3.5 h-3.5"})]})]})]})]})]}),o.jsx("div",{className:"lg:col-span-5",children:o.jsxs("section",{className:"bg-white dark:bg-neutral-900 rounded-[2rem] border border-slate-100 dark:border-neutral-800 shadow-sm overflow-hidden flex flex-col h-full min-h-[400px]",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-neutral-800 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] flex items-center gap-3",children:[o.jsx(ma,{className:"w-5 h-5 text-rose-500"})," Deployment Roster"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[at&&o.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-rose-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-rose-600 transition-colors shadow-lg shadow-rose-500/20",children:[o.jsx(Qs,{className:"w-3 h-3"}),"Register"]}),o.jsx("button",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-rose-500 transition-colors",children:"Export"})]})]}),S&&o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-neutral-800/50 border-b border-slate-100 dark:border-neutral-800 animate-in slide-in-from-top duration-300",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search registry by name, phone, or email...",value:O,onChange:te=>D(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20"})]}),o.jsx("button",{onClick:()=>T(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white",children:o.jsx(pa,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-2",children:[et.map(te=>o.jsxs("button",{onClick:()=>te.id&&F(te.id),disabled:V||c.some(ie=>ie.person_id===te.id),className:"w-full flex items-center justify-between p-3 bg-white dark:bg-neutral-900 border border-slate-100 dark:border-neutral-800 rounded-xl hover:border-rose-200 dark:hover:border-rose-900/50 transition-all text-left group disabled:opacity-50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-neutral-800 flex items-center justify-center font-bold text-slate-500",children:te.full_name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:te.full_name}),o.jsx("p",{className:"text-[10px] text-slate-400",children:te.phone||te.email})]})]}),o.jsx(Qs,{className:"w-4 h-4 text-slate-300 group-hover:text-rose-500 transition-colors"})]},te.id)),O&&et.length===0&&o.jsx("p",{className:"text-center py-4 text-xs text-slate-400 italic",children:"No matches found in registry."})]})]}),o.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar",children:o.jsx(l5,{participants:c,loading:h||V,eventStatus:n.status,onStatusUpdate:K})})]})})]}),o.jsx(u5,{isOpen:w,onClose:()=>k(!1),onAdd:he,people:j,eventId:s||""})]})}function h5(){const[s,a]=N.useState(null),[n,l]=N.useState([]),[c,u]=N.useState([]),[h,p]=N.useState(!0);if(N.useEffect(()=>{async function g(){try{const[b,y,w]=await Promise.all([cl.getDashboardStats(),cl.getBloodTypeDistribution(),cl.getMonthlyTrends()]);a(b),l(y),u(w)}catch(b){console.error("Analytics load failed:",b)}finally{p(!1)}}g()},[]),h)return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[o.jsx(Nt,{className:"w-8 h-8 text-blue-500 animate-spin"}),o.jsx("p",{className:"text-sm text-slate-500 animate-pulse font-medium",children:"Processing demographic intelligence..."})]});const m=c.length>0?Math.max(...c.map(g=>g.value),1):1;return o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsxs("div",{className:"flex items-end justify-between pb-4 border-b border-slate-200 dark:border-neutral-800",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black tracking-tighter text-slate-900 dark:text-white uppercase italic",children:"Demographics & Trends"}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-1 font-black uppercase tracking-[0.2em]",children:"Deep Data Insights"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-600 dark:text-slate-300 bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-2xl hover:bg-slate-50 dark:hover:bg-neutral-800 transition-all shadow-sm",children:[o.jsx(qt,{className:"w-3.5 h-3.5"}),"Rolling 6 Months"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(bs,{label:"Registry Scale",value:s?.totalPeople||0,icon:ma,variant:"blue"}),o.jsx(bs,{label:"Network Pulse",value:s?.activeDonors||0,icon:Xr,variant:"emerald"}),o.jsx(bs,{label:"Volunteer Base",value:s?.activeVolunteers||0,icon:vs,variant:"rose"}),o.jsx(bs,{label:"Alert Level",value:s?.urgentRequests||0,icon:Va,variant:"amber",urgent:!!s?.urgentRequests&&s.urgentRequests>0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-[3rem] p-8 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("h3",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] flex items-center gap-2",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Registration Growth"]}),o.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-black text-emerald-500 uppercase",children:[o.jsx(Hx,{className:"w-3 h-3"}),"Real-time Feed"]})]}),o.jsx("div",{className:"h-64 flex items-end justify-between gap-4 px-2",children:c.map((g,b)=>o.jsx("div",{className:"flex-1 bg-slate-50 dark:bg-neutral-800/50 rounded-2xl relative group h-full",children:o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-blue-500 rounded-2xl transition-all duration-1000 group-hover:bg-rose-500 cursor-pointer shadow-lg shadow-blue-500/20",style:{height:`${g.value/m*100}%`,minHeight:g.value>0?"4px":"0px"},children:o.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-[8px] font-black px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:g.value})})},b))}),o.jsx("div",{className:"flex justify-between mt-6 px-2",children:c.map((g,b)=>o.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:g.label},b))})]}),o.jsxs("div",{className:"p-8 border border-slate-200 dark:border-neutral-800 rounded-[3rem] bg-white dark:bg-neutral-900 shadow-sm",children:[o.jsx("h4",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] mb-8",children:"Blood Type Registry"}),o.jsx("div",{className:"space-y-6",children:n.length>0?n.map((g,b)=>o.jsxs("div",{className:"group cursor-default",children:[o.jsxs("div",{className:"flex justify-between text-[10px] font-black mb-1.5 uppercase tracking-wide",children:[o.jsx("span",{className:"text-slate-900 dark:text-white transition-colors group-hover:text-blue-500",children:g.group}),o.jsxs("span",{className:"text-slate-400",children:[g.count," Records (",g.percentage,"%)"]})]}),o.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-neutral-800 rounded-full overflow-hidden border border-slate-200/50 dark:border-neutral-700/50",children:o.jsx("div",{className:`h-full transition-all duration-1000 shadow-sm
                        ${b===0?"bg-rose-500 shadow-rose-500/20":b===1?"bg-blue-500 shadow-blue-500/20":b===2?"bg-emerald-500 shadow-emerald-500/20":"bg-slate-400 shadow-slate-400/20"}
                    `,style:{width:`${g.percentage}%`}})})]},g.group)):o.jsx("div",{className:"text-center py-12 text-slate-400 italic text-sm",children:"No blood type data available."})}),o.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-neutral-800",children:[o.jsx("h5",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-4",children:"Urgent Needs"}),o.jsx("div",{className:"p-4 bg-orange-50 dark:bg-amber-950/20 border border-orange-100 dark:border-amber-900/30 rounded-2xl",children:o.jsx("p",{className:"text-[10px] font-bold text-orange-800 dark:text-amber-400 italic",children:'"O Negative" and "AB Positive" types are currently below 15% threshold in local centers.'})})]})]})]})]})}function f5(){const{id:s}=Cx(),a=Pa(),[n,l]=N.useState(null),[c,u]=N.useState(!0),[h,p]=N.useState(null),[m,g]=N.useState(!1),[b,y]=N.useState(!1),w=async()=>{if(s){u(!0),p(null);try{const S=await xt.getPersonById(s);S?l(S):p("Member not found in registry.")}catch(S){console.error("Failed to fetch person details",S),p("Network error: Could not retrieve profile.")}finally{u(!1)}}},k=async()=>{y(!0)};return N.useEffect(()=>{w()},[s]),c?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[o.jsx(Nt,{className:"w-10 h-10 animate-spin text-rose-500 mb-4"}),o.jsx("p",{className:"text-slate-500 text-sm italic font-medium",children:"Retrieving digital profile..."})]}):h||!n?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-6 bg-white dark:bg-neutral-900 rounded-[2rem] border border-dashed border-slate-200 dark:border-neutral-800",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mb-6",children:o.jsx(en,{className:"w-10 h-10 text-slate-300"})}),o.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-tight",children:"Record Unreachable"}),o.jsx("p",{className:"text-slate-500 text-base max-w-xs font-medium",children:h||"This member profile is private or deleted."}),o.jsxs("button",{onClick:()=>a("/admin/people"),className:"mt-8 px-10 py-3 bg-slate-900 dark:bg-white text-white dark:text-black rounded-2xl font-black uppercase tracking-tighter hover:shadow-xl transition-all active:scale-95 flex items-center gap-3",children:[o.jsx(qx,{className:"w-5 h-5"}),"Back to Registry"]})]}):o.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-6 duration-700 ease-out pb-32",children:[o.jsxs("nav",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-8 px-1",children:[o.jsx(Sl,{to:"/admin/people",className:"hover:text-rose-500 transition-colors",children:"Registry"}),o.jsx(yl,{className:"w-3 h-3"}),o.jsx("span",{className:"text-slate-900 dark:text-white truncate max-w-[200px]",children:n.full_name})]}),o.jsx("div",{className:"relative mb-8",children:o.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-[2.5rem] shadow-sm border border-slate-100 dark:border-neutral-800 overflow-hidden",children:[o.jsxs("div",{className:"h-32 bg-slate-900 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-500/20 to-slate-900/0"}),o.jsx("div",{className:"absolute top-8 right-8",children:o.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg ${n.is_blocked?"bg-red-500 text-white":"bg-emerald-500 text-white"}`,children:n.is_blocked?"RESTRICTED":"ACTIVE STATUS"})})]}),o.jsxs("div",{className:"px-8 pb-10",children:[o.jsxs("div",{className:"relative -mt-16 mb-8 flex flex-col md:flex-row items-end gap-6",children:[o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-tr from-rose-500 to-purple-600 rounded-[2rem] blur opacity-20 group-hover:opacity-40 transition-opacity"}),o.jsx("div",{className:"relative h-32 w-32 rounded-[2rem] bg-white dark:bg-neutral-800 border-4 border-white dark:border-neutral-900 flex items-center justify-center text-5xl font-black font-serif text-slate-900 dark:text-white shadow-2xl overflow-hidden",children:n.full_name?n.full_name.charAt(0).toUpperCase():"?"})]}),o.jsxs("div",{className:"flex-1 space-y-3 pb-2 text-center md:text-left",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white tracking-tighter leading-none",children:n.full_name}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4",children:[o.jsx("span",{className:`px-4 py-1 rounded-xl text-xs font-black uppercase tracking-widest border-2 ${n.is_volunteer?"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20":"bg-slate-50 text-slate-600 border-slate-100 dark:bg-slate-800"}`,children:n.is_volunteer?"Verified Volunteer":"Community Member"}),n.blood_group&&o.jsxs("span",{className:"flex items-center gap-2 px-4 py-1 rounded-xl bg-slate-900 dark:bg-white text-white dark:text-black text-xs font-black uppercase tracking-tighter",children:[o.jsx(vs,{className:"w-3.5 h-3.5 fill-rose-500 text-rose-500"}),"BP: ",n.blood_group]})]})]}),o.jsxs("div",{className:"flex gap-3 mb-2",children:[o.jsxs("button",{onClick:()=>g(!0),className:"p-4 rounded-2xl bg-white dark:bg-neutral-800 text-slate-900 dark:text-white border border-slate-200 dark:border-neutral-700 hover:scale-105 transition-transform shadow-sm active:scale-95 flex items-center gap-2",children:[o.jsx(eb,{className:"w-5 h-5"}),o.jsx("span",{className:"text-xs font-black uppercase tracking-tight hidden sm:inline",children:"Edit Profile"})]}),o.jsx("button",{className:"p-4 rounded-2xl bg-slate-900 dark:bg-white text-white dark:text-black hover:scale-105 transition-transform shadow-xl active:scale-95",children:o.jsx(Wx,{className:"w-6 h-6"})}),n.admins?.role===null&&o.jsxs("button",{onClick:k,className:"p-4 rounded-2xl bg-rose-500 text-white hover:scale-105 transition-transform shadow-lg active:scale-95 flex items-center gap-2 group",title:"Promote to Admin/Volunteer",children:[o.jsx(ys,{className:"w-6 h-6 group-hover:rotate-12 transition-transform"}),o.jsx("span",{className:"text-xs font-black uppercase tracking-tight hidden sm:inline",children:"Promote Access"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2",children:[o.jsxs("div",{className:"p-4 rounded-3xl bg-slate-50 dark:bg-neutral-800/30 border border-slate-100 dark:border-neutral-800",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Activities"}),o.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white",children:n.participation?.length||0})]}),o.jsxs("div",{className:"p-4 rounded-3xl bg-slate-50 dark:bg-neutral-800/30 border border-slate-100 dark:border-neutral-800",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Volunteering Hours"}),o.jsxs("p",{className:"text-2xl font-black text-rose-500",children:[n.participation?.reduce((S,T)=>{if(T.status==="attended"&&T.event.start_time&&T.event.end_time){const j=new Date(T.event.start_time).getTime(),_=new Date(T.event.end_time).getTime();return S+(_-j)/(1e3*60*60)}return S},0).toFixed(1)||"0.0"," hrs"]})]}),o.jsxs("div",{className:"p-4 rounded-3xl bg-slate-50 dark:bg-neutral-800/30 border border-slate-100 dark:border-neutral-800",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Last Interaction"}),o.jsx("p",{className:"text-lg font-black text-slate-900 dark:text-white",children:n.participation?.[0]?.event?.start_time?new Date(n.participation[0].event.start_time).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"No History"})]})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[o.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[o.jsxs("section",{className:"bg-white dark:bg-neutral-900 p-6 md:p-8 rounded-[2rem] border border-slate-100 dark:border-neutral-800 shadow-sm",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-6 px-1",children:"Verified Contact Channels"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("a",{href:`tel:${n.phone}`,className:"group flex items-center gap-5 p-6 rounded-3xl bg-slate-50 dark:bg-neutral-800/50 border border-slate-100 dark:border-neutral-800 hover:bg-white dark:hover:bg-neutral-800 transition-all hover:shadow-xl hover:-translate-y-1",children:[o.jsx("div",{className:"p-4 rounded-2xl bg-white dark:bg-neutral-800 shadow-sm text-rose-500 group-hover:scale-110 transition-transform",children:o.jsx(Wr,{className:"w-6 h-6"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] mb-1",children:"Mobile Access"}),o.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white truncate",children:n.phone})]})]}),n.email&&o.jsxs("a",{href:`mailto:${n.email}`,className:"group flex items-center gap-5 p-6 rounded-3xl bg-slate-50 dark:bg-neutral-800/50 border border-slate-100 dark:border-neutral-800 hover:bg-white dark:hover:bg-neutral-800 transition-all hover:shadow-xl hover:-translate-y-1",children:[o.jsx("div",{className:"p-4 rounded-2xl bg-white dark:bg-neutral-800 shadow-sm text-rose-500 group-hover:scale-110 transition-transform",children:o.jsx(El,{className:"w-6 h-6"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] mb-1",children:"Email Terminal"}),o.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white truncate",children:n.email})]})]}),(n.address_line||n.locality_area)&&o.jsxs("a",{href:`https://maps.google.com/?q=${encodeURIComponent([n.address_line,n.locality_area].filter(Boolean).join(", "))}`,target:"_blank",rel:"noopener noreferrer",className:"group md:col-span-2 flex items-center gap-5 p-6 rounded-3xl bg-slate-50 dark:bg-neutral-800/50 border border-slate-100 dark:border-neutral-800 hover:bg-white dark:hover:bg-neutral-800 transition-all hover:shadow-xl hover:-translate-y-1",children:[o.jsx("div",{className:"p-4 rounded-2xl bg-white dark:bg-neutral-800 shadow-sm text-rose-500 group-hover:scale-110 transition-transform",children:o.jsx(_s,{className:"w-6 h-6"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em]",children:"Registered Address"}),o.jsx(Ix,{className:"w-4 h-4 text-slate-300"})]}),o.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white",children:[n.address_line,n.locality_area].filter(Boolean).join(", ")})]})]})]})]}),o.jsxs("section",{className:"bg-white dark:bg-neutral-900 p-6 md:p-8 rounded-[2rem] border border-slate-100 dark:border-neutral-800 shadow-sm",children:[o.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-6 px-1 flex items-center gap-3",children:[o.jsx(Xr,{className:"w-5 h-5 text-rose-500"})," Interaction Log"]}),o.jsx("div",{className:"space-y-4",children:n.participation&&n.participation.length>0?n.participation.map((S,T)=>o.jsxs("div",{className:"flex items-center justify-between p-6 rounded-3xl bg-slate-50 dark:bg-neutral-800/30 border border-slate-100 dark:border-neutral-800 group hover:bg-white transition-all",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-12 w-12 rounded-2xl bg-white dark:bg-neutral-900 flex items-center justify-center font-black text-rose-500 shadow-sm border border-slate-100 dark:border-neutral-800",children:T+1}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-black text-slate-900 dark:text-white",children:S.event.title}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest",children:S.status}),o.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),o.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:new Date(S.event.start_time).toLocaleDateString()})]})]})]}),o.jsx(yl,{className:"w-5 h-5 text-slate-300 group-hover:translate-x-1 transition-transform"})]},T)):o.jsx("div",{className:"py-20 text-center bg-slate-50 dark:bg-neutral-800/20 rounded-3xl border border-dashed border-slate-200 dark:border-neutral-800",children:o.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No entries found in registry log"})})})]})]}),o.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[o.jsxs("section",{className:"bg-white dark:bg-neutral-900 p-6 rounded-[2rem] border border-slate-100 dark:border-neutral-800 shadow-sm",children:[o.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-6 px-1 flex items-center gap-3",children:[o.jsx(ys,{className:"w-5 h-5 text-rose-500"})," Volunteer Profile"]}),n.is_volunteer||n.admins?.role==="volunteer"?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center gap-4 p-5 rounded-2xl bg-rose-50 dark:bg-rose-900/10 border border-rose-100 dark:border-rose-900/20",children:[o.jsx("div",{className:"p-3 bg-white dark:bg-neutral-900 rounded-xl text-rose-600 shadow-sm",children:o.jsx(ys,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Active Duty"}),o.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["Clearance: ",n.admins?.role?n.admins.role.replace("_"," ").toUpperCase():"VERIFIED"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Specializations"}),n.skills&&n.skills.length>0?o.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map(S=>o.jsx("span",{className:"px-4 py-2 bg-slate-50 dark:bg-neutral-800 text-slate-600 dark:text-slate-400 text-[10px] font-black uppercase tracking-widest rounded-xl",children:S},S))}):o.jsx("div",{className:"text-xs text-slate-400 italic px-1",children:"General Operations"})]}),n.availability&&o.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-50 dark:border-neutral-800",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 text-emerald-600",children:"Availability Log"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(n.availability).map(([S,T])=>o.jsxs("div",{className:"p-3 rounded-xl bg-slate-50 dark:bg-neutral-800/50 flex justify-between items-center text-[10px] font-black uppercase",children:[o.jsx("span",{className:"text-slate-400",children:S}),o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:String(T)})]},S))})]})]}):o.jsx("div",{className:"py-12 px-6 text-center",children:o.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest leading-relaxed",children:"Member has not applied for volunteer certification yet."})})]}),n.last_donation_date&&o.jsxs("section",{className:"bg-gradient-to-br from-rose-500 to-rose-600 p-8 rounded-[2.5rem] shadow-xl text-white",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] mb-4 opacity-80",children:"Philanthropy Record"}),o.jsxs("div",{className:"flex items-end justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-black leading-none",children:"Last Gift"}),o.jsx("p",{className:"text-sm font-bold opacity-80 mt-1",children:new Date(n.last_donation_date).toLocaleDateString(void 0,{month:"long",year:"numeric"})})]}),o.jsx(vs,{className:"w-12 h-12 opacity-30"})]})]})]})]}),o.jsx(rb,{isOpen:m,onClose:()=>g(!1),editData:n,onSuccess:w}),o.jsx(nb,{isOpen:b,onClose:()=>y(!1),personId:n.id||null,personName:n.full_name,onSuccess:w})]})}function m5(){const s=Pa(),{role:a,user:n}=Qe(b=>b.auth),[l,c]=N.useState(null),[u,h]=N.useState(!0);N.useEffect(()=>{async function b(){try{const y=await xt.getMyProfile();c(y)}catch(y){console.error("Error loading profile:",y)}finally{h(!1)}}b()},[]);const p=async()=>{try{const{error:b}=await oe.auth.signOut();if(b)throw b;s("/login")}catch(b){console.error("Error signing out:",b),alert("Failed to sign out. Please try again.")}};if(u)return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[o.jsx(Nt,{className:"w-8 h-8 text-rose-500 animate-spin"}),o.jsx("p",{className:"text-sm text-slate-500 animate-pulse font-medium",children:"Synchronizing profile..."})]});const m=l?.full_name?l.full_name.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2):n?.email?.slice(0,2).toUpperCase()||"??",g=a==="super_admin"?"Super Administrator":a==="admin"?"Administrator":"Volunteer";return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500 p-2 md:p-0",children:[o.jsx("div",{className:"flex items-end justify-between pb-3 border-b border-slate-200 dark:border-neutral-800",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white",children:"Administrative Profile"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 uppercase tracking-widest font-bold",children:"Identity & Authorization Management"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-2xl p-8 flex flex-col items-center text-center shadow-sm",children:[o.jsx("div",{className:"w-32 h-32 bg-slate-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mb-6 text-4xl font-black text-rose-500 border-4 border-rose-500/10 shadow-inner",children:m}),o.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tight",children:l?.full_name||"System User"}),o.jsx("p",{className:"text-sm font-bold text-rose-500 uppercase tracking-widest mt-1",children:g}),o.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-2",children:[o.jsxs("span",{className:"px-3 py-1 bg-rose-500 text-white text-[10px] rounded-full font-black uppercase tracking-tighter",children:["Verified ",a?.replace("_"," ")]}),o.jsx("span",{className:"px-3 py-1 bg-emerald-500/10 text-emerald-500 text-[10px] rounded-full font-black uppercase tracking-tighter border border-emerald-500/20",children:"Session Active"})]})]}),o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"Registry Information"}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-2xl overflow-hidden shadow-sm",children:[o.jsx(kd,{icon:El,label:"Email Address",value:l?.email||n?.email||"Not verified"}),o.jsx(kd,{icon:Wr,label:"Primary Phone",value:l?.phone||"Not provided"}),o.jsx(kd,{icon:_s,label:"Service Location",value:l?.locality_area||l?.address_line||"Global"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"Security Protocol"}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-2xl overflow-hidden shadow-sm",children:[o.jsx("button",{className:"w-full p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-neutral-800 transition-all text-left group",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-2 bg-slate-100 dark:bg-neutral-800 rounded-lg group-hover:bg-rose-500 transition-colors",children:o.jsx(UN,{className:"w-4 h-4 text-slate-500 group-hover:text-white"})}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-sm font-bold text-slate-900 dark:text-white",children:"Credentials"}),o.jsx("span",{className:"block text-[10px] text-slate-500 uppercase font-black tracking-tighter",children:"Change Account Password"})]})]})}),o.jsxs("div",{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-2 bg-slate-100 dark:bg-neutral-800 rounded-lg",children:o.jsx(ys,{className:"w-4 h-4 text-slate-500"})}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-sm font-bold text-slate-900 dark:text-white",children:"Access Level"}),o.jsx("span",{className:"block text-[10px] text-slate-500 uppercase font-black tracking-tighter",children:"System-Wide Authorization"})]})]}),o.jsx("span",{className:"text-[10px] font-black bg-emerald-500 text-white px-2 py-0.5 rounded uppercase tracking-tighter",children:"Full Grant"})]})]})]}),o.jsxs("button",{onClick:p,className:"w-full p-5 flex items-center justify-center space-x-3 text-rose-500 hover:bg-rose-500 hover:text-white border-2 border-dashed border-rose-500/20 hover:border-rose-500 rounded-2xl transition-all font-black uppercase tracking-widest text-xs",children:[o.jsx(KN,{className:"w-4 h-4"}),o.jsx("span",{children:"Terminate Session"})]})]})]})]})}function kd({icon:s,label:a,value:n}){return o.jsxs("div",{className:"p-4 flex items-center justify-between border-b last:border-0 border-slate-100 dark:border-neutral-800",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-2 bg-slate-100 dark:bg-neutral-800 rounded-lg",children:o.jsx(s,{className:"w-4 h-4 text-slate-500"})}),o.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tighter",children:a})]}),o.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white tracking-tight",children:n})]})}function p5({isDark:s,toggleTheme:a}){const{user:n,role:l}=Qe(g=>g.auth),[c,u]=N.useState(null),[h,p]=N.useState(!1);N.useEffect(()=>{n?.id&&xt.getMyProfile().then(u).catch(console.error)},[n?.id]);const m=()=>{p(!0),setTimeout(()=>p(!1),1500)};return o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[o.jsx("div",{className:"flex items-end justify-between pb-4 border-b border-slate-200 dark:border-neutral-800",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black tracking-tighter text-slate-900 dark:text-white uppercase italic",children:"Configuration"}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-1 font-black uppercase tracking-[0.2em]",children:"System Preferences & Logic"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs("section",{className:"space-y-3",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] px-1",children:"Active Identity"}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-[2rem] p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-rose-500/10 flex items-center justify-center text-rose-500",children:o.jsx(en,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white tracking-tight",children:c?.full_name||"Administrator"}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:n?.email})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-neutral-800 rounded-xl border border-slate-100 dark:border-neutral-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ys,{className:"w-3.5 h-3.5 text-blue-500"}),o.jsx("span",{className:"text-[10px] font-black text-slate-600 dark:text-slate-400 uppercase tracking-widest",children:"Access Level"})]}),o.jsx("span",{className:"text-[10px] font-black bg-blue-500 text-white px-2 py-0.5 rounded uppercase tracking-tighter",children:l?.replace("_"," ")})]}),o.jsx("button",{className:"w-full py-3 text-[10px] font-black uppercase tracking-widest text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:"Manage Security"})]})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] px-1",children:"Data Synchronization"}),o.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-[2rem] p-6 shadow-sm",children:o.jsx("button",{onClick:m,disabled:h,className:"w-full p-4 flex items-center justify-between bg-slate-50 dark:bg-neutral-800 rounded-2xl border border-slate-100 dark:border-neutral-700 hover:border-emerald-500 transition-all group",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(lS,{className:`w-4 h-4 text-emerald-500 ${h?"animate-spin":""}`}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-[10px] font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Sync Global State"}),o.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Last checked: Just now"})]})]})})})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] px-1",children:"Interface & Appearance"}),o.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-[2.5rem] overflow-hidden shadow-sm",children:o.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-neutral-800 transition-colors cursor-pointer",onClick:a,children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`p-3 rounded-2xl ${s?"bg-slate-800 text-white":"bg-amber-100 text-amber-600"}`,children:s?o.jsx(ZN,{className:"w-5 h-5"}):o.jsx(jS,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white tracking-tight",children:"Dark Mode Spectrum"}),o.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tighter",children:"Adjust standard ocular comfort levels"})]})]}),o.jsx("div",{className:`relative inline-flex h-6 w-11 items-center rounded-full transition-all ${s?"bg-rose-500 shadow-[0_0_12px_rgba(244,63,94,0.4)]":"bg-slate-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]})})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] px-1",children:"Operational Logic"}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-[2.5rem] divide-y divide-slate-100 dark:divide-neutral-800 shadow-sm",children:[o.jsxs("div",{className:"p-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 text-blue-500 rounded-2xl",children:o.jsx(Jk,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white tracking-tight",children:"Critical Notifications"}),o.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tighter",children:"Real-time alerts for urgent assistance"})]})]}),o.jsx("div",{className:"w-10 h-5 bg-emerald-500/20 border border-emerald-500/30 rounded-full relative cursor-pointer",children:o.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-emerald-500 rounded-full shadow-sm shadow-emerald-500/50"})})]}),o.jsx("div",{className:"p-6 flex items-center justify-between group cursor-pointer hover:bg-slate-50 dark:hover:bg-neutral-800 transition-colors",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-3 bg-slate-100 dark:bg-neutral-800 text-slate-500 rounded-2xl transition-transform group-hover:scale-110",children:o.jsx(EN,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white tracking-tight",children:"Regional Locale"}),o.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tighter",children:"English (United States)"})]})]})})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em] px-1",children:"Manifest"}),o.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-[2.5rem] divide-y divide-slate-100 dark:divide-neutral-800 shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-neutral-800 transition-colors cursor-pointer",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ab,{className:"w-5 h-5 text-slate-400 ml-1"}),o.jsx("span",{className:"text-sm font-black text-slate-700 dark:text-slate-300 tracking-tight",children:"Privacy Policy"})]})}),o.jsx("div",{className:"p-4 bg-slate-50 dark:bg-neutral-800/50 text-center",children:o.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"HemoBase Operational Protocol v1.0.4"})})]})]})]})]})]})}const eo={async bulkUpsertPeople(s,a=!0){let n=oe.from("people");return a?await n.upsert(s,{onConflict:"phone"}).select():await n.insert(s).select()},async bulkCreateEvents(s,a=!0){let n=oe.from("events");return a?await n.upsert(s,{onConflict:"id"}).select():await n.insert(s).select()},async bulkRecordAttendance(s,a=!0){let n=oe.from("event_participants");return a?await n.upsert(s,{onConflict:"event_id,person_id"}).select():await n.insert(s).select()},async bulkUpsertAdmins(s,a=!0){const n=s.filter(l=>l.role!=="super_admin");if(n.length===0)return[];if(a){const{data:l}=await oe.from("admins").select("user_id").eq("role","super_admin"),c=new Set(l?.map(h=>h.user_id)||[]),u=n.filter(h=>!c.has(h.user_id));return u.length===0?[]:await oe.from("admins").upsert(u,{onConflict:"user_id"}).select()}return await oe.from("admins").insert(n).select()}},g5={people:`full_name,phone,email,blood_group,is_volunteer,skills
John Doe,1234567890,john@example.com,A+,true,"first-aid,driving"`,events:`title,description,location,start_time,end_time,status
Community Meetup,Monthly gathering,Central Park,2025-01-01T10:00:00Z,2025-01-01T12:00:00Z,active`,attendance:`event_id,person_id,role,status
uuid-of-event,uuid-of-person,attendee,attended`,admins:`user_id,role
uuid-of-user,admin`};function x5(){const[s,a]=N.useState("people"),[n,l]=N.useState(!1),[c,u]=N.useState(null),[h,p]=N.useState(!1),[m,g]=N.useState(null),b=S=>{S.target.files&&S.target.files[0]&&(u(S.target.files[0]),g(null))},y=()=>{const S=new Blob([g5[s]],{type:"text/csv"}),T=URL.createObjectURL(S),j=document.createElement("a");j.href=T,j.download=`sample_${s}.csv`,j.click()},w=S=>{const T=S.split(/\r?\n/);if(T.length<2)return[];const j=T[0].split(",").map(G=>G.trim()),_={event_name:"title",name:"title",city:"location_name",area:"location_name",event_date:"start_time",date:"start_time",event_id:"id",person_id:"id",user_id:"id",is_active:"status"},O={people:["id","user_id","full_name","first_name","middle_name","last_name","email","phone","address_line","locality_area","blood_group","is_blood_donor","last_donation_date","is_volunteer","skills","marital_status","children_count"],events:["id","title","description","start_time","end_time","type","status","location_name","organizer_id"],attendance:["event_id","person_id","role","status"],admins:["id","user_id","person_id","role","department"]},D=j.map(G=>_[G.toLowerCase()]||G),V=[];for(let G=1;G<T.length;G++){if(!T[G])continue;const Q=T[G].split(",").map(F=>{let he=(F||"").trim();return he.startsWith('"')&&he.endsWith('"')&&(he=he.substring(1,he.length-1)),he}),K={};D.forEach((F,he)=>{let me=Q[he];if(me===""||me===void 0?me=null:me==="true"?me=!0:me==="false"?me=!1:F==="skills"&&me&&(me=me.split(";")),F==="status"&&typeof me=="boolean"&&(me=me?"active":"cancelled"),me&&typeof me=="string"){const tt=me.trim().toLowerCase();if(F==="status"){const ft={"in progress":"active",processing:"active",done:"completed",finished:"completed",passed:"completed",stopped:"cancelled",inactive:"cancelled"},at=["draft","active","completed","cancelled"];me=ft[tt]||(at.includes(tt)?tt:"draft")}if(F==="type"&&s==="events"){const ft={drive:"donation_drive",donation:"donation_drive",cleaning:"cleanup",urgent:"emergency",class:"workshop",seminar:"workshop"},at=["donation_drive","cleanup","emergency","workshop","other"];me=ft[tt]||(at.includes(tt)?tt:"other")}}const et=["id","user_id","person_id","event_id","organizer_id","requestor_id","assigned_volunteer_id","donor_id"],Le=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;if(et.includes(F)&&me&&typeof me=="string"&&!Le.test(me)){if(F==="id")return;me=null}O[s].includes(F)&&(K[F]=me)}),Object.keys(K).length>0&&V.push(K)}return V},k=async()=>{if(c){p(!0),g(null);try{const S=await c.text(),T=w(S);if(T.length===0){g({success:!1,message:"The CSV file appears to be empty."});return}let j;switch(s){case"people":j=await eo.bulkUpsertPeople(T,n);break;case"events":j=await eo.bulkCreateEvents(T,n);break;case"attendance":j=await eo.bulkRecordAttendance(T,n);break;case"admins":j=await eo.bulkUpsertAdmins(T,n);break}g({success:!0,message:`Successfully processed ${T.length} records.`,details:Array.isArray(j)?`Imported IDs: ${j.map(_=>_.id||_.person_id).slice(0,3).join(", ")}...`:void 0}),u(null)}catch(S){console.error("Import Error:",S),g({success:!1,message:"Failed to process import.",details:S.message||"Check browser console for details."})}finally{p(!1)}}};return o.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-700 ease-out",children:[o.jsxs("header",{className:"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6 px-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 text-rose-500 mb-4",children:[o.jsx("div",{className:"p-3 bg-rose-500/10 rounded-2xl",children:o.jsx(Jx,{className:"w-8 h-8"})}),o.jsx("h1",{className:"text-4xl font-black tracking-tighter uppercase dark:text-white",children:"Bulk Intelligence"})]}),o.jsx("p",{className:"text-slate-500 font-medium max-w-lg",children:"Perform massive data synchronization across the community ecosystem. restricted to high-clearance personnel."})]}),o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:y,className:"px-6 py-4 bg-white dark:bg-neutral-900 border border-slate-200 dark:border-neutral-800 rounded-3xl font-black text-[10px] uppercase tracking-widest hover:shadow-xl transition-all active:scale-95 flex items-center gap-2 dark:text-white",children:[o.jsx(pN,{className:"w-4 h-4"}),"Get Schema"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[o.jsx("div",{className:"lg:col-span-4 space-y-6",children:o.jsxs("section",{className:"bg-white dark:bg-neutral-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-neutral-800 shadow-sm",children:[o.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-8 px-1",children:"1. Select Target Sector"}),o.jsx("div",{className:"space-y-3",children:["people","events","attendance","admins"].map(S=>o.jsxs("button",{onClick:()=>a(S),className:`w-full p-6 rounded-3xl border-2 transition-all text-left group ${s===S?"bg-slate-900 border-slate-900 dark:bg-white dark:border-white text-white dark:text-black shadow-xl ring-4 ring-slate-900/10 dark:ring-white/10":"bg-slate-50 dark:bg-neutral-800/50 border-transparent hover:border-slate-200 text-slate-400"}`,children:[o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest mb-1 opacity-60",children:"Database Sector"}),o.jsx("p",{className:"text-2xl font-black uppercase tracking-tighter leading-none",children:S})]},S))}),o.jsxs("div",{className:"mt-10 pt-8 border-t border-slate-50 dark:border-neutral-800",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-rose-50/50 dark:bg-rose-950/10 rounded-2xl border border-rose-100/50 dark:border-rose-900/20",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-rose-600",children:"Safety Protocol"}),o.jsx("p",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:"Update existing records"})]}),o.jsx("button",{onClick:()=>l(!n),className:`w-12 h-6 rounded-full transition-all relative ${n?"bg-rose-500":"bg-slate-300 dark:bg-neutral-800"}`,children:o.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${n?"left-7":"left-1"}`})})]}),o.jsx("p",{className:"mt-3 text-[9px] text-slate-400 leading-relaxed italic",children:"* When disabled, the system will only perform new inserts and fail on conflicts."})]})]})}),o.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[o.jsxs("section",{className:"bg-white dark:bg-neutral-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-neutral-800 shadow-sm min-h-[400px] flex flex-col items-center justify-center text-center relative overflow-hidden group",children:[o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-slate-50 dark:bg-neutral-800"}),!m&&!h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-24 h-24 bg-rose-500/10 rounded-[2.5rem] flex items-center justify-center mb-8 rotate-3 transition-transform group-hover:rotate-0",children:o.jsx(qS,{className:"w-10 h-10 text-rose-500"})}),o.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white uppercase tracking-tighter mb-4",children:"Transmission Terminal"}),o.jsx("p",{className:"text-slate-500 max-w-sm font-medium mb-10",children:"Upload your synchronized CSV document here for processing."}),o.jsxs("label",{className:"relative cursor-pointer",children:[o.jsx("input",{type:"file",accept:".csv",onChange:b,className:"hidden"}),o.jsxs("div",{className:"px-12 py-5 bg-rose-500 text-white rounded-[2rem] font-black uppercase tracking-widest shadow-xl shadow-rose-500/20 hover:bg-rose-600 transition-all hover:scale-105 active:scale-95 flex items-center gap-3",children:[o.jsx(js,{className:"w-5 h-5"}),"Select File"]})]}),c&&o.jsxs("p",{className:"mt-4 text-[10px] font-black text-emerald-500 uppercase tracking-widest flex items-center gap-2",children:[o.jsx(Zr,{className:"w-4 h-4"})," Ready: ",c.name]})]}),h&&o.jsxs("div",{className:"flex flex-col items-center animate-in fade-in zoom-in duration-300",children:[o.jsx(Nt,{className:"w-20 h-20 animate-spin text-rose-500 mb-8"}),o.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:"Syncing Core..."}),o.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-[10px] mt-4 italic",children:"Writing entries to high-availability storage"})]}),m&&o.jsxs("div",{className:"flex flex-col items-center animate-in zoom-in fade-in duration-500",children:[o.jsx("div",{className:`w-24 h-24 rounded-[2.5rem] flex items-center justify-center mb-8 ${m.success?"bg-emerald-500/10 text-emerald-500":"bg-red-500/10 text-red-500"}`,children:m.success?o.jsx(Zr,{className:"w-12 h-12"}):o.jsx(Va,{className:"w-12 h-12"})}),o.jsx("h3",{className:`text-3xl font-black uppercase tracking-tighter mb-4 ${m.success?"text-emerald-500":"text-red-500"}`,children:m.success?"Sync Completed":"Transmission Failure"}),o.jsx("p",{className:"text-slate-500 font-medium max-w-sm mb-2",children:m.message}),m.details&&o.jsx("p",{className:"text-[10px] font-mono bg-slate-100 dark:bg-neutral-800 p-4 rounded-xl text-slate-500 max-w-md break-all",children:m.details}),o.jsx("button",{onClick:()=>g(null),className:"mt-10 px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-black rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all hover:scale-105 active:scale-95",children:"New Session"})]})]}),o.jsxs("section",{className:"bg-slate-900 dark:bg-neutral-800 p-8 rounded-[2.5rem] border border-white/5 shadow-2xl text-white",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(Xx,{className:"w-6 h-6 text-rose-500"}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-80",children:"Security Protocol"})]}),o.jsx("p",{className:"text-lg font-black leading-tight tracking-tight uppercase max-w-md",children:"Bulk imports override existing registry records based on unique identifiers (Phone/UUID)."}),!m&&c&&o.jsxs("button",{onClick:k,disabled:h,className:"mt-8 w-full py-5 bg-white text-slate-900 rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-xl hover:scale-[1.02] transition-all active:scale-95 flex items-center justify-center gap-4",children:["Initiate Global Sync",o.jsx(Fs,{className:"w-5 h-5 text-rose-500"})]})]})]})]})]})}function b5({onEnterApp:s}){return o.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[o.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-20 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-orange-500 rounded-xl flex items-center justify-center text-white shadow-lg shadow-rose-200",children:o.jsx(vs,{className:"w-6 h-6 fill-white"})}),o.jsxs("span",{className:"font-bold text-xl tracking-tight text-slate-800",children:["Community",o.jsx("span",{className:"text-rose-500",children:"DB"})]})]}),o.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-semibold text-slate-600",children:[o.jsx("a",{href:"#mission",className:"hover:text-rose-600 transition-colors",children:"Mission"}),o.jsx("a",{href:"#activities",className:"hover:text-rose-600 transition-colors",children:"Activities"}),o.jsx("a",{href:"#impact",className:"hover:text-rose-600 transition-colors",children:"Impact"}),o.jsx("a",{href:"#stories",className:"hover:text-rose-600 transition-colors",children:"Stories"})]}),o.jsx("button",{onClick:s,className:"px-6 py-2.5 rounded-full bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 transition-all hover:scale-105 active:scale-95",children:"Join the Cause"})]})}),o.jsxs("section",{className:"relative pt-20 pb-32 overflow-hidden px-4",children:[o.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-7xl -z-10 pointer-events-none",children:[o.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-rose-200/40 rounded-full blur-3xl mix-blend-multiply animate-blob"}),o.jsx("div",{className:"absolute top-20 -right-20 w-96 h-96 bg-amber-200/40 rounded-full blur-3xl mix-blend-multiply animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute -bottom-32 left-1/2 -translate-x-1/2 w-96 h-96 bg-sky-200/40 rounded-full blur-3xl mix-blend-multiply animate-blob animation-delay-4000"})]}),o.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-rose-50 border border-rose-100 text-rose-600 text-xs font-bold uppercase tracking-wider mb-8",children:[o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-rose-500"})]}),"Active Drive: Blood Donation in Boston"]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-8 text-slate-900 leading-[1.1]",children:["Empowering Communities,",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-500 via-orange-500 to-amber-500",children:"One Act at a Time"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-600 max-w-3xl mx-auto mb-12 leading-relaxed",children:"Join hands for blood donations, cleanliness drives, and social welfare. We connect kind hearts with those in need."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs("button",{onClick:s,className:"px-8 py-4 rounded-full bg-rose-500 text-white font-bold text-lg hover:bg-rose-600 transition-all shadow-xl shadow-rose-200 hover:shadow-2xl hover:shadow-rose-300 flex items-center gap-2 group",children:["Get Involved Now",o.jsx(Fs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx("button",{className:"px-8 py-4 rounded-full bg-white text-slate-700 font-bold text-lg border border-slate-200 hover:bg-slate-50 transition-all hover:border-slate-300",children:"View Upcoming Events"})]})]})]}),o.jsx("section",{id:"activities",className:"py-24 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Our Core Initiatives"}),o.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"We focus on high-impact local activities where every contribution counts."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsx(Nd,{icon:xN,title:"Blood Donation",description:"Connecting donors with hospitals and patients in critical need.",color:"rose"}),o.jsx(Nd,{icon:vS,title:"Cleanliness Drives",description:"Organizing community cleanup events to improve local hygiene.",color:"emerald"}),o.jsx(Nd,{icon:Zd,title:"Social Support",description:"Food distribution, clothing drives, and emergency relief.",color:"amber"})]})]})}),o.jsxs("section",{id:"impact",className:"py-24 bg-slate-900 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-12 text-center",children:[o.jsx(to,{value:"25k+",label:"Lives Impacted"}),o.jsx(to,{value:"1.2k",label:"Active Volunteers"}),o.jsx(to,{value:"450+",label:"Events Organized"}),o.jsx(to,{value:"50+",label:"Cities Covered"})]})})]}),o.jsx("section",{className:"py-12 bg-slate-50 border-b border-slate-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsx("p",{className:"text-center text-slate-500 text-sm font-semibold uppercase tracking-wider mb-8",children:"Trusted by Community Leaders"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-12 md:gap-20 opacity-70",children:[o.jsx(sl,{name:"CityHospital"}),o.jsx(sl,{name:"EcoGreen"}),o.jsx(sl,{name:"FoodBank"}),o.jsx(sl,{name:"EduTech"}),o.jsx(sl,{name:"HelpingHands"})]})]})}),o.jsx("section",{className:"py-24 bg-white",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-12 items-start",children:[o.jsxs("div",{className:"md:w-5/12 bg-rose-500 rounded-3xl p-8 text-white shadow-2xl shadow-rose-200 relative overflow-hidden group cursor-pointer",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl group-hover:bg-white/20 transition-colors"}),o.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-xs font-bold mb-6 backdrop-blur-sm",children:"NEXT BIG EVENT"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"text-6xl font-black mb-1",children:"15"}),o.jsx("div",{className:"text-2xl font-medium opacity-90",children:"December"})]}),o.jsx("h3",{className:"text-3xl font-bold mb-4 leading-tight",children:"Mega Blood Donation Drive"}),o.jsx("p",{className:"text-rose-100 mb-8 leading-relaxed",children:"Join us at the City Community Hall to save lives. Our target is 500 units!"}),o.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-rose-600/50 px-3 py-1.5 rounded-lg",children:[o.jsx(Mo,{className:"w-4 h-4"})," 9:00 AM"]}),o.jsxs("div",{className:"flex items-center gap-2 bg-rose-600/50 px-3 py-1.5 rounded-lg",children:[o.jsx(ib,{className:"w-4 h-4"})," Boston Hall"]})]})]}),o.jsxs("div",{className:"md:w-7/12 flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Mark Your Calendar"}),o.jsx("a",{href:"#/activities",className:"text-rose-600 font-bold text-sm hover:underline",children:"View All"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(so,{day:"20",month:"Dec",title:"Winter Warmth Distribution",time:"10:00 AM - 2:00 PM",location:"Central Square"}),o.jsx(so,{day:"05",month:"Jan",title:"Riverside Park Cleanup",time:"7:00 AM - 11:00 AM",location:"Riverside Park"}),o.jsx(so,{day:"12",month:"Jan",title:"Health Awareness Workshop",time:"5:00 PM - 7:00 PM",location:"Public Library"}),o.jsx(so,{day:"18",month:"Feb",title:"Charity Marathon 2025",time:"6:00 AM - 12:00 PM",location:"City Stadium"})]})]})]})})}),o.jsx("section",{className:"py-24 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Latest from the Community"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12 text-left",children:[o.jsx(Ed,{category:"Drive",title:"Mega Blood Donation Camp 2024",date:"Dec 15, 2024",image:"bg-rose-100"}),o.jsx(Ed,{category:"Social",title:"Winter Warmth Distribution",date:"Dec 20, 2024",image:"bg-amber-100"}),o.jsx(Ed,{category:"Green",title:"Riverside Park Cleanup",date:"Jan 05, 2025",image:"bg-emerald-100"})]}),o.jsxs("a",{href:"#/activities",className:"inline-flex items-center gap-2 font-bold text-slate-900 border-b-2 border-rose-500 pb-0.5 hover:text-rose-600 transition-colors",children:["View All Activities ",o.jsx(Fs,{className:"w-4 h-4"})]})]})}),o.jsx("section",{className:"py-24 bg-slate-50 border-t border-slate-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[o.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-xs font-bold uppercase tracking-wider mb-6 border border-blue-100",children:"Social Community"}),o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-slate-900",children:"Follow Our Journey"}),o.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto mb-12",children:"Join 15,000+ community members online. We share daily updates, success stories, and urgent requirements here."}),o.jsxs("div",{className:"flex justify-center gap-4 mb-16",children:[o.jsx("a",{href:"#",className:"p-4 rounded-2xl bg-white border border-slate-200 text-slate-400 hover:text-[#1DA1F2] hover:border-[#1DA1F2]/30 hover:shadow-lg hover:shadow-[#1DA1F2]/10 transition-all duration-300",children:o.jsx(_h,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"p-4 rounded-2xl bg-white border border-slate-200 text-slate-400 hover:text-[#E1306C] hover:border-[#E1306C]/30 hover:shadow-lg hover:shadow-[#E1306C]/10 transition-all duration-300",children:o.jsx(Fx,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"p-4 rounded-2xl bg-white border border-slate-200 text-slate-400 hover:text-[#4267B2] hover:border-[#4267B2]/30 hover:shadow-lg hover:shadow-[#4267B2]/10 transition-all duration-300",children:o.jsx(Yx,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"p-4 rounded-2xl bg-white border border-slate-200 text-slate-400 hover:text-[#0077b5] hover:border-[#0077b5]/30 hover:shadow-lg hover:shadow-[#0077b5]/10 transition-all duration-300",children:o.jsx(Zx,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-left",children:[o.jsx(Td,{platform:"twitter",author:"CommunityDB",handle:"community_db",content:"Huge shoutout to the 50 volunteers who showed up for the Riverside cleanup today! You guys are heroes.  #CleanCity #Volunteer",date:"2h ago",likes:"124",comments:"12"}),o.jsx(Td,{platform:"instagram",author:"CommunityDB",handle:"community_db",content:"Faces of hope!  Thank you to everyone who donated blood at the City Hall drive. We collected 450 units! ",image:"bg-rose-100",date:"5h ago",likes:"856",comments:"45"}),o.jsx(Td,{platform:"twitter",author:"CommunityDB",handle:"community_db",content:"Urgent: We need 2 volunteers with vehicles for food distribution in North District tomorrow morning. DM if available! ",date:"1d ago",likes:"89",comments:"8"})]})]})}),o.jsx("section",{className:"py-24 bg-rose-50/50",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[o.jsxs("div",{className:"md:w-1/2",children:[o.jsx("div",{className:"inline-block px-4 py-2 rounded-full bg-rose-100 text-rose-700 font-bold text-sm mb-6",children:"Join the Family"}),o.jsxs("h2",{className:"text-4xl font-bold mb-6 text-slate-900",children:["Everyone has a role to play. ",o.jsx("br",{}),o.jsx("span",{className:"text-rose-500",children:"What's yours?"})]}),o.jsx("p",{className:"text-lg text-slate-600 mb-8 leading-relaxed",children:"Whether you have time to spare, resources to share, or just a willingness to help, there's a place for you here."}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Sd,{text:"Verify volunteer hours for students"}),o.jsx(Sd,{text:"Connect with like-minded locals"}),o.jsx(Sd,{text:"Make a tangible difference today"})]})]}),o.jsxs("div",{className:"md:w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(ao,{title:"Volunteer",icon:ma,desc:"Lead events & coordinate.",color:"bg-sky-50 text-sky-600"}),o.jsx(ao,{title:"Donor",icon:vs,desc:"Give blood or resources.",color:"bg-rose-50 text-rose-600"}),o.jsx(ao,{title:"Partner",icon:Zd,desc:"NGOs & Hospitals.",color:"bg-amber-50 text-amber-600"}),o.jsx(ao,{title:"Organizer",icon:qt,desc:"Plan local drives.",color:"bg-emerald-50 text-emerald-600"})]})]})})}),o.jsx("footer",{className:"bg-white border-t border-slate-200 pt-16 pb-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-slate-900 rounded-lg flex items-center justify-center text-white",children:o.jsx(vs,{className:"w-4 h-4 fill-white"})}),o.jsx("span",{className:"font-bold text-lg text-slate-900",children:"CommunityDB"})]}),o.jsxs("div",{className:"flex gap-8 text-sm text-slate-500",children:[o.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Contact Support"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Ad,{}),o.jsx(Ad,{}),o.jsx(Ad,{})]})]}),o.jsx("div",{className:"mt-12 text-center text-sm text-slate-400",children:" 2024 CommunityDB. Built for the people, by the people."})]})})]})}function Nd({icon:s,title:a,description:n,color:l}){const c={rose:"bg-rose-100 text-rose-600 group-hover:bg-rose-600 group-hover:text-white",emerald:"bg-emerald-100 text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white",amber:"bg-amber-100 text-amber-600 group-hover:bg-amber-600 group-hover:text-white"};return o.jsxs("div",{className:"group p-8 rounded-3xl border border-slate-100 bg-slate-50 hover:bg-white hover:shadow-xl hover:shadow-slate-200 transition-all duration-300",children:[o.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center mb-6 transition-colors ${c[l]}`,children:o.jsx(s,{className:"w-7 h-7"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:a}),o.jsx("p",{className:"text-slate-600 leading-relaxed",children:n})]})}function to({value:s,label:a}){return o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl md:text-5xl font-black mb-2 text-transparent bg-clip-text bg-gradient-to-b from-white to-white/70",children:s}),o.jsx("div",{className:"text-slate-400 font-medium uppercase tracking-wider text-sm",children:a})]})}function Sd({text:s}){return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600 flex-shrink-0",children:o.jsx(Zr,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-slate-700 font-medium",children:s})]})}function ao({title:s,desc:a,icon:n,color:l}){return o.jsxs("div",{className:"p-6 rounded-2xl bg-white border border-slate-100 hover:border-slate-300 hover:shadow-lg transition-all cursor-pointer group",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-4 ${l}`,children:o.jsx(n,{className:"w-5 h-5"})}),o.jsx("h4",{className:"font-bold text-slate-900 mb-1",children:s}),o.jsx("p",{className:"text-sm text-slate-500",children:a})]})}function Ed({category:s,title:a,date:n,image:l}){return o.jsxs("div",{className:"group cursor-pointer",children:[o.jsx("div",{className:`h-48 rounded-2xl ${l} mb-4 overflow-hidden relative`,children:o.jsx("div",{className:"absolute inset-0 bg-black/5 group-hover:bg-transparent transition-colors"})}),o.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold uppercase tracking-wider text-slate-400 mb-2",children:[o.jsx("span",{className:"text-rose-500",children:s}),o.jsx("span",{children:""}),o.jsx("span",{children:n})]}),o.jsx("h3",{className:"text-xl font-bold leading-tight group-hover:text-rose-600 transition-colors",children:a})]})}function Td({platform:s,author:a,handle:n,content:l,date:c,likes:u,comments:h,image:p}){const m=s==="twitter"?_h:Fx;return o.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow text-left",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center font-bold text-slate-500",children:a[0]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-slate-900 leading-none",children:a}),o.jsxs("div",{className:"text-xs text-slate-500",children:["@",n]})]})]}),o.jsx(m,{className:`w-5 h-5 ${s==="twitter"?"text-sky-500":"text-pink-500"}`})]}),o.jsx("p",{className:"text-slate-700 text-sm mb-4 leading-relaxed",children:l}),p&&o.jsx("div",{className:`h-48 rounded-xl ${p} mb-4 bg-cover bg-center`}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 font-medium border-t border-slate-50 pt-3",children:[o.jsx("span",{children:c}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{className:"flex items-center gap-1 hover:text-rose-500 transition-colors cursor-pointer",children:[o.jsx(AS,{className:"w-3.5 h-3.5"})," ",u]}),o.jsxs("span",{className:"flex items-center gap-1 hover:text-blue-500 transition-colors cursor-pointer",children:[o.jsx(QN,{className:"w-3.5 h-3.5"})," ",h]})]})]})]})}function Ad(){return o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200 hover:text-slate-600 transition-colors cursor-pointer",children:o.jsx("div",{className:"w-4 h-4 bg-current rounded-sm"})})}function so({day:s,month:a,title:n,time:l,location:c}){return o.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group cursor-pointer",children:[o.jsxs("div",{className:"flex-shrink-0 w-14 h-14 bg-slate-100 rounded-lg flex flex-col items-center justify-center text-slate-600 font-bold leading-tight group-hover:bg-rose-100 group-hover:text-rose-600 transition-colors",children:[o.jsx("span",{className:"text-xs uppercase",children:a}),o.jsx("span",{className:"text-lg",children:s})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 group-hover:text-rose-600 transition-colors",children:n}),o.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Mo,{className:"w-3 h-3"})," ",l]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ib,{className:"w-3 h-3"})," ",c]})]})]})]})}function sl({name:s}){return o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-bold text-xl group cursor-pointer hover:text-slate-600 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded-full group-hover:bg-rose-200 transition-colors"}),o.jsx("span",{children:s})]})}function ib({className:s}){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[o.jsx("path",{d:"M20 10c0 6-9 13-9 13s-9-7-9-13a9 9 0 0 1 18 0Z"}),o.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}const v5=[{id:1,title:"Mega Blood Donation Camp 2024",category:"Drive",date:"Dec 15, 2024",location:"City Community Hall, Boston",image:"bg-rose-100",excerpt:"Join us for our biggest annual blood donation drive. Our target is to collect 500 units to support local hospitals.",content:"Full content would go here..."},{id:2,title:"Winter Warmth: Clothing Distribution",category:"Social Service",date:"Dec 20, 2024",location:"Central Square",image:"bg-amber-100",excerpt:"Help us distribute warm clothes and blankets to the homeless this winter. Donations are welcome until Dec 18.",content:"Full content would go here..."},{id:3,title:"Community Clean-up: Riverside Park",category:"Environment",date:"Jan 05, 2025",location:"Riverside Park",image:"bg-emerald-100",excerpt:"Lets start the new year with a green act! Join 50+ volunteers to clean up our beloved Riverside Park.",content:"Full content would go here..."},{id:4,title:"Health Awareness Workshop",category:"Education",date:"Jan 12, 2025",location:"Public Library Auditorium",image:"bg-sky-100",excerpt:"A free workshop on heart health and emergency first aid, conducted by leading cardiologists.",content:"Full content would go here..."},{id:5,title:"Food Drive for Local Shelter",category:"Social Service",date:"Jan 20, 2025",location:"Community Center",image:"bg-orange-100",excerpt:"Collecting non-perishable food items for the local shelter. Volunteers needed for packing and distribution.",content:"Full content would go here..."}],y5=["All","Drive","Social Service","Environment","Education"];function w5(){const[s,a]=N.useState("All"),[n,l]=N.useState(""),c=v5.filter(u=>{const h=s==="All"||u.category===s,p=u.title.toLowerCase().includes(n.toLowerCase())||u.excerpt.toLowerCase().includes(n.toLowerCase());return h&&p});return o.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[o.jsx("section",{className:"bg-slate-900 text-white py-20 px-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[o.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-rose-500/20 text-rose-300 text-xs font-bold uppercase tracking-wider mb-6 border border-rose-500/30",children:"News & Updates"}),o.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Community Happenings"}),o.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto",children:"Stay updated with our latest drives, events, and success stories. See how we are making a difference together."})]})}),o.jsx("section",{className:"py-8 border-b border-slate-200 bg-white sticky top-0 z-40 shadow-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex flex-col md:flex-row gap-4 items-center justify-between",children:[o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto no-scrollbar",children:y5.map(u=>o.jsx("button",{onClick:()=>a(u),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors
                  ${s===u?"bg-slate-900 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:u},u))}),o.jsxs("div",{className:"relative w-full md:w-64",children:[o.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search activities...",value:n,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 rounded-full bg-slate-100 border-none focus:ring-2 focus:ring-slate-900 text-sm"})]})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:c.length>0?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(u=>o.jsx(_5,{activity:u},u.id))}):o.jsxs("div",{className:"text-center py-20 text-slate-500",children:[o.jsx("p",{children:"No activities found matching your criteria."}),o.jsx("button",{onClick:()=>{a("All"),l("")},className:"mt-4 text-rose-600 font-medium hover:underline",children:"Clear Filters"})]})})}),o.jsx("section",{className:"py-20 bg-rose-50",children:o.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Never Miss an Update"}),o.jsx("p",{className:"text-slate-600 mb-8",children:"Subscribe to our weekly newsletter to get updates on upcoming drives and volunteering opportunities directly in your inbox."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[o.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-5 py-3 rounded-full border border-slate-200 focus:outline-none focus:border-rose-500"}),o.jsx("button",{className:"px-8 py-3 rounded-full bg-slate-900 text-white font-bold hover:bg-slate-800 transition-colors",children:"Subscribe"})]})]})}),o.jsx("footer",{className:"bg-white border-t border-slate-200 py-12 text-center text-sm text-slate-500",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsx("p",{children:" 2024 CommunityDB. All rights reserved."}),o.jsxs("div",{className:"mt-4 flex justify-center gap-6",children:[o.jsx("a",{href:"/",className:"hover:text-slate-900",children:"Home"}),o.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Contact"})]})]})})]})}function _5({activity:s}){return o.jsxs("article",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden hover:shadow-xl transition-all hover:-translate-y-1 flex flex-col h-full group",children:[o.jsxs("div",{className:`h-48 ${s.image} relative overflow-hidden`,children:[o.jsxs("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-700 flex items-center gap-1 shadow-sm",children:[o.jsx(NS,{className:"w-3 h-3"})," ",s.category]}),o.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-black to-transparent"})]}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(qt,{className:"w-3.5 h-3.5"}),s.date]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(_s,{className:"w-3.5 h-3.5"}),s.location]})]}),o.jsx("h3",{className:"text-xl font-bold mb-3 text-slate-900 group-hover:text-rose-600 transition-colors",children:s.title}),o.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-6 flex-1",children:s.excerpt}),o.jsxs("button",{className:"flex items-center gap-2 text-sm font-bold text-slate-900 hover:text-rose-600 transition-colors mt-auto group/btn",children:["Read Full Story",o.jsx(Fs,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]})]})]})}function j5(){const s=Pa(),a=tn(),[n,l]=N.useState(""),[c,u]=N.useState(""),[h,p]=N.useState(null),m=ga(),{initialized:g,role:b,user:y,loading:w}=Qe(S=>S.auth);N.useEffect(()=>{g&&b&&s("/admin",{replace:!0})},[g,b,s]);const k=async S=>{S.preventDefault(),a(wg(!0)),p(null);try{const{data:T,error:j}=await oe.auth.signInWithPassword({email:n,password:c});if(j)throw j;if(!T.user)throw new Error("No user returned from Supabase.");const _=await xt.getCurrentUserRole();if(!_)throw new Error("You are not authorized to access the admin panel.");a(q2({user:{id:T.user.id,email:T.user.email||""},role:_})),s("/admin")}catch(T){const j=T.message||"Login failed";p(j),a(P2(j))}finally{wg(!1)}};return N.useEffect(()=>{b&&y&&m.pathname==="/login"&&s("/admin",{replace:!0})},[b,y,m.pathname,s]),o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-black flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-rose-500 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-rose-500/20",children:"HB"}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Sign in to CommunityDB"}),o.jsx("p",{className:"mt-2 text-center text-sm text-slate-600 dark:text-slate-400",children:"Authorized personnel only"})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsx("div",{className:"bg-white dark:bg-neutral-900 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-slate-200 dark:border-neutral-800",children:o.jsxs("form",{className:"space-y-6",onSubmit:k,children:[h&&o.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/20 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx(Va,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Login Failed"}),o.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:h})]})]})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),o.jsx("input",{id:"email",type:"email",value:n,onChange:S=>l(S.target.value),required:!0,autoComplete:"email",className:"mt-1 block w-full rounded-md border border-slate-300 dark:border-neutral-700 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-rose-500 focus:ring-rose-500 dark:bg-neutral-800 dark:text-white sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),o.jsx("input",{id:"password",type:"password",value:c,onChange:S=>u(S.target.value),autoComplete:"current-password",required:!0,className:"mt-1 block w-full rounded-md border border-slate-300 dark:border-neutral-700 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-rose-500 focus:ring-rose-500 dark:bg-neutral-800 dark:text-white sm:text-sm"})]}),o.jsx("button",{type:"submit",disabled:w,className:"flex w-full justify-center items-center gap-2 rounded-md border border-transparent bg-rose-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:w?n===""&&c===""?o.jsxs(o.Fragment,{children:[o.jsx(Nt,{className:"h-4 w-4 animate-spin"})," Auto Logging in..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Nt,{className:"h-4 w-4 animate-spin"})," Signing in..."]}):o.jsxs(o.Fragment,{children:[o.jsx(VN,{className:"h-4 w-4"})," Sign in"]})})]})})})]})}function k5({children:s}){const{role:a,initialized:n,loading:l}=Qe(c=>c.auth);return l||!n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-black",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):a?o.jsx(o.Fragment,{children:s}):o.jsx(ek,{to:"/login",replace:!0})}function N5(){const[s,a]=N.useState(!1),n=tn(),l=zg(c=>c.auth.user);return N.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]),N.useEffect(()=>{},[l]),N.useEffect(()=>{const{data:{subscription:c}}=oe.auth.onAuthStateChange(async(u,h)=>{console.log("[App] Auth state changed:",u,{email:h?.user?.email}),console.log("[APP] Session",h),u==="SIGNED_IN"&&h?.user?(console.log("[App] SIGNED_IN event. Fetching role..."),n(lo({id:h.user.id,email:h.user.email||""}))):u==="SIGNED_OUT"&&n(H2())});return()=>c.unsubscribe()},[n]),o.jsx(Sk,{children:o.jsxs(ak,{children:[o.jsxs(ht,{element:o.jsx(zk,{}),children:[o.jsx(ht,{path:"/",element:o.jsx(b5,{onEnterApp:()=>{}})}),o.jsx(ht,{path:"/activities",element:o.jsx(w5,{})})]}),o.jsx(ht,{path:"/login",element:o.jsx(j5,{})}),o.jsxs(ht,{path:"/admin",element:o.jsx(k5,{children:o.jsx(ZS,{})}),children:[o.jsx(ht,{index:!0,element:o.jsx(WS,{})}),o.jsx(ht,{path:"people",element:o.jsx(t5,{})}),o.jsx(ht,{path:"people/:id",element:o.jsx(f5,{})}),o.jsx(ht,{path:"volunteers",element:o.jsx(a5,{})}),o.jsx(ht,{path:"events",element:o.jsx(n5,{})}),o.jsx(ht,{path:"events/:id",element:o.jsx(d5,{})}),o.jsx(ht,{path:"analytics",element:o.jsx(h5,{})}),o.jsx(ht,{path:"profile",element:o.jsx(m5,{})}),o.jsx(ht,{path:"settings",element:o.jsx(p5,{isDark:s,toggleTheme:()=>a(!s)})}),o.jsx(ht,{path:"bulk",element:o.jsx(x5,{})})]})]})})}qy.createRoot(document.getElementById("root")).render(o.jsx(N.StrictMode,{children:o.jsx(sw,{store:aj,children:o.jsx(N5,{})})}));
